{"version":3,"sources":["src/js/main.js","../../src/js/common/scroll/scroll.service.js","../../src/js/app.component.js","../../src/js/common/alt/alt.directive.js","../../src/js/common/intersection/intersection.service.js","../../src/js/common/appear/appear.directive.js","../../src/js/common/click-outside/click-outside.directive.js","../../src/js/common/utils/utils.js","../../src/js/environment.js","../../src/js/environment.static.js","../../src/js/environment.served.js","../../src/js/common/date/date.pipe.js","../../src/js/common/download/download.directive.js","../../src/js/common/locomotive-scroll/locomotive-scroll.service.js","../../src/js/common/dropdown/dropdown.directive.js","../../src/js/common/dropdown/dropdown-item.directive.js","../../src/js/common/ellipsis/ellipsis.directive.js","../../src/js/common/env/env.pipe.js","../../src/js/common/filter/filter-item.component.js","../../src/js/common/flag/flag.pipe.js","../../src/js/common/modal/modal.service.js","../../src/js/common/modal/modal-outlet.component.js","../../src/js/common/gallery/gallery-modal.component.js","../../src/js/common/gallery/gallery.component.js","../../src/js/common/highlight/highlight.pipe.js","../../src/js/common/html/html.pipe.js","../../src/js/common/id/id.directive.js","../../src/js/common/label-for/label-for.directive.js","../../src/js/common/label/label.pipe.js","../../src/js/common/name/name.directive.js","../../src/js/common/number/number.pipe.js","../../src/js/common/relative-date/relative-date.pipe.js","../../src/js/common/scroll-menu/scroll-menu.directive.js","../../src/js/common/scroll-to/scroll-to.directive.js","../../src/js/common/scroll/scroll-sticky.directive.js","../../src/js/common/scroll/scroll.directive.js","../../src/js/common/share/share.directive.js","../../src/js/common/slug/slug.pipe.js","../../src/js/common/svg/svg-icon.structure.js","../../src/js/common/swiper/swiper.directive.js","../../src/js/common/thron/thron.service.js","../../src/js/common/thron/thron.component.js","../../src/js/common/title/title.directive.js","../../src/js/common/toggle/toggle.directive.js","../../src/js/common/common.module.js","../../src/js/controls/control.component.js","../../src/js/controls/control-checkbox.component.js","../../src/js/common/keyboard/keyboard.service.js","../../src/js/controls/control-custom-select.component.js","../../src/js/controls/control-email.component.js","../../src/js/controls/control-file.component.js","../../src/js/controls/control-password.component.js","../../src/js/controls/control-privacy.component.js","../../src/js/controls/control-search.component.js","../../src/js/controls/control-text.component.js","../../src/js/controls/control-textarea.component.js","../../src/js/controls/errors.component.js","../../src/js/controls/test.component.js","../../src/js/controls/controls.module.js","../../src/js/pages/card-product-detail/card-product-detail.component.js","../../src/js/controls/form.service.js","../../src/js/common/http/http.service.js","../../src/js/common/location/location.service.js","../../src/js/common/language/language.service.js","../../src/js/common/api/api.service.js","../../src/js/pages/contact-modal/contacts.service.js","../../src/js/pages/card-sale-detail/card-sale-detail.component.js","../../src/js/common/gtm/gtm.service.js","../../src/js/pages/careers/careers.service.js","../../src/js/pages/careers/careers-modal.component.js","../../src/js/pages/contact-modal/contact-modal.component.js","../../src/js/pages/open-modally/open-modally.directive.js","../../src/js/pages/product-request/product-request.service.js","../../src/js/pages/product-request/product-request.component.js","../../src/js/pages/sales/sales.service.js","../../src/js/pages/sales/sales-modal.component.js","../../src/js/pages/side-modal/side-modal.component.js","../../src/js/partials/swiper-content/swiper-content.directive.js","../../src/js/partials/swiper-gallery/swiper-gallery.directive.js","../../src/js/partials/swiper-main/swiper-main.directive.js","../../src/js/partials/swiper-toolkit/swiper-toolkit.directive.js","../../src/js/shared/error/error.component.js","../../src/js/shared/menu/menu.service.js","../../src/js/shared/header/header.service.js","../../src/js/shared/header/header.component.js","../../src/js/shared/newsletter-proposition/newsletter-proposition.component.js","../../src/js/shared/switch/switch.component.js","../../src/js/common/storage/session-storage.service.js","../../src/js/shared/user/user.service.js","../../src/js/shared/user/user-delete.component.js","../../src/js/shared/user/user-detail.component.js","../../src/js/shared/user/user-edit-password.component.js","../../src/js/controls/required-if.validator.js","../../src/js/shared/user/user-edit.component.js","../../src/js/shared/user/user-forgot.component.js","../../src/js/shared/user/user.component.js","../../src/js/shared/user/user-modal.component.js","../../src/js/shared/user/user-signin.component.js","../../src/js/controls/match.validator.js","../../src/js/shared/user/user-signup.component.js","../../src/js/shared/shared.module.js","../../src/js/app.module.js","../../src/js/main.js"],"names":["g","f","exports","module","require","define","amd","globalThis","self","rxcomp","form","rxjs","operators","this","rxcompForm","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_defineProperties","props","descriptor","configurable","writable","_createClass","Constructor","protoProps","staticProps","prototype","obj","value","_inheritsLoose","subClass","superClass","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_assertThisInitialized","ReferenceError","ScrollService","scroll","scroll$","next","init$","node","previousY","window","pageYOffset","event","direction","x","y","speed","fromEvent","pipe","first","delay","switchMap","_","startWith","map","scrollTo","options","offset","body","document","querySelector","currentTop","scrollTop","distance","getBoundingClientRect","top","pow","gsap","set","scroll-behavior","disableLerp","to","duration","Math","abs","ease","Quad","easeOut","overwrite","onUpdate","onComplete","scrollToSelector","selector","ReplaySubject","AppComponent","_Component","onInit","getContext","classList","remove","console","log","takeUntil","unsubscribe$","subscribe","Component","meta","AltDirective","_Directive","onChanges","setAttribute","alt","Directive","inputs","IntersectionService","observer","_this","observer_","readySubject_","BehaviorSubject","observerSubject_","Subject","IntersectionObserver","entries","root","rootMargin","threshold","intersection$","observe","find","entry","undefined","finalize","unobserve","of","AppearDirective","add","intersectionRatio","ClickOutsideDirective","initialFocus","_getContext","parentInstance","event$","contains","shareReplay","expression","getAttribute","outputFunction","makeFunction","resolve","clickOutside$","Utils","merge","Array","isArray","NODE","BASE_HREF","get","URLSearchParams","location","search","HEROKU","host","indexOf","STATIC","port","DEVELOPMENT","split","ENV","PRODUCTION","Environment","_proto","assign","getAbsoluteUrl","path","params","url","origin","replace","getPath","isLocal","href","githubDocs","defaultOptions","flags","production","heroku","slug","markets","defaultMarket","currentMarket","languages","defaultLanguage","currentLanguage","labels","select","browse","cancel","error_email","error_match","error_required","loading","required","select_file","update","upload","drag_and_drop_images","environmentOptions","cart","api","assets","configureProduct","reservedArea","template","modal","genericModal","sideModal","contactModal","salesModal","galleryModal","userModal","facebook","appId","fields","scope","tokenClient","version","google","clientId","linkedIn","clientSecret","googleMaps","apiKey","thron","workers","image","prefetch","environment","DatePipe","_Pipe","transform","language","Intl","DateTimeFormat","format","Date","Pipe","name","DownloadDirective","download","LocomotiveScrollService","init","useKeyboard","smoothMobile","inertia","smooth","lerp","getDirection","getSpeed","initClass","scrollingClass","draggingClass","smoothClass","scrollbarContainer","scrollbarClass","multiplier","firefoxMultiplier","touchMultiplier","scrollFromAnywhere","gestureDirection","reloadOnContextChange","resetNativeScroll","el","useLocomotiveScroll","instance","LocomotiveScroll","innerWidth","isTouchDevice","userAgent","navigator","toLowerCase","isTablet","test","isSmartphone","isMacLike","platform","isIOS","isMacOs","isSafari","vendor","match","showefy","on","style","pointerEvents","addEventListener","stop","start","DROPDOWN_ID","DropdownDirective","trigger","opened","onClick","bind","onDocumentClick","openDropdown","closeDropdown","addListeners","dropdown$","id","addDocumentListeners","dropped","removeDocumentListeners","getValue","removeListeners","removeEventListener","onDestroy","nextId","dropdown","id_","outputs","DropdownItemDirective","enter$","leave$","tap","EllipsisDirective","originalText","innerText","resize$","text","scrollHeight","offsetHeight","words","pop","join","EnvPipe","keypath","env","k","shift","FilterItemComponent","closeFilter","active","change","toggleFilter","filters","clearFilter","preventDefault","stopImmediatePropagation","clear","onEnter","onLeave","FlagPipe","ModalEvent","data","ModalResolveEvent","_ModalEvent","ModalRejectEvent","_ModalEvent2","ModalService","open$","busy$","getTemplate$","src","getNode","modal$","hasModal","events$","load$","from","fetch","then","response","div","createElement","innerHTML","firstElementChild","reject","ModalOutletComponent","busy_","modalNode","busy","onClose","modal_","removeChild","appendChild","compile","pushChanges","GalleryModalComponent","items","item","isImg","isVideo","initialSlide","header","lastIndex","lastIndexOf","ext","substring","GalleryComponent","dataset","originalInnerHTML","click$","currentSrc","slice","call","querySelectorAll","parentNode","cloneNode","setSrcNode","addGallery","listeners$","close","close$","prev$","next$","reduce","c","_this2","button","unregister","_this3","swiperInstance","slidePrev","_this4","slideNext","indexNode","index","total","EMPTY","getSrcNode","srcNode","tagName","HighlightPipe","query","escapedQuery","escapeRegexChars","regExp","RegExp","g1","g2","safeToString","toString","trim","encodeHTML","decodeHTML","HtmlPipe","m","n","String","fromCharCode","parseInt","unescapes","rx","IdDirective","LabelForDirective","labelFor","LabelPipe","labels_","getKeys","_len","_key","setLabels","LABELS","NameDirective","NumberPipe","NumberFormat","DIVISIONS","amount","Number","POSITIVE_INFINITY","RelativeDatePipe","numeric","date","formatter","RelativeTimeFormat","division","round","ScrollMenuDirective","anchors","hasAttribute","a","tops","sort","b","nearest","index_","ScrollToDirective","scrollTo$","_getContext2","result","tween","html","documentElement","ScrollStickyDirective","args","concat","targetNode","until","sticky$","rect","bottom","innerHeight","sticked","height","min","sticked_","ScrollDirective","container","scrollSpeed","parseFloat","clearProps","wh","left","width","currentY","getProperty","ShareDirective","share","open","encodeURI","encodeURIComponent","charCodeAt","facebookUrl","pinterestUrl","linkedInUrl","twitterUrl","whatsappUrl","mailToUrl","title","shareTitle","shareUrl","SlugPipe","SvgIconStructure","_Structure","name_","_element$classList","element","createElementNS","w","h","setAttributeNS","rxcompId","replaceChild","Structure","SwiperDirective","slidesPerView","spaceBetween","centeredSlides","autoplay","keyboardControl","mousewheelControl","pagination","clickable","keyboard","enabled","onlyInViewport","init_","swiperInitOrUpdate_","removeListeners_","swiperDestroy_","onBeforePrint","slideToIndex","swiper","slideTo","hasPrev","activeIndex","slides","hasNext","opacity","slideChange","addListeners_","callback","swiperDirectiveInit","Power2","setTimeout","Swiper","_opening","destroy","realIndex","matchMedia","matches","ThronService","thron$","THRONContentExperience","THRONPlayer","script","loaded$","head","ID","ThronComponent","THRON","media","splitted","controls","loop","player","muted","displayLinked","noSkin","onReady","onCanPlay","onPlaying","onPlay","onPause","video","mediaContainer","ready","canPlay","off","qualities","qualityLevels","highestQuality","currentQuality","playing","play","pause","complete","playVideo","status","pauseVideo","toggle","playing_","TitleDirective","title_","removeAttribute","ToggleDirective","factories","pipes","CommonModule","_Module","Module","imports","declarations","UID","ControlComponent","uid","label","control","ControlCheckboxComponent","_ControlComponent","link$","anchor","stopPropagation","htmlDocument","DOMParser","parseFromString","abstract","description","KeyboardService","keydown$","keydown$_","keyup$","keyup$_","keys$","keys$_","type","key$","key$_","regexp","typing$","typing$_","typing","clearTimeout","ControlCustomSelectComponent","dropdownId","word","scrollToWord","children","offsetTop","setOption","isMultiple","splice","TypeError","_readOnlyError","hasOption","getLabel","v","onDropped","$event","touched","multiple","ControlEmailComponent","ControlFileComponent","file","onReaderComplete","onInputDidChange","files","lastModified","lastModifiedDate","size","reader","FileReader","readAsDataURL","content","ControlPasswordComponent","ControlPrivacyComponent","input","onSelect","ControlSearchComponent","disabled","ControlTextComponent","ControlTextareaComponent","ErrorsComponent","TestComponent","onTest","onReset","reset","ControlsModule","CardProductDetailComponent","onRequestInfo","FormService","toOptions","toSelectOptions","unshift","HttpService","http$","method","userPass","response_","headers","Accept","Content-Type","JSON","stringify","credentials","btoa","Headers","typedResponse","contentType","json","ok","Promise","error","warn","catchError","throwError","getError","get$","delete$","post$","put$","patch$","statusCode","statusMessage","statusText","LocationService","has","keyOrValue","pushParams","history","pushState","replaceState","pathname","state","deserialize","encoded","decode","serialize","encode","decoded","atob","parse","LanguageService","getDefaultLanguages","alternates","getDefaultLanguage","lang","setLanguage","selectedLanguage","setLanguage$","labelsMatch","exec","Function","bhereMatch","bhere","activeLanguage","toggleLanguages","showLanguages","ApiService","_HttpService","ContactsService","data$","submit$","payload","CardSaleDetailComponent","FormGroup","country","FormControl","Validators","RequiredValidator","changes$","valid","productName","countryOfInterestId","GtmService","dataLayer","push_","CareersService","CareersModalComponent","countryId","success","firstName","lastName","company","address","city","zip","email","EmailValidator","privacy","RequiredTrueValidator","checkRequest","antiforgery","checkField","patch","onSubmit","model","submitted","form_name","ContactModalComponent","subject","message","OpenModallyDirective","ProductRequestService","ProductRequestComponent","SalesService","SalesModalComponent","countryOfInterest","SideModalComponent","instances","SwiperContentDirective","_SwiperDirective","navigation","prevEl","nextEl","SwiperGalleryDirective","SwiperMainDirective","SwiperToolkitDirective","ErrorComponent","showDetail","onDetailToggle","MenuService","setMenu","menu$_","toggleMenu","currentMenu","onBack","menu$","HeaderService","setHeader","header$_","toggleHeader","currentHeader","header$","HeaderComponent","menu","scrolled","onToggle","onMenu","direction_","scrolled_","NewsletterPropositionComponent","onNewsletter","action","SwitchComponent","over","onResize","clipPath","overPath","Elastic","clip-path","SessionStorageService","delete","isSessionStorageSupported","sessionStorage","removeItem","exist","e","cache","setItem","supported","UserViews","SIGN_IN","SIGN_UP","FORGOTTEN","EDIT","User","substr","toUpperCase","UserService","setUser","user","user$_","forgot$","me$","busyMe","sessionUser","mapUser","signin$","signout$","signup$","edit$","_this5","editPassword$","accessData$","gdpr$","tryFacebook$","me","tryGoogle$","tryLinkedin$","sessionStorage$","mapUsers","users","UserDeleteComponent","password","UserDetailComponent","countries","occupations","newsletterLanguages","gdpr","combineLatest","datas","occupation","newsletterLanguage","onModalUserUpdate","view","onModalGdpr","legalNote","countryName","occupationName","newsletterLanguageName","UserEditPasswordComponent","tokenEncoded","RequiredIfValidator","fieldName","formGroup","shouldBe","FormValidator","field","requiredIf","UserEditComponent","responseMessage","newsletter","commercial","promotion","results","UserForgotComponent","forgot","onSignIn","viewSignIn","onSignUp","viewSignUp","UserComponent","views","onModalSignIn","onModalSignUp","skipAutoClose","setView","onViewSignIn","onViewSignUp","onViewForgot","navTo","onForgot","UserModalComponent","_UserComponent","UserSigninComponent","signIn","viewForgot","UserSignupComponent","passwordConfirm","signUp","SharedModule","AppModule","CoreModule","FormModule","bootstrap","Browser","getElementsByClassName","classnameElement","parentElement"],"mappings":"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","file":"docs\\js\\main.min.js","sourcesContent":[null,"import { fromEvent, ReplaySubject } from 'rxjs';\r\nimport { delay, first, map, startWith, switchMap } from 'rxjs/operators';\r\n\r\nexport class ScrollService {\r\n\r\n\tstatic scroll$ = new ReplaySubject(1);\r\n\tstatic scroll(scroll) {\r\n\t\t// console.log('ScrollService.scroll', scroll);\r\n\t\tthis.scroll$.next(scroll);\r\n\t}\r\n\r\n\tstatic init$(node) {\r\n\t\tlet previousY = window.pageYOffset;\r\n\t\tconst event = { direction: null, scroll: { x: 0, y: 0 }, speed: 0 };\r\n\t\treturn fromEvent(window, 'DOMContentLoaded').pipe(\r\n\t\t\t// tap(_ => console.log('ScrollService.DOMContentLoaded')),\r\n\t\t\tfirst(),\r\n\t\t\tdelay(1),\r\n\t\t\tswitchMap(_ => fromEvent(window, 'scroll')),\r\n\t\t\tstartWith(true),\r\n\t\t\t// tap(_ => console.log('ScrollService.scroll')),\r\n\t\t\tmap(_ => {\r\n\t\t\t\t/*\r\n\t\t\t\tconst body = document.querySelector('body');\r\n\t\t\t\tlet previousY = body.scrollTop;\r\n\t\t\t\tbody.addEventListener('scroll', () => {\r\n\t\t\t\t\tconst y = body.scrollTop;\r\n\t\t\t\t\tconst direction = y >= previousY ? 'down' : 'up';\r\n\t\t\t\t\tif (Math.abs(y - previousY) > 90) {\r\n\t\t\t\t\t\t// console.log('scroll', y, direction);\r\n\t\t\t\t\t\tpreviousY = y;\r\n\t\t\t\t\t\tevent.direction = direction;\r\n\t\t\t\t\t\tevent.scroll.y = y;\r\n\t\t\t\t\t\tScrollService.scroll(event);\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\t\t\t\t*/\r\n\t\t\t\tconst y = window.pageYOffset;\r\n\t\t\t\tconst direction = y >= previousY ? 'down' : 'up';\r\n\t\t\t\t// console.log(Math.abs(y - previousY) > 90);\r\n\t\t\t\t// if (Math.abs(y - previousY) > 90) {\r\n\t\t\t\tpreviousY = y;\r\n\t\t\t\tevent.direction = direction;\r\n\t\t\t\tevent.scroll.y = y;\r\n\t\t\t\tScrollService.scroll(event);\r\n\t\t\t\t// }\r\n\t\t\t\treturn event;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic scrollTo(target, options = { offset: -130 }) {\r\n\t\tconst body = document.querySelector('body');\r\n\t\tconst currentTop = body.scrollTop; // window.pageYOffset; // body.scrollTop;\r\n\t\tconst targetTop = currentTop + target.getBoundingClientRect().top + options.offset;\r\n\t\tconst distance = targetTop - currentTop;\r\n\t\tconst o = { pow: 0 };\r\n\t\tgsap.set(body, {\r\n\t\t\t'scroll-behavior': 'auto'\r\n\t\t});\r\n\t\tif (options.disableLerp) {\r\n\t\t\tgsap.set(body, {\r\n\t\t\t\t'scrollTop': currentTop + distance\r\n\t\t\t});\r\n\t\t\tgsap.set(body, {\r\n\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tgsap.to(o, {\r\n\t\t\t\tduration: Math.abs(distance) / 2000,\r\n\t\t\t\tpow: 1,\r\n\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\toverwrite: 'all',\r\n\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\tgsap.set(body, {\r\n\t\t\t\t\t\t'scrollTop': currentTop + distance * o.pow\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// window.scrollTo(0, currentTop + distance * o.pow);\r\n\t\t\t\t},\r\n\t\t\t\tonComplete: () => {\r\n\t\t\t\t\tgsap.set(body, {\r\n\t\t\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t// target.scrollIntoView();\r\n\t}\r\n\r\n\tstatic scrollToSelector(selector, options) {\r\n\t\tconst target = document.querySelector(selector);\r\n\t\tif (target) {\r\n\t\t\tScrollService.scrollTo(target, options);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { ScrollService } from './common/scroll/scroll.service';\r\n\r\nexport class AppComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.remove('hidden');\r\n\t\tconsole.log('AppComponent.onInit');\r\n\t\tScrollService.init$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t}\r\n}\r\n\r\nAppComponent.meta = {\r\n\tselector: '[app-component]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class AltDirective extends Directive {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('alt', this.alt);\r\n\t}\r\n\r\n}\r\n\r\nAltDirective.meta = {\r\n\tselector: '[[alt]]',\r\n\tinputs: ['alt']\r\n};\r\n","import { BehaviorSubject, of, Subject } from 'rxjs';\r\nimport { filter, finalize, map } from 'rxjs/operators';\r\n\r\nexport class IntersectionService {\r\n\r\n\tstatic observer() {\r\n\t\tif (!this.observer_) {\r\n\t\t\tthis.readySubject_ = new BehaviorSubject(false);\r\n\t\t\tthis.observerSubject_ = new Subject();\r\n\t\t\tthis.observer_ = new IntersectionObserver(entries => {\r\n\t\t\t\t// console.log('IntersectionService.observer', entries);\r\n\t\t\t\tthis.observerSubject_.next(entries);\r\n\t\t\t}, {\r\n\t\t\t\t// root: document.querySelector('body'),\r\n\t\t\t\troot: null, // sets the framing element to the viewport\r\n\t\t\t\trootMargin: '100px 0px 100px 0px',\r\n\t\t\t\tthreshold: [0, 0.25, 0.5, 0.75, 1],\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.observer_;\r\n\t}\r\n\r\n\tstatic intersection$(node) {\r\n\t\tif ('IntersectionObserver' in window) {\r\n\t\t\tconst observer = this.observer();\r\n\t\t\tobserver.observe(node);\r\n\t\t\treturn this.observerSubject_.pipe(\r\n\t\t\t\t// tap(entries => console.log(entries.length)),\r\n\t\t\t\tmap(entries => entries.find(entry => entry.target === node)),\r\n\t\t\t\t// tap(entry => console.log('IntersectionService.intersection$', entry)),\r\n\t\t\t\tfilter(entry => entry !== undefined),\r\n\t\t\t\t// filter(entry => entry !== undefined && entry.isIntersecting && entry.intersectionRatio > 0), // entry.intersectionRatio > 0\r\n\t\t\t\t// first(),\r\n\t\t\t\tfinalize(() => observer.unobserve(node)),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn of({ target: node });\r\n\t\t}\r\n\r\n\t\t/*\r\n\t\tfunction observer() {\r\n\t\t\tif ('IntersectionObserver' in window) {\r\n\t\t\t\treturn new IntersectionObserver(entries => {\r\n\t\t\t\t\tentries.forEach(function(entry) {\r\n\t\t\t\t\t\tif (entry.isIntersecting) {\r\n\t\t\t\t\t\t\tentry.target.classList.add('appear');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn { observe: function(node) { node.classList.add('appear')}, unobserve: function() {} };\r\n\t\t\t}\r\n\t\t}\r\n\t\tobserver.observe(node);\r\n\t\tobserver.unobserve(node);\r\n\t\t*/\r\n\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { IntersectionService } from '../intersection/intersection.service';\r\n\r\nexport class AppearDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('appear');\r\n\t\tIntersectionService.intersection$(node).pipe(\r\n\t\t\t// first(),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(entry => {\r\n\t\t\tentry.intersectionRatio > 0.5 ? node.classList.add('appeared') : node.classList.remove('appeared');\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nAppearDirective.meta = {\r\n\tselector: '[appear]',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { filter, shareReplay, takeUntil } from 'rxjs/operators';\r\n\r\nexport class ClickOutsideDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.initialFocus = false;\r\n\t\tconst { module, node, parentInstance, selector } = getContext(this);\r\n\t\tconst event$ = this.event$ = fromEvent(document, 'click').pipe(\r\n\t\t\tfilter(event => {\r\n\t\t\t\tconst target = event.target;\r\n\t\t\t\t// console.log('ClickOutsideDirective.onClick', this.element.nativeElement, target, this.element.nativeElement.contains(target));\r\n\t\t\t\t// const documentContained: boolean = Boolean(document.compareDocumentPosition(target) & Node.DOCUMENT_POSITION_CONTAINED_BY);\r\n\t\t\t\t// console.log(target, documentContained);\r\n\t\t\t\tconst clickedInside = node.contains(target) || !document.contains(target);\r\n\t\t\t\tif (!clickedInside) {\r\n\t\t\t\t\tif (this.initialFocus) {\r\n\t\t\t\t\t\tthis.initialFocus = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.initialFocus = true;\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t\tconst expression = node.getAttribute(`(clickOutside)`);\r\n\t\tif (expression) {\r\n\t\t\tconst outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\t\tevent$.pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\tmodule.resolve(outputFunction, parentInstance, event);\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tparentInstance.clickOutside$ = event$;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nClickOutsideDirective.meta = {\r\n\tselector: `[(clickOutside)]`,\r\n};\r\n","\r\nexport class Utils {\r\n\r\n\tstatic merge(target, source) {\r\n\t\tif (typeof source === 'object') {\r\n\t\t\tObject.keys(source).forEach(key => {\r\n\t\t\t\tconst value = source[key];\r\n\t\t\t\tif (typeof value === 'object' && !Array.isArray(value)) {\r\n\t\t\t\t\ttarget[key] = this.merge(target[key], value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttarget[key] = value;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn target;\r\n\t}\r\n\r\n}\r\n","import { Utils } from './common/utils/utils';\r\nimport { environmentServed } from './environment.served';\r\nimport { environmentStatic } from './environment.static';\r\n\r\nexport const NODE = (typeof module !== 'undefined' && module.exports);\r\nexport const PARAMS = NODE ? { get: () => { } } : new URLSearchParams(window.location.search);\r\nexport const DEBUG = false || (PARAMS.get('debug') != null);\r\nexport const BASE_HREF = NODE ? null : document.querySelector('base').getAttribute('href');\r\nexport const HEROKU = NODE ? false : (window && window.location.host.indexOf('herokuapp') !== -1);\r\nexport const STATIC = NODE ? false : (HEROKU || (window && (window.location.port === '48481' || window.location.port === '5000' || window.location.port === '6443' || window.location.host === 'actarian.github.io')));\r\nexport const DEVELOPMENT = NODE ? false : (window && ['localhost', '127.0.0.1', '0.0.0.0'].indexOf(window.location.host.split(':')[0]) !== -1);\r\nexport const PRODUCTION = !DEVELOPMENT;\r\nexport const ENV = {\r\n\tSTATIC,\r\n\tDEVELOPMENT,\r\n\tPRODUCTION\r\n};\r\n\r\nexport class Environment {\r\n\r\n\tget STATIC() {\r\n\t\treturn ENV.STATIC;\r\n\t}\r\n\tset STATIC(STATIC) {\r\n\t\tENV.STATIC = (STATIC === true || STATIC === 'true');\r\n\t\tconsole.log('Environment.STATIC.set', ENV.STATIC);\r\n\t}\r\n\r\n\tget href() {\r\n\t\tif (HEROKU) {\r\n\t\t\treturn this.githubDocs;\r\n\t\t} else {\r\n\t\t\treturn BASE_HREF;\r\n\t\t}\r\n\t}\r\n\r\n\tgetAbsoluteUrl(path, params) {\r\n\t\tlet url = `${window.location.origin}${path}`;\r\n\t\t// let url = `${window.location.protocol}//${window.location.host}${path}`;\r\n\t\tObject.keys(params).forEach(key => {\r\n\t\t\turl = url.replace(`$${key}`, params[key]);\r\n\t\t});\r\n\t\treturn url;\r\n\t}\r\n\r\n\tgetPath(path) {\r\n\t\treturn this.isLocal(path) ? (this.href + path) : path;\r\n\t}\r\n\r\n\tisLocal(path) {\r\n\t\treturn path.indexOf('://') === -1;\r\n\t}\r\n\r\n\tconstructor(options) {\r\n\t\tif (options) {\r\n\t\t\tObject.assign(this, options);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst defaultOptions = {\r\n\tport: 5000,\r\n\tflags: {\r\n\t\tproduction: false,\r\n\t\theroku: HEROKU,\r\n\t},\r\n\tslug: {},\r\n\tmarkets: ['IT', 'EU', 'AM', 'AS', 'IN'],\r\n\tdefaultMarket: 'IT',\r\n\tcurrentMarket: 'IT',\r\n\tlanguages: ['it', 'en'],\r\n\tdefaultLanguage: 'it',\r\n\tcurrentLanguage: 'it',\r\n\tlabels: {\r\n\t\tselect: 'Seleziona',\r\n\t\tbrowse: 'Sfoglia',\r\n\t\tcancel: 'Annulla',\r\n\t\terror_email: 'Email non valida',\r\n\t\terror_match: 'I campi non corrispondono',\r\n\t\terror_required: 'Campo obbligatorio',\r\n\t\tloading: 'caricamento',\r\n\t\tremove: 'Rimuovi',\r\n\t\trequired: 'Richiesto',\r\n\t\tselect_file: 'Seleziona una file...',\r\n\t\tupdate: 'Aggiorna',\r\n\t\tupload: 'Carica',\r\n\t\tdrag_and_drop_images: 'Drag And Drop your images here',\r\n\t}\r\n};\r\n\r\nconst environmentOptions = window.STATIC ? environmentStatic : environmentServed;\r\n\r\nlet options = Object.assign(defaultOptions, environmentOptions);\r\noptions = Utils.merge(options, window.environment);\r\n\r\nexport const environment = new Environment(options);\r\n\r\n// console.log('environment', environment);\r\n","\r\nexport const environmentStatic = {\r\n\tflags: {\r\n\t\tproduction: false,\r\n\t\tcart: true,\r\n\t},\r\n\tmarkets: ['IT', 'EU', 'AM', 'AS', 'IN'],\r\n\tdefaultMarket: 'IT',\r\n\tcurrentMarket: 'IT',\r\n\tlanguages: ['it', 'en', 'de', 'ch'],\r\n\tdefaultLanguage: 'it',\r\n\tcurrentLanguage: 'it',\r\n\tapi: '/aquafil/api',\r\n\tassets: '/aquafil/',\r\n\tslug: {\r\n\t\tconfigureProduct: `/aquafil/products-configure.html`,\r\n\t\tcart: `/aquafil/cart.html`,\r\n\t\treservedArea: `/aquafil/reserved-area.html`,\r\n\t},\r\n\ttemplate: {\r\n\t\tmodal: {\r\n\t\t\tgenericModal: '/aquafil/partials/modals/generic-modal.html',\r\n\t\t\tsideModal: '/aquafil/partials/modals/side-modal.html',\r\n\t\t\tcontactModal: '/aquafil/partials/modals/contact-modal.html',\r\n\t\t\tsalesModal: '/aquafil/partials/modals/sales-modal.html',\r\n\t\t\tgalleryModal: '/aquafil/partials/modals/gallery-modal.html',\r\n\t\t\tuserModal: '/aquafil/partials/modals/user-modal.html',\r\n\t\t}\r\n\t},\r\n\tfacebook: {\r\n\t\tappId: 610048027052371,\r\n\t\tfields: 'id,name,first_name,last_name,email,gender,picture,cover,link',\r\n\t\tscope: 'public_profile, email', // publish_stream\r\n\t\ttokenClient: '951b013fe59b05cf471d869aae9ba6ba',\r\n\t\tversion: 'v11.0',\r\n\t},\r\n\tgoogle: {\r\n\t\tclientId: '760742757246-61qknlmthbmr54bh7ch19kjr0sftm4q3.apps.googleusercontent.com',\r\n\t},\r\n\tlinkedIn: {\r\n\t\tclientId: '77cg5ls5lgu3k3',\r\n\t\tclientSecret: 'gfBIl365EdckxCgK',\r\n\t\tscope: 'r_emailaddress r_liteprofile',\r\n\t},\r\n\tgoogleMaps: {\r\n\t\tapiKey: 'AIzaSyDvGw6iAoKdRv8mmaC9GeT-LWLPQtA8p60',\r\n\t},\r\n\tthron: {\r\n\t\tclientId: '',\r\n\t},\r\n\tworkers: {\r\n\t\timage: './js/workers/image.service.worker.js',\r\n\t\tprefetch: './js/workers/prefetch.service.worker.js',\r\n\t},\r\n\tgithubDocs: 'https://raw.githubusercontent.com/actarian/aquafil/main/docs/',\r\n};\r\n","\r\nexport const environmentServed = {\r\n\tflags: {\r\n\t\tproduction: true,\r\n\t\tcart: true,\r\n\t},\r\n\tmarkets: ['IT', 'EU', 'AM', 'AS', 'IN'],\r\n\tdefaultMarket: 'IT',\r\n\tcurrentMarket: 'IT',\r\n\tlanguages: ['it', 'en', 'de', 'ch'],\r\n\tdefaultLanguage: 'it',\r\n\tcurrentLanguage: 'it',\r\n\tapi: '/api',\r\n\tassets: '/Client/docs/',\r\n\tslug: {\r\n\t\tconfigureProduct: `/it/it/products-configure`,\r\n\t\tcart: `/it/it/cart`,\r\n\t\treservedArea: `/it/it/reserved-area`,\r\n\t},\r\n\ttemplate: {\r\n\t\tmodal: {\r\n\t\t\tgenericModal: '/template/modals/generic-modal.cshtml',\r\n\t\t\tsideModal: '/template/modals/side-modal.cshtml',\r\n\t\t\tcontactModal: '/template/modals/contact-modal.cshtml',\r\n\t\t\tsalesModal: '/template/modals/sales-modal.cshtml',\r\n\t\t\tgalleryModal: '/template/modals/gallery-modal.cshtml',\r\n\t\t\tuserModal: '/template/modals/user-modal.cshtml',\r\n\t\t}\r\n\t},\r\n\tfacebook: {\r\n\t\tappId: 610048027052371,\r\n\t\tfields: 'id,name,first_name,last_name,email,gender,picture,cover,link',\r\n\t\tscope: 'public_profile, email', // publish_stream\r\n\t\ttokenClient: '951b013fe59b05cf471d869aae9ba6ba',\r\n\t\tversion: 'v11.0',\r\n\t},\r\n\tgoogle: {\r\n\t\tclientId: '760742757246-61qknlmthbmr54bh7ch19kjr0sftm4q3.apps.googleusercontent.com',\r\n\t},\r\n\tlinkedIn: {\r\n\t\tclientId: '77cg5ls5lgu3k3',\r\n\t\tclientSecret: 'gfBIl365EdckxCgK',\r\n\t\tscope: 'r_emailaddress r_liteprofile',\r\n\t},\r\n\tgoogleMaps: {\r\n\t\tapiKey: 'AIzaSyByTXqwtyFUcD6d4PY7ab4GBwS5IYjEVcc',\r\n\t},\r\n\tthron: {\r\n\t\tclientId: '',\r\n\t},\r\n\tworkers: {\r\n\t\timage: '/Client/docs/js/workers/image.service.worker.js',\r\n\t\tprefetch: '/Client/docs/js/workers/prefetch.service.worker.js',\r\n\t},\r\n\tgithubDocs: 'https://raw.githubusercontent.com/actarian/aquafil/main/docs/',\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nexport class DatePipe extends Pipe {\r\n\r\n\tstatic transform(value, options = {}, language = null) { // = 'en-IN'\r\n\t\tif (value != null) { // !!! keep losing\r\n\t\t\tlanguage = language || environment.currentLanguage;\r\n\t\t\treturn new Intl.DateTimeFormat(language, options).format(value instanceof Date ? value : new Date(value));\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\tstatic transform(value, locale = 'it-IT-u-ca-gregory', options = {\r\n\t\tdateStyle: 'short',\r\n\t\ttimeStyle: 'short',\r\n\t}) {\r\n\t\tconst localeDateString = new Date(value).toLocaleDateString(locale, options);\r\n\t\treturn localeDateString;\r\n\t}\r\n\t*/\r\n\r\n}\r\n\r\nDatePipe.meta = {\r\n\tname: 'date',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class DownloadDirective extends Directive {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('download', this.download);\r\n\t}\r\n\r\n}\r\n\r\nDownloadDirective.meta = {\r\n\tselector: '[[download]]',\r\n\tinputs: ['download']\r\n};\r\n","import { fromEvent, ReplaySubject } from 'rxjs';\r\nimport { delay, switchMap } from 'rxjs/operators';\r\n\r\nexport class LocomotiveScrollService {\r\n\r\n\tstatic scroll$ = new ReplaySubject(1);\r\n\tstatic scroll(scroll) {\r\n\t\t// console.log('LocomotiveScrollService.scroll', scroll);\r\n\t\tthis.scroll$.next(scroll);\r\n\t}\r\n\r\n\tstatic init(node, options) {\r\n\t\toptions = Object.assign({\r\n\t\t\tuseKeyboard: true,\r\n\t\t\tsmoothMobile: true,\r\n\t\t\tinertia: 0.5,\r\n\t\t\t// name:'scroll',\r\n\t\t\t// offset: [0,0], // bottom top\r\n\t\t\t// repeat: false,\r\n\t\t\tsmooth: true,\r\n\t\t\t// initPosition: { x: 0, y: 0 }\r\n\t\t\t// direction: 'vertical',\r\n\t\t\tlerp: 0.01,\r\n\t\t\tgetDirection: true, // add direction to scroll event\r\n\t\t\tgetSpeed: true, // add speed to scroll event\r\n\t\t\t// class: 'is-inview',\r\n\t\t\tinitClass: 'has-scroll-init',\r\n\t\t\tscrollingClass: 'has-scroll-scrolling',\r\n\t\t\tdraggingClass: 'has-scroll-dragging',\r\n\t\t\tsmoothClass: 'has-scroll-smooth',\r\n\t\t\tscrollbarContainer: false,\r\n\t\t\tscrollbarClass: 'c-scrollbar',\r\n\t\t\tmultiplier: 1,\r\n\t\t\tfirefoxMultiplier: 50,\r\n\t\t\ttouchMultiplier: 2,\r\n\t\t\tscrollFromAnywhere: true,\r\n\t\t\tgestureDirection: 'vertical',\r\n\t\t\treloadOnContextChange: false,\r\n\t\t\tresetNativeScroll: true,\r\n\t\t}, options, {\r\n\t\t\tel: node,\r\n\t\t});\r\n\t\tif (this.useLocomotiveScroll()) {\r\n\t\t\tconst instance = new LocomotiveScroll(options);\r\n\t\t\tLocomotiveScrollService.instance = instance;\r\n\t\t\treturn instance;\r\n\t\t} else {\r\n\t\t\tdocument.querySelector('html').classList.add('has-scroll-init');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic useLocomotiveScroll() {\r\n\t\treturn window.innerWidth >= 768 && !this.isTouchDevice();\r\n\t}\r\n\r\n\tstatic isTouchDevice() {\r\n\t\tconst userAgent = navigator.userAgent.toLowerCase();\r\n\t\tconst isTablet = /(mac|ipad|tablet|(android(?!.*mobile))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(userAgent);\r\n\t\tconst isSmartphone = /(ipod|iphone|(android(?!.*mobile))|(windows(?!.*phone)(.*touch)))/.test(userAgent);\r\n\t\treturn isTablet || isSmartphone;\r\n\t}\r\n\r\n\tstatic isMacLike() {\r\n\t\tconst isMacLike = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\r\n\t\treturn isMacLike;\r\n\t}\r\n\r\n\tstatic isIOS() {\r\n\t\tconst isIOS = /(iPhone|iPod|iPad)/i.test(navigator.platform);\r\n\t\treturn isIOS;\r\n\t}\r\n\r\n\tstatic isMacOs() {\r\n\t\tconst isMacOs = navigator.platform.toLowerCase().indexOf('mac') >= 0;\r\n\t\treturn isMacOs;\r\n\t}\r\n\r\n\tstatic isSafari() {\r\n\t\tconst isSafari = navigator.vendor.match(/apple/i) &&\r\n\t\t\t!navigator.userAgent.match(/crios/i) &&\r\n\t\t\t!navigator.userAgent.match(/fxios/i);\r\n\t\treturn isSafari;\r\n\t}\r\n\r\n\tstatic init$(node) {\r\n\t\treturn fromEvent(window, 'DOMContentLoaded').pipe(\r\n\t\t\tdelay(1),\r\n\t\t\tswitchMap(_ => {\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\tconst instance = LocomotiveScrollService.init(node);\r\n\t\t\t\tif (instance) {\r\n\t\t\t\t\tconst showefy = document.querySelector('#showefy');\r\n\t\t\t\t\tinstance.on('scroll', instance => {\r\n\t\t\t\t\t\tLocomotiveScrollService.scroll(instance);\r\n\t\t\t\t\t\tif (showefy) {\r\n\t\t\t\t\t\t\tconst isShowefyDisabled = instance.speed > 0.1;\r\n\t\t\t\t\t\t\tif (isShowefyDisabled) {\r\n\t\t\t\t\t\t\t\tif (showefy.style.pointerEvents !== 'none') {\r\n\t\t\t\t\t\t\t\t\tshowefy.style.pointerEvents = 'none';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tif (showefy.style.pointerEvents === 'none') {\r\n\t\t\t\t\t\t\t\t\tshowefy.style.pointerEvents = 'auto';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst event = { direction: null, scroll: { x: 0, y: 0 }, speed: 0 };\r\n\t\t\t\t\tconst body = document.querySelector('body');\r\n\t\t\t\t\tlet previousY = body.scrollTop; // window.pageYOffset; // body.scrollTop;\r\n\t\t\t\t\tbody.addEventListener('scroll', () => {\r\n\t\t\t\t\t\tconst y = body.scrollTop; // window.pageYOffset; // body.scrollTop;\r\n\t\t\t\t\t\tconst direction = y >= previousY ? 'down' : 'up';\r\n\t\t\t\t\t\tif (Math.abs(y - previousY) > 90) {\r\n\t\t\t\t\t\t\t// console.log('scroll', y, direction);\r\n\t\t\t\t\t\t\tpreviousY = y;\r\n\t\t\t\t\t\t\tevent.direction = direction;\r\n\t\t\t\t\t\t\tevent.scroll.y = y;\r\n\t\t\t\t\t\t\tLocomotiveScrollService.scroll(event);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, true);\r\n\t\t\t\t}\r\n\t\t\t\treturn LocomotiveScrollService.scroll$;\r\n\t\t\t\t// }, 1);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tstatic update() {\r\n\t\tif (this.instance) {\r\n\t\t\tthis.instance.update();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic stop() {\r\n\t\tif (this.instance) {\r\n\t\t\tthis.instance.stop();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic start() {\r\n\t\tif (this.instance) {\r\n\t\t\tthis.instance.start();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic scrollTo(target, options = { offset: -130 }) {\r\n\t\tif (this.instance) {\r\n\t\t\tthis.instance.scrollTo(target, options);\r\n\t\t} else {\r\n\t\t\tconst body = document.querySelector('body');\r\n\t\t\tconst currentTop = body.scrollTop; // window.pageYOffset; // body.scrollTop;\r\n\t\t\tconst targetTop = currentTop + target.getBoundingClientRect().top + options.offset;\r\n\t\t\tconst distance = targetTop - currentTop;\r\n\t\t\tconst o = { pow: 0 };\r\n\t\t\tgsap.set(body, {\r\n\t\t\t\t'scroll-behavior': 'auto'\r\n\t\t\t});\r\n\t\t\tif (options.disableLerp) {\r\n\t\t\t\tgsap.set(body, {\r\n\t\t\t\t\t'scrollTop': currentTop + distance\r\n\t\t\t\t});\r\n\t\t\t\tgsap.set(body, {\r\n\t\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tgsap.to(o, {\r\n\t\t\t\t\tduration: Math.abs(distance) / 2000,\r\n\t\t\t\t\tpow: 1,\r\n\t\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\tgsap.set(body, {\r\n\t\t\t\t\t\t\t'scrollTop': currentTop + distance * o.pow\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t// window.scrollTo(0, currentTop + distance * o.pow);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\tgsap.set(body, {\r\n\t\t\t\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// target.scrollIntoView();\r\n\t\t}\r\n\t}\r\n\r\n\tstatic scrollToSelector(selector, options) {\r\n\t\tconst target = document.querySelector(selector);\r\n\t\tif (target) {\r\n\t\t\tLocomotiveScrollService.scrollTo(target, options);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { BehaviorSubject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nlet DROPDOWN_ID = 1000000;\r\n\r\nexport class DropdownDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this.dropdown || this.id_ || (this.id_ = DropdownDirective.nextId());\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst trigger = node.getAttribute('dropdown-trigger');\r\n\t\tthis.trigger = trigger ? node.querySelector(trigger) : node;\r\n\t\tthis.opened = null;\r\n\t\tthis.onClick = this.onClick.bind(this);\r\n\t\tthis.onDocumentClick = this.onDocumentClick.bind(this);\r\n\t\tthis.openDropdown = this.openDropdown.bind(this);\r\n\t\tthis.closeDropdown = this.closeDropdown.bind(this);\r\n\t\tthis.addListeners();\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.openDropdown();\r\n\t\t} else {\r\n\t\t\tconst dropdownItemNode = node.querySelector('[dropdown-item]');\r\n\t\t\t// console.log('dropdownItemNode', dropdownItemNode);\r\n\t\t\tif (!dropdownItemNode) { // if (this.trigger !== node) {\r\n\t\t\t\tthis.closeDropdown();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDocumentClick(event) {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst clickedInside = node === event.target || node.contains(event.target);\r\n\t\tif (!clickedInside) {\r\n\t\t\tthis.closeDropdown();\r\n\t\t}\r\n\t}\r\n\r\n\topenDropdown() {\r\n\t\tif (this.opened === null) {\r\n\t\t\tthis.opened = true;\r\n\t\t\tthis.addDocumentListeners();\r\n\t\t\tDropdownDirective.dropdown$.next(this.id);\r\n\t\t\tthis.dropped.next(this.id);\r\n\t\t}\r\n\t}\r\n\r\n\tcloseDropdown() {\r\n\t\tif (this.opened !== null) {\r\n\t\t\tthis.removeDocumentListeners();\r\n\t\t\tthis.opened = null;\r\n\t\t\tif (DropdownDirective.dropdown$.getValue() === this.id) {\r\n\t\t\t\tDropdownDirective.dropdown$.next(null);\r\n\t\t\t\tthis.dropped.next(null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tthis.trigger.addEventListener('click', this.onClick);\r\n\t}\r\n\r\n\taddDocumentListeners() {\r\n\t\tdocument.addEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tthis.trigger.removeEventListener('click', this.onClick);\r\n\t}\r\n\r\n\tremoveDocumentListeners() {\r\n\t\tdocument.removeEventListener('click', this.onDocumentClick);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t\tthis.removeDocumentListeners();\r\n\t}\r\n\r\n\tstatic nextId() {\r\n\t\treturn DROPDOWN_ID++;\r\n\t}\r\n\r\n}\r\n\r\nDropdownDirective.meta = {\r\n\tselector: '[dropdown]',\r\n\tinputs: ['dropdown', 'dropdown-trigger'],\r\n\toutputs: ['dropped']\r\n};\r\n\r\nDropdownDirective.dropdown$ = new BehaviorSubject(null);\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\nimport { LocomotiveScrollService } from '../locomotive-scroll/locomotive-scroll.service';\r\nimport { DropdownDirective } from './dropdown.directive';\r\n\r\nexport class DropdownItemDirective extends Directive {\r\n\r\n\tget id() {\r\n\t\treturn this['dropdown-item'];\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.classList.add('dropdown-item');\r\n\t\tDropdownDirective.dropdown$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(id => {\r\n\t\t\t// console.log('DropdownItemDirective', id, this['dropdown-item']);\r\n\t\t\tif (this.id === id) {\r\n\t\t\t\tnode.classList.add('dropped');\r\n\t\t\t\t// LocomotiveScrollService.stop();\r\n\t\t\t} else {\r\n\t\t\t\tnode.classList.remove('dropped');\r\n\t\t\t\t// LocomotiveScrollService.start();\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.enter$(node).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t\tthis.leave$(node).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t\t// this.addListeners();\r\n\t}\r\n\r\n\tenter$(node) {\r\n\t\t// const { node } = getContext(this);\r\n\t\treturn fromEvent(node, 'mouseenter').pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tLocomotiveScrollService.stop();\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tleave$(node) {\r\n\t\t// const { node } = getContext(this);\r\n\t\treturn fromEvent(node, 'mouseleave').pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tLocomotiveScrollService.start();\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n\tonDestroy() {\r\n\t\tthis.removeListeners();\r\n\t}\r\n\r\n\tonEnter(event) {\r\n\t\tLocomotiveScrollService.stop();\r\n\t}\r\n\r\n\tonLeave(event) {\r\n\t\tLocomotiveScrollService.start();\r\n\t}\r\n\r\n\taddListeners() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.addEventListener('mouseenter', this.onEnter);\r\n\t\tnode.addEventListener('mouseleave', this.onLeave);\r\n\t}\r\n\r\n\tremoveListeners() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.removeEventListener('mouseenter', this.onEnter);\r\n\t\tnode.removeEventListener('mouseleave', this.onLeave);\r\n\t}\r\n\t*/\r\n}\r\n\r\nDropdownItemDirective.meta = {\r\n\tselector: '[dropdown-item], [[dropdown-item]]',\r\n\tinputs: ['dropdown-item']\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { startWith, takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport class EllipsisDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.originalText = node.innerText;\r\n\t\tthis.resize$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tresize$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn fromEvent(window, 'resize').pipe(\r\n\t\t\tstartWith(_ => null),\r\n\t\t\ttap(_ => {\r\n\t\t\t\tlet text = this.originalText;\r\n\t\t\t\tnode.innerText = text;\r\n\t\t\t\twhile (node.scrollHeight - node.offsetHeight > 0) {\r\n\t\t\t\t\tconst words = text.split(' ');\r\n\t\t\t\t\twords.pop();\r\n\t\t\t\t\ttext = `${words.join(' ')}...`;\r\n\t\t\t\t\tnode.innerText = text;\r\n\t\t\t\t\t// console.log(node.scrollHeight, node.offsetHeight);\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nEllipsisDirective.meta = {\r\n\tselector: '[ellipsis]',\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nexport class EnvPipe extends Pipe {\r\n\r\n\tstatic transform(keypath) {\r\n\t\tlet env = environment;\r\n\t\tconst keys = keypath.split('.');\r\n\t\tlet k = keys.shift();\r\n\t\twhile (keys.length > 0 && env[k]) {\r\n\t\t\tenv = env[k];\r\n\t\t\tk = keys.shift();\r\n\t\t}\r\n\t\tconst value = env[k] || null;\r\n\t\treturn value;\r\n\t}\r\n\r\n}\r\n\r\nEnvPipe.meta = {\r\n\tname: 'env',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { LocomotiveScrollService } from '../locomotive-scroll/locomotive-scroll.service';\r\n\r\nexport class FilterItemComponent extends Component {\r\n\r\n\tonInit() {\r\n\r\n\t}\r\n\r\n\tcloseFilter() {\r\n\t\tthis.filter.active = false;\r\n\t\tthis.change.next();\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\ttoggleFilter(filter) {\r\n\t\tObject.keys(this.filters).forEach(key => {\r\n\t\t\tconst f = this.filters[key];\r\n\t\t\tif (f === filter) {\r\n\t\t\t\tf.active = !f.active;\r\n\t\t\t} else {\r\n\t\t\t\tf.active = false;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.change.next();\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\tclearFilter(event, filter) {\r\n\t\tevent.preventDefault();\r\n\t\tevent.stopImmediatePropagation();\r\n\t\tfilter.clear();\r\n\t\tthis.change.next();\r\n\t\t// this.pushChanges();\r\n\t}\r\n\r\n\tonEnter() {\r\n\t\tLocomotiveScrollService.stop();\r\n\t}\r\n\r\n\tonLeave() {\r\n\t\tLocomotiveScrollService.start();\r\n\t}\r\n}\r\n\r\nFilterItemComponent.meta = {\r\n\tselector: '[filter], [[filter]]',\r\n\toutputs: ['change'],\r\n\tinputs: ['filter', 'filters', 'name'],\r\n\ttemplate: /* html */`\r\n\t\t<div class=\"group--filter\" (click)=\"toggleFilter(filter)\" (clickOutside)=\"closeFilter(filter)\">\r\n\t\t\t<span class=\"label\" [innerHTML]=\"filter.getLabel() || name\"></span>\r\n\t\t\t<svg class=\"caret-down\" *if=\"!filter.hasAny()\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t\t<svg class=\"close-sm\" *if=\"filter.hasAny()\" (click)=\"clearFilter($event, filter)\"><use xlink:href=\"#close-sm\"></use></svg>\r\n\t\t</div>\r\n\t\t<div class=\"options\" *if=\"filter.active\" (mouseenter)=\"onEnter()\" (mouseleave)=\"onLeave()\">\r\n\t\t\t<div class=\"category\" [innerHTML]=\"name\"></div>\r\n\t\t\t<ul class=\"nav--options\">\r\n\t\t\t\t<li class=\"nav--options__item\" [class]=\"{ active: filter.has(item), disabled: item.disabled, empty: !item.value }\" *for=\"let item of filter.options\">\r\n\t\t\t\t\t<span class=\"option\" (click)=\"filter.set(item)\">\r\n\t\t\t\t\t\t<span class=\"name\" [innerHTML]=\"item.label | label\"></span>\r\n\t\t\t\t\t\t<!-- <span class=\"count\" [innerHTML]=\"item.count || ''\"></span> -->\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t`,\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nexport class FlagPipe extends Pipe {\r\n\r\n\tstatic transform(key) {\r\n\t\tconst flags = environment.flags;\r\n\t\treturn flags[key] || false;\r\n\t}\r\n\r\n}\r\n\r\nFlagPipe.meta = {\r\n\tname: 'flag',\r\n};\r\n","import { from, Subject } from 'rxjs';\r\nimport { map, switchMap, tap } from 'rxjs/operators';\r\n\r\nexport class ModalEvent {\r\n\r\n\tconstructor(data) {\r\n\t\tthis.data = data;\r\n\t}\r\n\r\n}\r\n\r\n// export class ModalLoadEvent extends ModalEvent { }\r\n// export class ModalLoadedEvent extends ModalEvent { }\r\nexport class ModalResolveEvent extends ModalEvent { }\r\nexport class ModalRejectEvent extends ModalEvent { }\r\n\r\nexport class ModalService {\r\n\r\n\tstatic hasModal = false;\r\n\r\n\tstatic open$(modal) {\r\n\t\tthis.busy$.next(true);\r\n\t\treturn this.getTemplate$(modal.src).pipe(\r\n\t\t\t// startWith(new ModalLoadEvent(Object.assign({}, modal.data, { $src: modal.src }))),\r\n\t\t\tmap(template => {\r\n\t\t\t\treturn { node: this.getNode(template), data: modal.data, modal: modal };\r\n\t\t\t}),\r\n\t\t\ttap(node => {\r\n\t\t\t\tthis.modal$.next(node);\r\n\t\t\t\tthis.hasModal = true;\r\n\t\t\t\tthis.busy$.next(false);\r\n\t\t\t\t// this.events$.next(new ModalLoadedEvent(Object.assign({}, modal.data, { $src: modal.src })));\r\n\t\t\t}),\r\n\t\t\tswitchMap(node => this.events$),\r\n\t\t\ttap(_ => this.hasModal = false)\r\n\t\t)\r\n\t}\r\n\r\n\tstatic load$(modal) {\r\n\r\n\t}\r\n\r\n\tstatic getTemplate$(url) {\r\n\t\treturn from(fetch(url).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t}));\r\n\t}\r\n\r\n\tstatic getNode(template) {\r\n\t\tconst div = document.createElement('div');\r\n\t\tdiv.innerHTML = template;\r\n\t\tconst node = div.firstElementChild;\r\n\t\treturn node;\r\n\t}\r\n\r\n\tstatic reject(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalRejectEvent(data));\r\n\t}\r\n\r\n\tstatic resolve(data) {\r\n\t\tthis.modal$.next(null);\r\n\t\tthis.events$.next(new ModalResolveEvent(data));\r\n\t}\r\n\r\n}\r\n\r\nModalService.modal$ = new Subject();\r\nModalService.events$ = new Subject();\r\nModalService.busy$ = new Subject();\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\nimport { ModalService } from './modal.service';\r\n\r\nexport class ModalOutletComponent extends Component {\r\n\r\n\tget modal() {\r\n\t\treturn this.modal_;\r\n\t}\r\n\r\n\tset modal(modal) {\r\n\t\t// console.log('ModalOutletComponent set modal', modal, this);\r\n\t\tconst { module } = getContext(this);\r\n\t\tif (this.modal_ && this.modal_.node) {\r\n\t\t\tmodule.remove(this.modal_.node, this);\r\n\t\t\tthis.modalNode.removeChild(this.modal_.node);\r\n\t\t}\r\n\t\tif (modal && modal.node) {\r\n\t\t\tthis.modal_ = modal;\r\n\t\t\tthis.modalNode.appendChild(modal.node);\r\n\t\t\tconst instances = module.compile(modal.node);\r\n\t\t}\r\n\t\tthis.modal_ = modal;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n\tget busy() {\r\n\t\treturn this.busy_;\r\n\t}\r\n\r\n\tset busy(busy) {\r\n\t\t// console.log('ModalOutletComponent set busy', busy, this);\r\n\t\tif (this.busy_ !== busy) {\r\n\t\t\tthis.busy_ = busy;\r\n\t\t\tthis.pushChanges();\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.busy_ = false;\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst body = document.querySelector('body');\r\n\t\tthis.modalNode = node.querySelector('.modal-outlet__modal');\r\n\t\tModalService.modal$.pipe(\r\n\t\t\ttap(modal => {\r\n\t\t\t\tmodal ? body.classList.add('modal--active') : body.classList.remove('modal--active');\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(modal => this.modal = modal);\r\n\t\tModalService.busy$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(busy => this.busy = busy);\r\n\t}\r\n\r\n\tonClose(event) {\r\n\t\tconsole.log('ModalOutletComponent.onClose', event);\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n}\r\n\r\nModalOutletComponent.meta = {\r\n\tselector: '[modal-outlet]',\r\n\ttemplate: /* html */ `\r\n\t<div class=\"modal-outlet__container\" [class]=\"{ active: modal, busy: busy }\">\r\n\t\t<div class=\"modal-outlet__background\" (click)=\"onClose($event)\"></div>\r\n\t\t<div class=\"modal-outlet__modal\"></div>\r\n\t\t<!-- spinner -->\r\n\t\t<div class=\"spinner spinner--contrasted\" *if=\"busy\"></div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { startWith, tap } from 'rxjs/operators';\r\nimport { ModalOutletComponent } from '../modal/modal-outlet.component';\r\nimport { ModalService } from '../modal/modal.service';\r\n\r\nexport class GalleryModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tconst items = this.items = data.items;\r\n\t\t\titems.forEach(item => {\r\n\t\t\t\titem.isImg = this.isImg(item);\r\n\t\t\t\titem.isVideo = this.isVideo(item);\r\n\t\t\t});\r\n\t\t\tconst initialSlide = this.initialSlide = data.initialSlide;\r\n\t\t\tconsole.log(items, initialSlide);\r\n\t\t\t/*\r\n\t\t\tif (data.target) {\r\n\t\t\t\tconst { node, module } = getContext(this);\r\n\t\t\t\tconst content = node.querySelector('.side-modal__content');\r\n\t\t\t\tcontent.appendChild(data.target);\r\n\t\t\t\tconst instances = this.instances = module.compile(content);\r\n\t\t\t\tconsole.log('GalleryModalComponent.onInit', instances);\r\n\t\t\t}\r\n\t\t\t*/\r\n\t\t\tconsole.log('GalleryModalComponent.onInit', data);\r\n\t\t}\r\n\t\t/*\r\n\t\tthis.resize$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\t*/\r\n\t}\r\n\r\n\tresize$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst header = document.querySelector('header');\r\n\t\treturn fromEvent(window, 'resize').pipe(\r\n\t\t\tstartWith(true),\r\n\t\t\ttap(_ => {\r\n\t\t\t\tnode.style.top = `${header.offsetHeight}px`;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n\tisImg(item) {\r\n\t\tconst src = item.src.split('?')[0];\r\n\t\tconst lastIndex = src.lastIndexOf('.');\r\n\t\tif (lastIndex !== -1) {\r\n\t\t\tconst ext = src.substring(lastIndex + 1, src.length);\r\n\t\t\treturn ['jpg', 'jpeg', 'png', 'gif'].indexOf(ext) !== -1\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\r\n\tisVideo(item) {\r\n\t\tconst src = item.src.split('?')[0];\r\n\t\tconst lastIndex = src.lastIndexOf('.');\r\n\t\tif (lastIndex !== -1) {\r\n\t\t\tconst ext = src.substring(lastIndex + 1, src.length);\r\n\t\t\treturn ['mp4', 'webm'].indexOf(ext) !== -1\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nGalleryModalComponent.meta = {\r\n\tselector: '[gallery-modal]'\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { EMPTY, fromEvent, merge } from 'rxjs';\r\nimport { map, takeUntil, tap } from 'rxjs/operators';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { environment } from '../../environment';\r\n\r\nexport class GalleryComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\t// console.log(this.node.firstElementChild.outerHTML);\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.dataset.originalInnerHTML = node.innerHTML;\r\n\t\tthis.click$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tclick$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\tmap(_ => {\r\n\t\t\t\tconst currentSrc = node.getAttribute('gallery');\r\n\t\t\t\tconst galleryItems = Array.prototype.slice.call(document.querySelectorAll('[gallery]')).filter(x => !x.parentNode.classList.contains('swiper-slide-duplicate')).map(x => {\r\n\t\t\t\t\tconst src = x.getAttribute('gallery');\r\n\t\t\t\t\t// console.log('src', src);\r\n\t\t\t\t\tconst originalInnerHTML = x.dataset.originalInnerHTML || x.innerHTML;\r\n\t\t\t\t\t// console.log('originalInnerHTML', originalInnerHTML)\r\n\t\t\t\t\t// const outerHTML = x.firstElementChild.outerHTML;\r\n\t\t\t\t\tconst div = document.createElement('div');\r\n\t\t\t\t\tdiv.innerHTML = originalInnerHTML;\r\n\t\t\t\t\tconst cloneNode = div.firstElementChild;\r\n\t\t\t\t\t// const cloneNode = Component.create(originalInnerHTML); //x.firstElementChild.cloneNode(true);\r\n\t\t\t\t\t// const iframes = Array.prototype.slice.call(cloneNode.querySelectorAll('iframe'));\r\n\t\t\t\t\t// iframes.forEach(x => x.parentNode.removeChild(x));\r\n\t\t\t\t\t// console.log(originalInnerHTML);\r\n\t\t\t\t\tconst srcNode = this.setSrcNode(cloneNode, src);\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tsrc: src,\r\n\t\t\t\t\t\tnode: cloneNode,\r\n\t\t\t\t\t\tactive: src === currentSrc,\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t\t\treturn galleryItems;\r\n\t\t\t}),\r\n\t\t\ttap(items => {\r\n\t\t\t\tthis.addGallery(items);\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tlisteners$() {\r\n\t\tconst close = this.close$();\r\n\t\treturn merge(close, this.prev$(), this.next$(), this.events$()).pipe(\r\n\t\t\ttakeUntil(close),\r\n\t\t);\r\n\t}\r\n\r\n\taddGallery(items) {\r\n\t\tconsole.log('clicked', items);\r\n\t\tconst initialSlide = items.reduce((p, c, i) => {\r\n\t\t\treturn c.active ? i : p;\r\n\t\t}, 0);\r\n\t\tModalService.open$({ src: environment.template.modal.galleryModal, data: { items, initialSlide } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\tconsole.log('GalleryComponent.addGallery', event);\r\n\t\t});\r\n\t}\r\n\r\n\tclose$() {\r\n\t\tconst modalNode = this.modalNode;\r\n\t\tconst button = modalNode.querySelector('.btn--close');\r\n\t\tconst body = document.querySelector('body');\r\n\t\treturn fromEvent(button, 'click').pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\t// !!!\r\n\t\t\t\tComponent.unregister(modalNode);\r\n\t\t\t\t// this.instances.forEach(x => x.destroy());\r\n\t\t\t\tbody.removeChild(modalNode);\r\n\t\t\t\t// CursorService.clear();\r\n\t\t\t\t// this.instances = null;\r\n\t\t\t\tthis.modalNode = null;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tprev$() {\r\n\t\tconst modalNode = this.modalNode;\r\n\t\tconst button = modalNode.querySelector('.btn--prev');\r\n\t\treturn fromEvent(button, 'click').pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\tconst swiperInstance = this.swiperInstance;\r\n\t\t\t\tif (swiperInstance != null) {\r\n\t\t\t\t\tswiperInstance.slidePrev();\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tnext$() {\r\n\t\tconst modalNode = this.modalNode;\r\n\t\tconst button = modalNode.querySelector('.btn--next');\r\n\t\treturn fromEvent(button, 'click').pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\tconst swiperInstance = this.swiperInstance;\r\n\t\t\t\tif (swiperInstance != null) {\r\n\t\t\t\t\tswiperInstance.slideNext();\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tevents$() {\r\n\t\tconst indexNode = this.modalNode.querySelector('.modal-gallery__index');\r\n\t\tconst swiperInstance = this.swiperInstance;\r\n\t\tif (swiperInstance != null) {\r\n\t\t\treturn swiperInstance.events$.pipe(\r\n\t\t\t\ttap(index => {\r\n\t\t\t\t\t// console.log('index', index, swiperInstance);\r\n\t\t\t\t\tindexNode.innerHTML = `${index + 1} / ${swiperInstance.total}`;\r\n\t\t\t\t}),\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn EMPTY;\r\n\t\t}\r\n\t}\r\n\r\n\tgetSrcNode(node) {\r\n\t\tif (node.getAttribute('src') != null) {\r\n\t\t\treturn node;\r\n\t\t} else {\r\n\t\t\treturn node.querySelector('[src]');\r\n\t\t}\r\n\t}\r\n\r\n\tsetSrcNode(node, src) {\r\n\t\tconst srcNode = this.getSrcNode(node);\r\n\t\tif (srcNode && srcNode.tagName.toLowerCase() === 'img') {\r\n\t\t\tsrcNode.setAttribute('src', src);\r\n\t\t}\r\n\t\treturn srcNode;\r\n\t}\r\n\r\n\tstatic meta = {\r\n\t\tselector: '[gallery]',\r\n\t};\r\n\r\n}\r\n","\r\nimport { Pipe } from 'rxcomp';\r\n\r\nexport class HighlightPipe extends Pipe {\r\n\r\n\tstatic transform(text, query) {\r\n\t\tif (!query) {\r\n\t\t\treturn text;\r\n\t\t}\r\n\t\tif (!Array.isArray(query)) {\r\n\t\t\tquery = [query];\r\n\t\t}\r\n\t\t// text = HighlightPipe.encodeHTML(text);\r\n\t\tconst escapedQuery = query.map(x => HighlightPipe.escapeRegexChars(x));\r\n\t\tconst regExp = new RegExp(`(\\<[^\\>]+\\>)|(${escapedQuery.join('|')})`, 'gmi');\r\n\t\t// const regExp = new RegExp(`(?<!\\<)${escapedQuery.join('(?![\\w\\s]*[\\>])|(?<!\\<)')}(?![\\w\\s]*[\\>])`, 'gmi');\r\n\t\t// const regExp = new RegExp('&[^;]+;|' + escapedQuery.join('|'), 'gi');\r\n\t\ttext = text.replace(regExp, function(match, g1, g2) {\r\n\t\t\tif (g1) {\r\n\t\t\t\treturn g1;\r\n\t\t\t} else {\r\n\t\t\t\treturn '<b>' + g2 + '</b>';\r\n\t\t\t}\r\n\t\t\t// return match.toLowerCase() === x.toLowerCase() ? '<strong>' + match + '</strong>' : match;\r\n\t\t});\r\n\t\t// text = HighlightPipe.decodeHTML(text);\r\n\t\tconsole.log(text, query);\r\n\t\treturn text;\r\n\t}\r\n\r\n\tstatic escapeRegexChars(text) {\r\n\t\treturn text.replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\r\n\t}\r\n\r\n\tstatic safeToString(text) {\r\n\t\treturn text === undefined || text === null ? '' : text.toString().trim();\r\n\t}\r\n\r\n\tstatic encodeHTML(text) {\r\n\t\treturn this.safeToString(text)\r\n\t\t\t.replace(/&/g, '&amp;')\r\n\t\t\t.replace(/</g, '&lt;')\r\n\t\t\t.replace(/>/g, '&gt;');\r\n\t}\r\n\r\n\tstatic decodeHTML(text) {\r\n\t\treturn text\r\n\t\t\t.replace(/&amp;/g, '&')\r\n\t\t\t.replace(/&lt;/g, '<')\r\n\t\t\t.replace(/&gt;/g, '>');\r\n\t}\r\n\r\n}\r\n\r\nHighlightPipe.meta = {\r\n\tname: 'highlight',\r\n};\r\n\r\n","import { Pipe } from 'rxcomp';\r\n\r\n/*\r\n['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n['\"', '&', ''', '<', '>', ' ', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '&', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\r\n*/\r\n\r\nexport class HtmlPipe extends Pipe {\r\n\r\n\tstatic transform(value) {\r\n\t\tif (value) {\r\n\t\t\tvalue = value.replace(/&#(\\d+);/g, function(m, n) {\r\n\t\t\t\treturn String.fromCharCode(parseInt(n));\r\n\t\t\t});\r\n\t\t\tconst escapes = ['quot', 'amp', 'apos', 'lt', 'gt', 'nbsp', 'iexcl', 'cent', 'pound', 'curren', 'yen', 'brvbar', 'sect', 'uml', 'copy', 'ordf', 'laquo', 'not', 'shy', 'reg', 'macr', 'deg', 'plusmn', 'sup2', 'sup3', 'acute', 'micro', 'para', 'middot', 'cedil', 'sup1', 'ordm', 'raquo', 'frac14', 'frac12', 'frac34', 'iquest', 'Agrave', 'Aacute', 'Acirc', 'Atilde', 'Auml', 'Aring', 'AElig', 'Ccedil', 'Egrave', 'Eacute', 'Ecirc', 'Euml', 'Igrave', 'Iacute', 'Icirc', 'Iuml', 'ETH', 'Ntilde', 'Ograve', 'Oacute', 'Ocirc', 'Otilde', 'Ouml', 'times', 'Oslash', 'Ugrave', 'Uacute', 'Ucirc', 'Uuml', 'Yacute', 'THORN', 'szlig', 'agrave', 'aacute', 'atilde', 'auml', 'aring', 'aelig', 'ccedil', 'egrave', 'eacute', 'ecirc', 'euml', 'igrave', 'iacute', 'icirc', 'iuml', 'eth', 'ntilde', 'ograve', 'oacute', 'ocirc', 'otilde', 'ouml', 'divide', 'oslash', 'ugrave', 'uacute', 'ucirc', 'uuml', 'yacute', 'thorn', 'yuml', 'amp', 'bull', 'deg', 'infin', 'permil', 'sdot', 'plusmn', 'dagger', 'mdash', 'not', 'micro', 'perp', 'par', 'euro', 'pound', 'yen', 'cent', 'copy', 'reg', 'trade', 'alpha', 'beta', 'gamma', 'delta', 'epsilon', 'zeta', 'eta', 'theta', 'iota', 'kappa', 'lambda', 'mu', 'nu', 'xi', 'omicron', 'pi', 'rho', 'sigma', 'tau', 'upsilon', 'phi', 'chi', 'psi', 'omega', 'Alpha', 'Beta', 'Gamma', 'Delta', 'Epsilon', 'Zeta', 'Eta', 'Theta', 'Iota', 'Kappa', 'Lambda', 'Mu', 'Nu', 'Xi', 'Omicron', 'Pi', 'Rho', 'Sigma', 'Tau', 'Upsilon', 'Phi', 'Chi', 'Psi', 'Omega'];\r\n\t\t\tconst unescapes = ['\"', '&', '\\'', '<', '>', ' ', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '&', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', ''];\r\n\t\t\tconst rx = new RegExp(`(&${escapes.join(';)|(&')};)`, 'g');\r\n\t\t\tvalue = value.replace(rx, function() {\r\n\t\t\t\tfor (let i = 1; i < arguments.length; i++) {\r\n\t\t\t\t\tif (arguments[i]) {\r\n\t\t\t\t\t\t// console.log(arguments[i], unescapes[i - 1]);\r\n\t\t\t\t\t\treturn unescapes[i - 1];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// console.log(value);\r\n\t\t\treturn value;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nHtmlPipe.meta = {\r\n\tname: 'html',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class IdDirective extends Directive {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('id', this.id);\r\n\t}\r\n\r\n}\r\n\r\nIdDirective.meta = {\r\n\tselector: '[[id]]',\r\n\tinputs: ['id']\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class LabelForDirective extends Directive {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('for', this.labelFor);\r\n\t}\r\n\r\n}\r\n\r\nLabelForDirective.meta = {\r\n\tselector: '[[labelFor]]',\r\n\tinputs: ['labelFor']\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\nimport { Utils } from '../utils/utils';\r\n\r\nexport class LabelPipe extends Pipe {\r\n\r\n\tstatic transform(key) {\r\n\t\tconst labels = LabelPipe.labels_;\r\n\t\treturn labels[key] || key; // `#${key}#`;\r\n\t}\r\n\r\n\tstatic getKeys(...keys) {\r\n\t\treturn LabelPipe.transform(keys.map(x => x.replace('-', '_')).join('_'));\r\n\t}\r\n\r\n\tstatic setLabels() {\r\n\t\tconst LABELS = Utils.merge({\r\n\t\t\tselect: 'Seleziona',\r\n\t\t\tbrowse: 'Sfoglia',\r\n\t\t\tcancel: 'Annulla',\r\n\t\t\terror_email: 'Email non valida',\r\n\t\t\terror_match: 'I campi non corrispondono',\r\n\t\t\terror_required: 'Campo obbligatorio',\r\n\t\t\tloading: 'caricamento',\r\n\t\t\tremove: 'Rimuovi',\r\n\t\t\trequired: 'Richiesto',\r\n\t\t\tselect_file: 'Seleziona una file...',\r\n\t\t\tupdate: 'Aggiorna',\r\n\t\t\tupload: 'Carica',\r\n\t\t\tdrag_and_drop_images: 'Drag And Drop your images here',\r\n\t\t}, environment.labels);\r\n\t\tthis.labels_ = LABELS;\r\n\t}\r\n}\r\n\r\nLabelPipe.setLabels();\r\n\r\nLabelPipe.meta = {\r\n\tname: 'label',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class NameDirective extends Directive {\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tnode.setAttribute('name', this.name);\r\n\t}\r\n\r\n}\r\n\r\nNameDirective.meta = {\r\n\tselector: '[[name]]',\r\n\tinputs: ['name']\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nexport class NumberPipe extends Pipe {\r\n\r\n\tstatic transform(value, options = {}, language = null) { // = 'en-IN'\r\n\t\tif (value != null) { // !!! keep losing\r\n\t\t\tlanguage = language || environment.currentLanguage;\r\n\t\t\treturn new Intl.NumberFormat(language, options).format(value);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nNumberPipe.meta = {\r\n\tname: 'number',\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nconst DIVISIONS = [\r\n\t{ amount: 60, name: 'seconds' },\r\n\t{ amount: 60, name: 'minutes' },\r\n\t{ amount: 24, name: 'hours' },\r\n\t{ amount: 7, name: 'days' },\r\n\t{ amount: 4.34524, name: 'weeks' },\r\n\t{ amount: 12, name: 'months' },\r\n\t{ amount: Number.POSITIVE_INFINITY, name: 'years' }\r\n];\r\n\r\nexport class RelativeDatePipe extends Pipe {\r\n\r\n\tstatic transform(value, options = { numeric: 'auto' }, language = null) { // = 'en-IN'\r\n\t\tif (value != null) { // !!! keep losing\r\n\t\t\tconst date = value instanceof Date ? value : new Date(value);\r\n\t\t\tlanguage = language || environment.currentLanguage;\r\n\t\t\tconst formatter = new Intl.RelativeTimeFormat(language, options);\r\n\t\t\tlet duration = (date - new Date()) / 1000;\r\n\t\t\tfor (let i = 0; i <= DIVISIONS.length; i++) {\r\n\t\t\t\tconst division = DIVISIONS[i];\r\n\t\t\t\tif (Math.abs(duration) < division.amount) {\r\n\t\t\t\t\treturn formatter.format(Math.round(duration), division.name);\r\n\t\t\t\t}\r\n\t\t\t\tduration /= division.amount;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nRelativeDatePipe.meta = {\r\n\tname: 'relativeDate',\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { startWith, takeUntil } from 'rxjs/operators';\r\n\r\nexport class ScrollMenuDirective extends Directive {\r\n\r\n\tset index(index) {\r\n\t\tif (this.index_ !== index) {\r\n\t\t\tthis.index_ = index;\r\n\t\t\tconst anchors = this.anchors;\r\n\t\t\tanchors.forEach((x, i) => {\r\n\t\t\t\tindex === i ? x.a.classList.add('active') : x.a.classList.remove('active');\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst anchors = this.anchors = Array.prototype.slice.call(node.querySelectorAll('[href]'))\r\n\t\t\t.filter(x => x.hasAttribute('href')).map(x => {\r\n\t\t\t\tconst href = x.getAttribute('href');\r\n\t\t\t\tconst target = document.querySelector(href);\r\n\t\t\t\treturn {\r\n\t\t\t\t\ta: x,\r\n\t\t\t\t\thref,\r\n\t\t\t\t\ttarget,\r\n\t\t\t\t};\r\n\t\t\t});\r\n\t\t// console.log(anchors);\r\n\t\tfromEvent(window, 'scroll').pipe(\r\n\t\t\tstartWith(1),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(_ => {\r\n\t\t\tconst tops = anchors.map((x, i) => {\r\n\t\t\t\tconst rect = x.target.getBoundingClientRect();\r\n\t\t\t\treturn {\r\n\t\t\t\t\ttop: rect.top,\r\n\t\t\t\t\tindex: i,\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t\ttops.sort((a, b) => {\r\n\t\t\t\treturn a.top - b.top;\r\n\t\t\t});\r\n\t\t\tconst nearest = tops.reduce((p, c, i) => {\r\n\t\t\t\tconst distance = Math.abs(c.top);\r\n\t\t\t\treturn distance < p.distance ? { ...c, distance } : p;\r\n\t\t\t}, Object.assign({}, tops[0], { distance: Number.POSITIVE_INFINITY }));\r\n\t\t\tthis.index = nearest.index;\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nScrollMenuDirective.meta = {\r\n\tselector: `[scroll-menu]`\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { shareReplay, takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport class ScrollToDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.initialFocus = false;\r\n\t\tconst { module, node } = getContext(this);\r\n\t\tconst expression = this.expression = node.getAttribute(`(scrollTo)`);\r\n\t\tthis.outputFunction = module.makeFunction(expression, ['$event']);\r\n\t\tthis.scrollTo$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(() => { });\r\n\t}\r\n\r\n\tscrollTo$() {\r\n\t\tconst { module, node, parentInstance } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tconst result = module.resolve(this.outputFunction, parentInstance, event);\r\n\t\t\t\tif (typeof result === 'string') {\r\n\t\t\t\t\tconst target = document.querySelector(result);\r\n\t\t\t\t\tif (target) {\r\n\t\t\t\t\t\tconst from = this.currentTop();\r\n\t\t\t\t\t\tconst to = from + target.getBoundingClientRect().top - 150;\r\n\t\t\t\t\t\tconst o = { tween: 0 };\r\n\t\t\t\t\t\tconst html = document.querySelector('html');\r\n\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t'scroll-behavior': 'auto'\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tgsap.to(o, {\r\n\t\t\t\t\t\t\tduration: Math.abs((to - from)) / 5000,\r\n\t\t\t\t\t\t\ttween: 1,\r\n\t\t\t\t\t\t\tease: Quad.easeOut,\r\n\t\t\t\t\t\t\toverwrite: 'all',\r\n\t\t\t\t\t\t\tonUpdate: () => {\r\n\t\t\t\t\t\t\t\twindow.scrollTo(0, from + (to - from) * o.tween);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tonComplete: () => {\r\n\t\t\t\t\t\t\t\tgsap.set(html, {\r\n\t\t\t\t\t\t\t\t\t'scroll-behavior': 'smooth'\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}),\r\n\t\t\tshareReplay(1)\r\n\t\t);\r\n\t}\r\n\r\n\tcurrentTop() {\r\n\t\t// Firefox, Chrome, Opera, Safari\r\n\t\tif (self.pageYOffset) return self.pageYOffset;\r\n\t\t// Internet Explorer 6 - standards mode\r\n\t\tif (document.documentElement && document.documentElement.scrollTop)\r\n\t\t\treturn document.documentElement.scrollTop;\r\n\t\t// Internet Explorer 6, 7 and 8\r\n\t\tif (document.body.scrollTop) return document.body.scrollTop;\r\n\t\treturn 0;\r\n\t}\r\n}\r\n\r\nScrollToDirective.meta = {\r\n\tselector: `[(scrollTo)]`\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\nimport { ScrollService } from './scroll.service';\r\n\r\nexport class ScrollStickyDirective extends Directive {\r\n\r\n\tsticked_ = false;\r\n\tget sticked() {\r\n\t\treturn this.sticked_;\r\n\t}\r\n\tset sticked(sticked) {\r\n\t\tif (this.sticked_ !== sticked) {\r\n\t\t\tthis.sticked_ = sticked;\r\n\t\t\tif (this.targetNode) {\r\n\t\t\t\tsticked ? this.targetNode.classList.add('sticked') : this.targetNode.classList.remove('sticked');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tthis.targetNode = (this.target ? (node.querySelector(this.target) || node) : node);\r\n\t\tthis.until = this.until ? document.querySelector(this.until) : null;\r\n\t\tconsole.log('ScrollStickyDirective', this.targetNode, this.until);\r\n\t\tthis.sticky$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('ScrollStickyDirective', event);\r\n\t\t});\r\n\t}\r\n\r\n\tsticky$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst targetNode = this.targetNode;\r\n\t\tconst until = this.until;\r\n\t\treturn ScrollService.scroll$.pipe(\r\n\t\t\ttap(event => {\r\n\t\t\t\tconsole.log(event);\r\n\t\t\t\tconst rect = node.getBoundingClientRect();\r\n\t\t\t\tlet y = 0;\r\n\t\t\t\tif (this.bottom) {\r\n\t\t\t\t\tconst bottom = window.innerHeight - targetNode.offsetHeight;\r\n\t\t\t\t\tif (window.innerWidth >= 1024 && rect.y > bottom) {\r\n\t\t\t\t\t\ty = bottom - rect.y;\r\n\t\t\t\t\t\tthis.sticked = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.sticked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconst top = event.direction === 'down' ? 80 : 135;\r\n\t\t\t\t\tif (window.innerWidth >= 1024 && rect.y < top) {\r\n\t\t\t\t\t\ty = top - rect.y;\r\n\t\t\t\t\t\tif (until) {\r\n\t\t\t\t\t\t\tconst untilRect = until.getBoundingClientRect();\r\n\t\t\t\t\t\t\tconst height = untilRect.y - rect.y;\r\n\t\t\t\t\t\t\ty = Math.min(height, y);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.sticked = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.sticked = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tconsole.log(rect.height - targetNode.offsetHeight);\r\n\t\t\t\t// gsap.set(targetNode, { y });\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nScrollStickyDirective.meta = {\r\n\tselector: '[scroll-sticky],[[scroll-sticky]]',\r\n\tinputs: ['target', 'until', 'bottom'],\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\nimport { ScrollService } from './scroll.service';\r\n\r\nexport class ScrollDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tthis.scroll$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('ScrollDirective', event);\r\n\t\t});\r\n\t}\r\n\r\n\tscroll$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst target = this.scroll && node.querySelector(this.scroll) || node;\r\n\t\tconst container = target === node ? window : node;\r\n\t\tconst speed = this.scrollSpeed ? parseFloat(this.scrollSpeed) : 1.5;\r\n\t\treturn ScrollService.scroll$.pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\tif (window.innerWidth < 1024) {\r\n\t\t\t\t\tgsap.set(target, { clearProps: true });\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst containerRect = container === window ? { top: 0, left: 0, width: window.innerWidth, height: window.innerHeight } : container.getBoundingClientRect();\r\n\t\t\t\tconst wh = containerRect.height;\r\n\t\t\t\tconst rect = target.getBoundingClientRect();\r\n\t\t\t\tconst currentY = gsap.getProperty(target, 'y');\r\n\t\t\t\tconst top = rect.top - currentY;\r\n\t\t\t\tconst height = rect.height;\r\n\t\t\t\tconst space = wh + height;\r\n\t\t\t\tlet pow;\r\n\t\t\t\tif (top > -height && top < wh) {\r\n\t\t\t\t\tpow = (top + height) / space;\r\n\t\t\t\t\tpow = 1 - pow * 2;\r\n\t\t\t\t\tconst y = pow * speed * -100;\r\n\t\t\t\t\tgsap.to(target, {\r\n\t\t\t\t\t\ty,\r\n\t\t\t\t\t\tduration: 0.250,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t/*\r\n\t\t\t\tconst wh2 = wh / 2;\r\n\t\t\t\tconst bottom = rect.bottom - currentY;\r\n\t\t\t\tif (top < wh && bottom > 0) {\r\n\t\t\t\t\tpow = (top - wh2) / wh2;\r\n\t\t\t\t\tconst y = pow * speed * 40;\r\n\t\t\t\t\tgsap.set(node, { y });\r\n\t\t\t\t}\r\n\t\t\t\t*/\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nScrollDirective.meta = {\r\n\tselector: '[scroll]',\r\n\tinputs: ['scroll', 'scrollSpeed'],\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport class ShareDirective extends Directive {\r\n\r\n\tget href() {\r\n\t\tswitch (this.share) {\r\n\t\t\tcase 'facebook':\r\n\t\t\t\treturn this.facebookUrl;\r\n\t\t\tcase 'pinterest':\r\n\t\t\t\treturn this.pinterestUrl;\r\n\t\t\tcase 'linkedIn':\r\n\t\t\t\treturn this.linkedInUrl;\r\n\t\t\tcase 'twitter':\r\n\t\t\t\treturn this.twitterUrl;\r\n\t\t\tcase 'whatsapp':\r\n\t\t\t\treturn this.whatsappUrl;\r\n\t\t\tcase 'mailTo':\r\n\t\t\t\treturn this.mailToUrl;\r\n\t\t}\r\n\t}\r\n\r\n\tget facebookUrl() {\r\n\t\treturn `https://www.facebook.com/sharer/sharer.php?u=${this.url}`;\r\n\t}\r\n\r\n\tget pinterestUrl() {\r\n\t\treturn `https://www.pinterest.com/pin/create/button/?url=${this.url}&media=&description=${this.title}`;\r\n\t}\r\n\r\n\tget linkedInUrl() {\r\n\t\treturn `https://www.linkedin.com/shareArticle?mini=true&url=${this.url}&title=${this.title}`;\r\n\t}\r\n\r\n\tget twitterUrl() {\r\n\t\treturn `https://twitter.com/intent/tweet?text=${this.title}%20${this.url}`;\r\n\t}\r\n\r\n\tget whatsappUrl() {\r\n\t\treturn `https://api.whatsapp.com/send?text=${this.url}`;\r\n\t}\r\n\r\n\tget mailToUrl() {\r\n\t\treturn `mailto:?subject=${this.title}&body=${this.url}`;\r\n\t}\r\n\r\n\tget title() {\r\n\t\tconst title = this.shareTitle ? this.shareTitle : document.title;\r\n\t\treturn this.encodeURI(title);\r\n\t}\r\n\r\n\tget url() {\r\n\t\tlet url = this.shareUrl;\r\n\t\tif (url) {\r\n\t\t\tif (url.indexOf(window.location.origin) === -1) {\r\n\t\t\t\turl = window.location.origin + (url.indexOf('/') === 0 ? url : ('/' + url));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\turl = window.location.href;\r\n\t\t}\r\n\t\treturn this.encodeURI(url);\r\n\t}\r\n\r\n\tonInit() {\r\n\t\t// console.log('ShareComponent.onInit', this.share, this.title);\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst href = this.href;\r\n\t\tnode.setAttribute('href', href);\r\n\t\tif (this.share !== 'mailTo') {\r\n\t\t\tnode.setAttribute('target', '_blank');\r\n\t\t\tfromEvent(node, 'click').pipe(\r\n\t\t\t\ttap(event => {\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\twindow.open(href, 'ShareWindow', window.innerWidth >= 768 ? 'width=640,height=480' : '');\r\n\t\t\t\t}),\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe();\r\n\t\t}\r\n\t}\r\n\r\n\t/*\r\n\tonChanges() {\r\n\t\tconsole.log('ShareComponent.onChanges', this.share, this.shareTitle);\r\n\t}\r\n\t*/\r\n\r\n\tencodeURI(text) {\r\n\t\treturn encodeURIComponent(text).replace(/[!'()*]/g, function(c) {\r\n\t\t\treturn '%' + c.charCodeAt(0).toString(16);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nShareDirective.meta = {\r\n\tselector: '[share]',\r\n\tinputs: ['share', 'shareUrl', 'shareTitle'],\r\n};\r\n","import { Pipe } from 'rxcomp';\r\nimport { environment } from '../../environment';\r\n\r\nexport class SlugPipe extends Pipe {\r\n\r\n\tstatic transform(key) {\r\n\t\tconst slug = environment.slug;\r\n\t\treturn slug[key] || `#${key}`;\r\n\t}\r\n\r\n}\r\n\r\nSlugPipe.meta = {\r\n\tname: 'slug',\r\n};\r\n","import { getContext, Structure } from 'rxcomp';\r\n\r\nexport class SvgIconStructure extends Structure {\r\n\tonInit() {\r\n\t\tthis.update();\r\n\t}\r\n\tonChanges() {\r\n\t\tthis.update();\r\n\t}\r\n\tupdate() {\r\n\t\tif (this.name_ !== this.name) {\r\n\t\t\tthis.name_ = this.name;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tif (node.parentNode) {\r\n\t\t\t\tconst xmlns = 'http://www.w3.org/2000/svg';\r\n\t\t\t\tconst element = document.createElementNS(xmlns, `svg`);\r\n\t\t\t\tconst w = this.width || 24;\r\n\t\t\t\tconst h = this.height || 24;\r\n\t\t\t\telement.setAttribute('class', `icon--${this.name}`);\r\n\t\t\t\t// element.setAttributeNS(null, 'width', w);\r\n\t\t\t\t// element.setAttributeNS(null, 'height', h);\r\n\t\t\t\telement.setAttributeNS(null, 'viewBox', `0 0 ${w} ${h}`);\r\n\t\t\t\telement.innerHTML = `<use xlink:href=\"#${this.name}\"></use>`;\r\n\t\t\t\telement.rxcompId = node.rxcompId;\r\n\t\t\t\telement.classList.add(...node.classList);\r\n\t\t\t\tnode.parentNode.replaceChild(element, node);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nSvgIconStructure.meta = {\r\n\tselector: 'svg-icon',\r\n\tinputs: ['name', 'width', 'height']\r\n};\r\n\r\n/*\r\n<svg class=\"copy\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><use xlink:href=\"#copy\"></use></svg>\r\n*/\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { Subject } from 'rxjs';\r\n\r\nexport class SwiperDirective extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 'auto',\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tcenteredSlides: true,\r\n\t\t\tspeed: 600,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.swiper-pagination',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t}\r\n\r\n\tget slideIndex() {\r\n\t\treturn this.swiper ? this.swiper.realIndex + 1 : 0;\r\n\t}\r\n\r\n\tget slideTotal() {\r\n\t\treturn this.swiper ? this.swiper.slides.length : 0;\r\n\t}\r\n\r\n\tget enabled() {\r\n\t\treturn !window.matchMedia('print').matches;\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tthis.swiperInitOrUpdate_();\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tthis.removeListeners_();\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tonBeforePrint() {\r\n\t\tthis.swiperDestroy_();\r\n\t}\r\n\r\n\tslideToIndex(index) {\r\n\t\t// console.log('SwiperDirective.slideToIndex', index);\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.slideTo(index);\r\n\t\t}\r\n\t}\r\n\r\n\thasPrev() {\r\n\t\tconst swiper = this.swiper;\r\n\t\tif (swiper) {\r\n\t\t\t// console.log('SwiperDirective.hasPrev', swiper.activeIndex, swiper.realIndex, swiper.slides.length);\r\n\t\t\tif (swiper.activeIndex > 0 && swiper.slides.length > swiper.activeIndex) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thasNext() {\r\n\t\tconst swiper = this.swiper;\r\n\t\tif (swiper) {\r\n\t\t\tconst slidesPerView = swiper.params.slidesPerView === 'auto' ? 1 : (swiper.params.slidesPerView || 1);\r\n\t\t\t// console.log('SwiperDirective.hasNext', swiper.slides.length, slidesPerView, swiper.activeIndex);\r\n\t\t\tif (swiper.activeIndex < swiper.slides.length - slidesPerView) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tslidePrev() {\r\n\t\tconst swiper = this.swiper;\r\n\t\tif (this.hasPrev()) {\r\n\t\t\t// console.log('SwiperDirective.slidePrev', swiper.activeIndex, swiper.realIndex, swiper.slides);\r\n\t\t\tswiper.slideTo(swiper.activeIndex - 1);\r\n\t\t}\r\n\t}\r\n\r\n\tslideNext() {\r\n\t\tconst swiper = this.swiper;\r\n\t\tif (this.hasNext()) {\r\n\t\t\t// console.log('SwiperDirective.slideNext', swiper.activeIndex, swiper.realIndex, swiper.slides);\r\n\t\t\tswiper.slideTo(swiper.activeIndex + 1);\r\n\t\t}\r\n\t}\r\n\r\n\tinit_(target) {\r\n\t\tthis.events$ = new Subject();\r\n\t\tif (this.enabled) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\ttarget = target || node;\r\n\t\t\tthis.target = target;\r\n\t\t\tgsap.set(target, { opacity: 0 });\r\n\t\t\tthis.index = 0;\r\n\t\t\tconst on = this.options.on || {};\r\n\t\t\ton.slideChange = () => {\r\n\t\t\t\tconst swiper = this.swiper;\r\n\t\t\t\tif (swiper) {\r\n\t\t\t\t\tthis.index = swiper.activeIndex;\r\n\t\t\t\t\tthis.events$.next(this.index);\r\n\t\t\t\t\tthis.pushChanges();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.options.on = on;\r\n\t\t\tthis.addListeners_();\r\n\t\t}\r\n\t}\r\n\r\n\taddListeners_() {\r\n\t\tthis.onBeforePrint = this.onBeforePrint.bind(this);\r\n\t\twindow.addEventListener('beforeprint', this.onBeforePrint);\r\n\t\t/*\r\n\t\tscope.$on('onResize', ($scope) => {\r\n\t\t\tthis.onResize(scope, element, attributes);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\tremoveListeners_() {\r\n\t\twindow.removeEventListener('beforeprint', this.onBeforePrint);\r\n\t}\r\n\r\n\tswiperInitOrUpdate_() {\r\n\t\tif (this.enabled) {\r\n\t\t\tconst target = this.target;\r\n\t\t\tif (this.swiper) {\r\n\t\t\t\tthis.swiper.update();\r\n\t\t\t} else {\r\n\t\t\t\tlet swiper;\r\n\t\t\t\tconst on = this.options.on || (this.options.on = {});\r\n\t\t\t\tconst callback = on.init;\r\n\t\t\t\tif (!on.init || !on.init.swiperDirectiveInit) {\r\n\t\t\t\t\ton.init = function() {\r\n\t\t\t\t\t\tgsap.to(target, {\r\n\t\t\t\t\t\t\tduration: 0.4,\r\n\t\t\t\t\t\t\topacity: 1,\r\n\t\t\t\t\t\t\tease: Power2.easeOut,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tif (typeof callback === 'function') {\r\n\t\t\t\t\t\t\t\tcallback.apply(this, [swiper, element, scope]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t};\r\n\t\t\t\t\ton.init.swiperDirectiveInit = true;\r\n\t\t\t\t}\r\n\t\t\t\tgsap.set(target, { opacity: 1 });\r\n\t\t\t\tswiper = new Swiper(target, this.options);\r\n\t\t\t\t// console.log(swiper);\r\n\t\t\t\tthis.swiper = swiper;\r\n\t\t\t\tthis.swiper._opening = true;\r\n\t\t\t\ttarget.classList.add('swiper-init');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tswiperDestroy_() {\r\n\t\tif (this.swiper) {\r\n\t\t\tthis.swiper.destroy();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nSwiperDirective.meta = {\r\n\tselector: '[swiper]',\r\n\tinputs: ['consumer']\r\n};\r\n","import { fromEvent, of } from 'rxjs';\r\nimport { map, shareReplay } from 'rxjs/operators';\r\n\r\n// <!-- <script id=ta_bootstrapper src='https://gruppoconcorde-cdn.thron.com/shared/plugins/tracking/current/bootstrapper-min.js'></script> -->\r\n// <script src='https://gruppoconcorde-cdn.thron.com/shared/ce/bootstrap/1/scripts/embeds-min.js'></script>\r\n\r\nexport class ThronService {\r\n\r\n\tstatic thron$() {\r\n\t\tlet thron = window.THRONContentExperience || window.THRONPlayer;\r\n\t\tif (thron) {\r\n\t\t\treturn of(thron);\r\n\t\t} else {\r\n\t\t\tconst script = document.createElement('script');\r\n\t\t\tscript.setAttribute('type', 'text/javascript');\r\n\t\t\tscript.setAttribute('src', 'https://gruppoconcorde-cdn.thron.com/shared/ce/bootstrap/1/scripts/embeds-min.js')\r\n\t\t\tconst loaded$ = fromEvent(script, 'load').pipe(\r\n\t\t\t\t// tap(event => console.log(event, window.THRONContentExperience || window.THRONPlayer)),\r\n\t\t\t\tmap(event => window.THRONContentExperience || window.THRONPlayer),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t\treturn document.head.appendChild(script) && loaded$;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { first, tap } from 'rxjs/operators';\r\nimport { ThronService } from './thron.service';\r\n\r\nlet ID = 0;\r\n\r\nexport class ThronComponent extends Component {\r\n\r\n\tplaying_ = false;\r\n\tget playing() {\r\n\t\treturn this.playing_;\r\n\t}\r\n\tset playing(playing) {\r\n\t\tif (this.playing_ !== playing) {\r\n\t\t\tthis.playing_ = playing;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tif (node) {\r\n\t\t\t\tplaying ? node.classList.add('playing') : node.classList.remove('playing');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\t// console.log('ThronComponent.onInit');\r\n\t\tthis.init$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tinit$() {\r\n\t\treturn ThronService.thron$().pipe(\r\n\t\t\ttap(THRON => {\r\n\t\t\t\t// const THRON = window.THRONContentExperience || window.THRONPlayer;\r\n\t\t\t\tif (!THRON) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log('THRONContentExperience', window.THRONContentExperience, 'THRONPlayer', window.THRONPlayer);\r\n\t\t\t\tconst { node } = getContext(this);\r\n\t\t\t\tconst target = this.target = node.querySelector('.video > .thron');\r\n\t\t\t\tconst id = target.id = `thron-${++ID}`;\r\n\t\t\t\tlet media = this.thron;\r\n\t\t\t\tif (media.indexOf('pkey=') === -1) {\r\n\t\t\t\t\tconst splitted = media.split('/');\r\n\t\t\t\t\tconst clientId = splitted[6];\r\n\t\t\t\t\tconst xcontentId = splitted[7];\r\n\t\t\t\t\tconst pkey = splitted[8];\r\n\t\t\t\t\tmedia = `https://gruppoconcorde-view.thron.com/api/xcontents/resources/delivery/getContentDetail?clientId=${clientId}&xcontentId=${xcontentId}&pkey=${pkey}`;\r\n\t\t\t\t}\r\n\t\t\t\tconst controls = this.controls = node.hasAttribute('controls') ? true : false,\r\n\t\t\t\t\tloop = this.loop = node.hasAttribute('loop') ? true : false,\r\n\t\t\t\t\tautoplay = this.autoplay = node.hasAttribute('autoplay') ? true : false;\r\n\t\t\t\tconst player = this.player = THRON(id, {\r\n\t\t\t\t\tmedia: media,\r\n\t\t\t\t\tloop: loop,\r\n\t\t\t\t\tautoplay: autoplay,\r\n\t\t\t\t\tmuted: !controls,\r\n\t\t\t\t\tdisplayLinked: 'close',\r\n\t\t\t\t\tnoSkin: !controls,\r\n\t\t\t\t\t// lockBitrate: 'max',\r\n\t\t\t\t});\r\n\t\t\t\tthis.onReady = this.onReady.bind(this);\r\n\t\t\t\tthis.onCanPlay = this.onCanPlay.bind(this);\r\n\t\t\t\tthis.onPlaying = this.onPlaying.bind(this);\r\n\t\t\t\tthis.onPlay = this.onPlay.bind(this);\r\n\t\t\t\tthis.onPause = this.onPause.bind(this);\r\n\t\t\t\tthis.onComplete = this.onComplete.bind(this);\r\n\t\t\t\tplayer.on('ready', this.onReady);\r\n\t\t\t\tplayer.on('canPlay', this.onCanPlay);\r\n\t\t\t\tplayer.on('playing', this.onPlaying);\r\n\t\t\t\tplayer.on('play', this.onPlay);\r\n\t\t\t\tplayer.on('pause', this.onPause);\r\n\t\t\t\tplayer.on('complete', this.onComplete);\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tonReady() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tif (!this.controls) {\r\n\t\t\tconst mediaContainer = player.mediaContainer();\r\n\t\t\tconst video = mediaContainer.querySelector('video');\r\n\t\t\tvideo.setAttribute('playsinline', 'true');\r\n\t\t\tvideo.setAttribute('autoplay', 'true');\r\n\t\t}\r\n\t\tthis.ready.next(id);\r\n\t\t// video.setAttribute('autoplay', 'true');\r\n\t};\r\n\r\n\tonCanPlay() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\t// console.log('ThronDirective.onCanPlay', id);\r\n\t\tthis.canPlay.next(id);\r\n\t}\r\n\r\n\tonPlaying() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tplayer.off('playing', this.onPlaying);\r\n\t\tif (!this.controls) {\r\n\t\t\tconst qualities = player.qualityLevels();\r\n\t\t\t// console.log('ThronDirective.onPlaying', id, qualities);\r\n\t\t\tif (qualities.length) {\r\n\t\t\t\tconst highestQuality = qualities[qualities.length - 1].index;\r\n\t\t\t\tconst lowestQuality = qualities[0].index;\r\n\t\t\t\tplayer.currentQuality(highestQuality);\r\n\t\t\t\t// console.log('ThronDirective.onPlaying', id, 'currentQuality', player.currentQuality());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonPlay() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\t// console.log('ThronDirective.onComplete', id);\r\n\t\tthis.playing = true;\r\n\t\tthis.play.next(id);\r\n\t}\r\n\r\n\tonPause() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\t// console.log('ThronDirective.onComplete', id);\r\n\t\tthis.playing = false;\r\n\t\tthis.pause.next(id);\r\n\t}\r\n\r\n\tonComplete() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\t// console.log('ThronDirective.onComplete', id);\r\n\t\tthis.playing = false;\r\n\t\tthis.complete.next(id);\r\n\t}\r\n\r\n\tplayVideo() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tconst status = player.status();\r\n\t\t// console.log('ThronDirective.playVideo', id, status);\r\n\t\tif (status && !status.playing) {\r\n\t\t\tplayer.play();\r\n\t\t}\r\n\t}\r\n\r\n\tpauseVideo() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tconst status = player.status();\r\n\t\t// console.log('ThronDirective.pauseVideo', id, status);\r\n\t\tif (status && status.playing) {\r\n\t\t\tplayer.pause();\r\n\t\t}\r\n\t}\r\n\r\n\ttoggle() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst id = this.target.id;\r\n\t\tconst player = this.player;\r\n\t\tconst status = player.status();\r\n\t\t// console.log('ThronDirective.pauseVideo', id, status);\r\n\t\tif (status && status.playing) {\r\n\t\t\tplayer.pause();\r\n\t\t} else {\r\n\t\t\tplayer.play();\r\n\t\t}\r\n\t}\r\n\r\n\tplay(id) {\r\n\t\t// console.log('ThronDirective.play', id, id, id === id);\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (id === this.target.id) {\r\n\t\t\tthis.playVideo();\r\n\t\t}\r\n\t}\r\n\r\n\tpause(id) {\r\n\t\t// console.log('ThronDirective.pause', id, id, id === id);\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (id === this.target.id) {\r\n\t\t\tthis.pauseVideo();\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tconst player = this.player;\r\n\t\tif (player) {\r\n\t\t\tplayer.off('ready', this.onReady);\r\n\t\t\tplayer.off('canPlay', this.onCanPlay);\r\n\t\t\tplayer.off('playing', this.onPlaying);\r\n\t\t\tplayer.off('play', this.onPlay);\r\n\t\t\tplayer.off('pause', this.onPause);\r\n\t\t\tplayer.off('complete', this.onComplete);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nThronComponent.meta = {\r\n\tselector: '[thron],[[thron]]',\r\n\toutputs: ['ready', 'canPlay', 'play', 'pause', 'complete'],\r\n\tinputs: ['thron', 'm3u8'],\r\n\ttemplate: /* html */``,\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\n\r\nexport class TitleDirective extends Directive {\r\n\tset title(title) {\r\n\t\tif (this.title_ !== title) {\r\n\t\t\tthis.title_ = title;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\ttitle ? node.setAttribute('title', title) : node.removeAttribute('title');\r\n\t\t}\r\n\t}\r\n\tget title() {\r\n\t\treturn this.title_;\r\n\t}\r\n}\r\n\r\nTitleDirective.meta = {\r\n\tselector: '[[title]]',\r\n\tinputs: ['title'],\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { takeUntil, tap } from 'rxjs/operators';\r\n\r\nexport class ToggleDirective extends Directive {\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tfromEvent(node, 'click').pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\tconst items = Array.prototype.slice.call(document.querySelectorAll(this.toggle));\r\n\t\t\t\titems.forEach(item => {\r\n\t\t\t\t\tif (item === node) {\r\n\t\t\t\t\t\titem.classList.contains('active') ? item.classList.remove('active') : item.classList.add('active');\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\titem.classList.remove('active');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t}\r\n}\r\n\r\nToggleDirective.meta = {\r\n\tselector: '[toggle]',\r\n\tinputs: ['toggle'],\r\n};\r\n","import { Module } from 'rxcomp';\r\nimport { AltDirective } from './alt/alt.directive';\r\nimport { AppearDirective } from './appear/appear.directive';\r\nimport { ClickOutsideDirective } from './click-outside/click-outside.directive';\r\nimport { DatePipe } from './date/date.pipe';\r\nimport { DownloadDirective } from './download/download.directive';\r\nimport { DropdownItemDirective } from './dropdown/dropdown-item.directive';\r\nimport { DropdownDirective } from './dropdown/dropdown.directive';\r\nimport { EllipsisDirective } from './ellipsis/ellipsis.directive';\r\nimport { EnvPipe } from './env/env.pipe';\r\nimport { FilterItemComponent } from './filter/filter-item.component';\r\nimport { FlagPipe } from './flag/flag.pipe';\r\nimport { GalleryModalComponent } from './gallery/gallery-modal.component';\r\nimport { GalleryComponent } from './gallery/gallery.component';\r\nimport { HighlightPipe } from './highlight/highlight.pipe';\r\nimport { HtmlPipe } from './html/html.pipe';\r\nimport { IdDirective } from './id/id.directive';\r\nimport { LabelForDirective } from './label-for/label-for.directive';\r\nimport { LabelPipe } from './label/label.pipe';\r\nimport { ModalOutletComponent } from './modal/modal-outlet.component';\r\nimport { NameDirective } from './name/name.directive';\r\nimport { NumberPipe } from './number/number.pipe';\r\nimport { RelativeDatePipe } from './relative-date/relative-date.pipe';\r\nimport { ScrollMenuDirective } from './scroll-menu/scroll-menu.directive';\r\nimport { ScrollToDirective } from './scroll-to/scroll-to.directive';\r\nimport { ScrollStickyDirective } from './scroll/scroll-sticky.directive';\r\nimport { ScrollDirective } from './scroll/scroll.directive';\r\nimport { ShareDirective } from './share/share.directive';\r\nimport { SlugPipe } from './slug/slug.pipe';\r\nimport { SvgIconStructure } from './svg/svg-icon.structure';\r\nimport { SwiperDirective } from './swiper/swiper.directive';\r\nimport { ThronComponent } from './thron/thron.component';\r\nimport { TitleDirective } from './title/title.directive';\r\nimport { ToggleDirective } from './toggle/toggle.directive';\r\n\r\nconst factories = [\r\n\tAltDirective,\r\n\tAppearDirective,\r\n\tClickOutsideDirective,\r\n\tDownloadDirective,\r\n\t// DropDirective,\r\n\tDropdownDirective,\r\n\tDropdownItemDirective,\r\n\t// DropdownItemDirective,\r\n\tEllipsisDirective,\r\n\tFilterItemComponent,\r\n\tGalleryComponent,\r\n\tGalleryModalComponent,\r\n\tIdDirective,\r\n\tLabelForDirective,\r\n\t// LanguageComponent,\r\n\t// LazyDirective,\r\n\t// ModalComponent,\r\n\tModalOutletComponent,\r\n\tNameDirective,\r\n\tScrollDirective,\r\n\tScrollStickyDirective,\r\n\tScrollToDirective,\r\n\tScrollMenuDirective,\r\n\tShareDirective,\r\n\tSvgIconStructure,\r\n\tSwiperDirective,\r\n\tThronComponent,\r\n\tTitleDirective,\r\n\tToggleDirective,\r\n\t// UploadItemComponent,\r\n\t// VirtualStructure\r\n];\r\n\r\nconst pipes = [\r\n\tDatePipe,\r\n\tEnvPipe,\r\n\tFlagPipe,\r\n\tHighlightPipe,\r\n\tHtmlPipe,\r\n\tLabelPipe,\r\n\tNumberPipe,\r\n\tRelativeDatePipe,\r\n\tSlugPipe,\r\n];\r\n\r\nexport class CommonModule extends Module { }\r\n\r\nCommonModule.meta = {\r\n\timports: [\r\n\t],\r\n\tdeclarations: [\r\n\t\t...factories,\r\n\t\t...pipes,\r\n\t],\r\n\texports: [\r\n\t\t...factories,\r\n\t\t...pipes,\r\n\t],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\n\r\nlet UID = 10000;\r\n\r\nexport class ControlComponent extends Component {\r\n\r\n\tget uniqueId() {\r\n\t\treturn this.control.name + this.uid;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.uid = ++UID;\r\n\t\tthis.label = this.label || 'label';\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\t// console.log(this, node, this.control);\r\n\t\tconst control = this.control;\r\n\t\tconst flags = control.flags;\r\n\t\tObject.keys(flags).forEach((key) => {\r\n\t\t\tflags[key] ? node.classList.add(key) : node.classList.remove(key);\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\nControlComponent.meta = {\r\n\tselector: '[control]',\r\n\tinputs: ['control']\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { from, fromEvent, merge } from 'rxjs';\r\nimport { switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport { ModalService } from '../common/modal/modal.service';\r\nimport { environment } from '../environment';\r\nimport { ControlComponent } from './control.component';\r\n\r\nexport class ControlCheckboxComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tif (this.target === 'modal') {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.link$().pipe(\r\n\t\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t\t).subscribe();\r\n\t\t\t}, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tlink$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst anchors = Array.prototype.slice.call(node.querySelectorAll('a'));\r\n\t\t// console.log(anchors, node.innerHTML);\r\n\t\treturn merge(...anchors.map(anchor => fromEvent(anchor, 'click'))).pipe(\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t// console.log('UserDetailComponent.onModalUserUpdate');\r\n\t\t\t\tconst anchor = event.target;\r\n\t\t\t\tconst href = anchor.getAttribute('href');\r\n\t\t\t\t// console.log('ControlCheckboxComponent.link$.href', href);\r\n\t\t\t\treturn from(fetch(href).then(response => response.text()));\r\n\t\t\t}),\r\n\t\t\ttap(html => {\r\n\t\t\t\t// console.log('ControlCheckboxComponent.link$.html', html);\r\n\t\t\t\tconst parser = new DOMParser();\r\n\t\t\t\tconst htmlDocument = parser.parseFromString(html, 'text/html');\r\n\t\t\t\t// console.log('ControlCheckboxComponent.link$.htmlDocument', htmlDocument);\r\n\t\t\t\tlet title = htmlDocument.querySelector('.section--intro-sm .title');\r\n\t\t\t\ttitle = title ? title.innerHTML : null;\r\n\t\t\t\tlet abstract = htmlDocument.querySelector('.section--intro-sm .descritpion');\r\n\t\t\t\tabstract = abstract ? abstract.innerHTML : null;\r\n\t\t\t\tlet description = htmlDocument.querySelector('.section--text .col-md-6');\r\n\t\t\t\tdescription = description ? description.innerHTML : null;\r\n\t\t\t\tModalService.open$({ src: environment.template.modal.genericModal, data: { title: title, abstract: abstract, description: description } }).pipe(\r\n\t\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t\t).subscribe(event => {\r\n\t\t\t\t\t// console.log('ControlCheckboxComponent.link$.genericModal', event);\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nControlCheckboxComponent.meta = {\r\n\tselector: '[control-checkbox]',\r\n\tinputs: ['control', 'label', 'target'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--checkbox\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<input [id]=\"uniqueId\" type=\"checkbox\" class=\"control--checkbox\" [formControl]=\"control\" [value]=\"true\" />\r\n\t\t\t<label [labelFor]=\"uniqueId\">\r\n\t\t\t\t<svg class=\"icon icon--checkbox\"><use xlink:href=\"#checkbox\"></use></svg>\r\n\t\t\t\t<svg class=\"icon icon--checkbox-checked\"><use xlink:href=\"#checkbox-checked\"></use></svg>\r\n\t\t\t\t<span [innerHTML]=\"label | html\"></span>\r\n\t\t\t\t<span class=\"required__sign\">*</span>\r\n\t\t\t</label>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { fromEvent, merge } from 'rxjs';\r\nimport { filter, map, shareReplay, startWith } from 'rxjs/operators';\r\n\r\nexport class KeyboardService {\r\n\r\n\tstatic keys = {};\r\n\r\n\tstatic keydown$() {\r\n\t\tif (!this.keydown$_) {\r\n\t\t\tthis.keydown$_ = fromEvent(window, 'keydown').pipe(\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.keydown$_;\r\n\t}\r\n\r\n\tstatic keyup$() {\r\n\t\tif (!this.keyup$_) {\r\n\t\t\tthis.keyup$_ = fromEvent(window, 'keyup').pipe(\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t);\r\n\t\t}\r\n\t\treturn this.keyup$_;\r\n\t}\r\n\r\n\tstatic keys$() {\r\n\t\tif (!this.keys$_) {\r\n\t\t\tthis.keys$_ = merge(this.keydown$(), this.keyup$()).pipe(\r\n\t\t\t\tmap(event => {\r\n\t\t\t\t\tconst keys = this.keys;\r\n\t\t\t\t\tif (event.type === 'keydown') {\r\n\t\t\t\t\t\tkeys[event.key] = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdelete keys[event.key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this.keys;\r\n\t\t\t\t}),\r\n\t\t\t\tstartWith(this.keys),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn this.keys$_;\r\n\t}\r\n\r\n\tstatic key$() {\r\n\t\tif (!this.key$_) {\r\n\t\t\tconst regexp = /\\w/;\r\n\t\t\tthis.key$_ = this.keydown$().pipe(\r\n\t\t\t\tfilter(event => event.key && event.key.match(regexp)),\r\n\t\t\t\tmap(event => event.key),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn this.key$_;\r\n\t}\r\n\r\n\tstatic typing$() {\r\n\t\tif (!this.typing$_) {\r\n\t\t\tlet typing = '',\r\n\t\t\t\tto;\r\n\t\t\tthis.typing$_ = this.key$().pipe(\r\n\t\t\t\tmap(key => {\r\n\t\t\t\t\tif (to) {\r\n\t\t\t\t\t\tclearTimeout(to);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttyping += key;\r\n\t\t\t\t\tto = setTimeout(() => {\r\n\t\t\t\t\t\ttyping = '';\r\n\t\t\t\t\t}, 1500);\r\n\t\t\t\t\treturn typing;\r\n\t\t\t\t}),\r\n\t\t\t\tshareReplay(1),\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn this.typing$_;\r\n\t}\r\n\r\n}\r\n","import { getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { DropdownDirective } from '../common/dropdown/dropdown.directive';\r\nimport { KeyboardService } from '../common/keyboard/keyboard.service';\r\nimport { ControlComponent } from './control.component';\r\n\r\nexport class ControlCustomSelectComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.dropped = false;\r\n\t\tthis.dropdownId = DropdownDirective.nextId();\r\n\t\tKeyboardService.typing$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(word => {\r\n\t\t\tthis.scrollToWord(word);\r\n\t\t});\r\n\t\t/*\r\n\t\tKeyboardService.key$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(key => {\r\n\t\t\tthis.scrollToKey(key);\r\n\t\t});\r\n\t\t*/\r\n\t}\r\n\r\n\t/*\r\n\tonChanges() {\r\n\t\t// console.log('ControlCustomSelectComponent.onChanges');\r\n\t}\r\n\t*/\r\n\r\n\tscrollToWord(word) {\r\n\t\t// console.log('ControlCustomSelectComponent.scrollToWord', word);\r\n\t\tconst items = this.control.options || [];\r\n\t\tlet index = -1;\r\n\t\tfor (let i = 0; i < items.length; i++) {\r\n\t\t\tconst x = items[i];\r\n\t\t\tif (x.name.toLowerCase().indexOf(word.toLowerCase()) === 0) {\r\n\t\t\t\t// console.log(word, x.name);\r\n\t\t\t\tindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (index !== -1) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tconst dropdown = node.querySelector('.dropdown');\r\n\t\t\tconst navDropdown = node.querySelector('.nav--dropdown');\r\n\t\t\tconst item = navDropdown.children[index];\r\n\t\t\tdropdown.scrollTo(0, item.offsetTop);\r\n\t\t}\r\n\t}\r\n\r\n\tsetOption(item) {\r\n\t\t// console.log('setOption', item, this.isMultiple);\r\n\t\tlet value;\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst value = this.control.value || [];\r\n\t\t\tconst index = value.indexOf(item.id);\r\n\t\t\tif (index !== -1) {\r\n\t\t\t\t// if (value.length > 1) {\r\n\t\t\t\tvalue.splice(index, 1);\r\n\t\t\t\t// }\r\n\t\t\t} else {\r\n\t\t\t\tvalue.push(item.id);\r\n\t\t\t}\r\n\t\t\tvalue = value.length ? value.slice() : null;\r\n\t\t} else {\r\n\t\t\tvalue = item.id;\r\n\t\t\t// DropdownDirective.dropdown$.next(null);\r\n\t\t}\r\n\t\tthis.control.value = value;\r\n\t\tthis.change.next(value);\r\n\t}\r\n\r\n\thasOption(item) {\r\n\t\tif (this.isMultiple) {\r\n\t\t\tconst values = this.control.value || [];\r\n\t\t\treturn values.indexOf(item.id) !== -1;\r\n\t\t} else {\r\n\t\t\treturn this.control.value === item.id;\r\n\t\t}\r\n\t}\r\n\r\n\tgetLabel() {\r\n\t\tlet value = this.control.value;\r\n\t\tconst items = this.control.options || [];\r\n\t\tif (this.isMultiple) {\r\n\t\t\tvalue = value || [];\r\n\t\t\tif (value.length) {\r\n\t\t\t\treturn value.map(v => {\r\n\t\t\t\t\tconst item = items.find(x => x.id === v || x.name === v);\r\n\t\t\t\t\treturn item ? item.name : '';\r\n\t\t\t\t}).join(', ');\r\n\t\t\t} else {\r\n\t\t\t\treturn this.select || 'select'; // LabelPipe.transform('select');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst item = value ? items.find(x => x.id === value || x.name === value) : null;\r\n\t\t\tif (item) {\r\n\t\t\t\treturn item.name;\r\n\t\t\t} else {\r\n\t\t\t\treturn this.select || 'select'; // LabelPipe.transform('select');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonDropped($event) {\r\n\t\t// console.log('ControlCustomSelectComponent.onDropped', id);\r\n\t\tif (this.dropped && $event === null) {\r\n\t\t\tthis.control.touched = true;\r\n\t\t}\r\n\t\tthis.dropped = $event === this.dropdownId;\r\n\t}\r\n\r\n\tget isMultiple() {\r\n\t\treturn this.multiple && this.multiple !== false && this.multiple !== 'false';\r\n\t}\r\n\r\n}\r\n\r\nControlCustomSelectComponent.meta = {\r\n\tselector: '[control-custom-select]',\r\n\toutputs: ['change'],\r\n\tinputs: ['control', 'label', 'multiple', 'select'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--select\" [class]=\"{ required: control.validators.length, multiple: isMultiple }\" [dropdown]=\"dropdownId\" (dropped)=\"onDropped($event)\">\r\n\t\t\t<!--<label><span [innerHTML]=\"label\"></span> <span class=\"required__sign\">*</span></label>-->\r\n\t\t\t<span class=\"control--custom-select\" [innerHTML]=\"getLabel() | label\"></span>\r\n\t\t\t<svg class=\"caret-down\"><use xlink:href=\"#caret-down\"></use></svg>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t\t<div class=\"dropdown\" [dropdown-item]=\"dropdownId\">\r\n\t\t\t<div class=\"category\" [innerHTML]=\"label\"></div>\r\n\t\t\t<ul class=\"nav--dropdown\" [class]=\"{ multiple: isMultiple }\">\r\n\t\t\t\t<li (click)=\"setOption(item)\" [class]=\"{ empty: item.id == null }\" *for=\"let item of control.options\">\r\n\t\t\t\t\t<span [class]=\"{ active: hasOption(item) }\" [innerHTML]=\"item.name | label\"></span>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t`\r\n};\r\n","import { ControlComponent } from './control.component';\r\n\r\nexport class ControlEmailComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t}\r\n\r\n}\r\n\r\nControlEmailComponent.meta = {\r\n\tselector: '[control-email]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [labelFor]=\"uniqueId\"><span [innerHTML]=\"label\"></span> <span class=\"required__sign\">*</span></label>\r\n\t\t\t<input [id]=\"uniqueId\" type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" required email />\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { ControlComponent } from './control.component';\r\n\r\nexport class ControlFileComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.labels = window.labels || {};\r\n\t\tthis.file = null;\r\n\t\tthis.onReaderComplete = this.onReaderComplete.bind(this);\r\n\t}\r\n\r\n\tonInputDidChange(event) {\r\n\t\tconst input = event.target;\r\n\t\tconst file = input.files[0];\r\n\t\tthis.file = {\r\n\t\t\tname: file.name,\r\n\t\t\tlastModified: file.lastModified,\r\n\t\t\tlastModifiedDate: file.lastModifiedDate,\r\n\t\t\tsize: file.size,\r\n\t\t\ttype: file.type,\r\n\t\t}\r\n\t\tconst reader = new FileReader();\r\n\t\treader.addEventListener('load', this.onReaderComplete);\r\n\t\treader.readAsDataURL(file);\r\n\t\t// reader.readAsArrayBuffer() // Starts reading the contents of the specified Blob, once finished, the result attribute contains an ArrayBuffer representing the file's data.\r\n\t\t// reader.readAsBinaryString() // Starts reading the contents of the specified Blob, once finished, the result attribute contains the raw binary data from the file as a string.\r\n\t\t// reader.readAsDataURL() // Starts reading the contents of the specified Blob, once finished, the result attribute contains a data: URL representing the file's data.\r\n\t\t// reader.readAsText() // Starts reading the contents of the specified Blob, once finished, the result attribute contains the contents of the file as a text string. An optional encoding name can be specified.\r\n\t}\r\n\r\n\tonReaderComplete(event) {\r\n\t\tconst content = event.target.result;\r\n\t\tthis.file.content = content;\r\n\t\tthis.control.value = this.file;\r\n\t\t// console.log('ControlFileComponent.onReaderComplete', this.file);\r\n\t\t// image/*,\r\n\t}\r\n\r\n}\r\n\r\nControlFileComponent.meta = {\r\n\tselector: '[control-file]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--file\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<!--<label for=\"file\"><span [innerHTML]=\"label\"></span> <span class=\"required__sign\">*</span></label>-->\r\n\t\t\t<span class=\"control--text\" [innerHTML]=\"file?.name || labels.select_file\"></span>\r\n\t\t\t<svg class=\"upload\"><use xlink:href=\"#upload\"></use></svg>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t<input name=\"file\" type=\"file\" accept=\".pdf,.doc,.docx,*.txt\" class=\"control--file\" (change)=\"onInputDidChange($event)\" />\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { ControlComponent } from './control.component';\r\n\r\nexport class ControlPasswordComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tconst { node } = getContext(this);\r\n\t\tif (node.hasAttribute('secure')) {\r\n\t\t\t// const name = [...\"abcdefghijklmnopqrsuvwxyz0123456789\"].map((c, i, a) => a[Math.floor(Math.random() * a.length)]).join('');\r\n\t\t\tconst input = node.querySelector('input');\r\n\t\t\tinput.setAttribute('autocomplete', 'new-password');\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nControlPasswordComponent.meta = {\r\n\tselector: '[control-password]',\r\n\tinputs: ['control', 'label'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<label [labelFor]=\"uniqueId\"><span [innerHTML]=\"label\"></span> <span class=\"required__sign\">*</span></label>\r\n\t\t\t<input [id]=\"uniqueId\" type=\"password\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" />\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { from, fromEvent, merge } from 'rxjs';\r\nimport { switchMap, takeUntil, tap } from 'rxjs/operators';\r\nimport { ModalService } from '../common/modal/modal.service';\r\nimport { environment } from '../environment';\r\nimport { ControlComponent } from './control.component';\r\n\r\nexport class ControlPrivacyComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tif (this.target === 'modal') {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.link$().pipe(\r\n\t\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t\t).subscribe();\r\n\t\t\t}, 1);\r\n\t\t}\r\n\t}\r\n\r\n\tonChanges() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst inputs = Array.prototype.slice.call(node.querySelectorAll('input'));\r\n\t\tinputs.forEach((input, i) => {\r\n\t\t\t(this.control.value === true && i === 0) || (this.control.value === false && i === 1) ? input.setAttribute('checked', '') : input.removeAttribute('checked');\r\n\t\t});\r\n\t}\r\n\r\n\tonSelect(value) {\r\n\t\tthis.control.value = value;\r\n\t}\r\n\r\n\tlink$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst anchors = Array.prototype.slice.call(node.querySelectorAll('a'));\r\n\t\t// console.log(anchors, node.innerHTML);\r\n\t\treturn merge(...anchors.map(anchor => fromEvent(anchor, 'click'))).pipe(\r\n\t\t\tswitchMap(event => {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t// console.log('UserDetailComponent.onModalUserUpdate');\r\n\t\t\t\tconst anchor = event.target;\r\n\t\t\t\tconst href = anchor.getAttribute('href');\r\n\t\t\t\t// console.log('ControlPrivacyComponent.link$.href', href);\r\n\t\t\t\treturn from(fetch(href).then(response => response.text()));\r\n\t\t\t}),\r\n\t\t\ttap(html => {\r\n\t\t\t\t// console.log('ControlPrivacyComponent.link$.html', html);\r\n\t\t\t\tconst parser = new DOMParser();\r\n\t\t\t\tconst htmlDocument = parser.parseFromString(html, 'text/html');\r\n\t\t\t\t// console.log('ControlPrivacyComponent.link$.htmlDocument', htmlDocument);\r\n\t\t\t\tlet title = htmlDocument.querySelector('.section--intro-sm .title');\r\n\t\t\t\ttitle = title ? title.innerHTML : null;\r\n\t\t\t\tlet abstract = htmlDocument.querySelector('.section--intro-sm .descritpion');\r\n\t\t\t\tabstract = abstract ? abstract.innerHTML : null;\r\n\t\t\t\tlet description = htmlDocument.querySelector('.section--text .col-md-6');\r\n\t\t\t\tdescription = description ? description.innerHTML : null;\r\n\t\t\t\tModalService.open$({ src: environment.template.modal.genericModal, data: { title: title, abstract: abstract, description: description } }).pipe(\r\n\t\t\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t\t\t).subscribe(event => {\r\n\t\t\t\t\t// console.log('ControlPrivacyComponent.link$.genericModal', event);\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nControlPrivacyComponent.meta = {\r\n\tselector: '[control-privacy]',\r\n\tinputs: ['control', 'label', 'target'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--privacy\" [class]=\"{ required: control.validators.length }\">\r\n\t\t\t<div class=\"group--inputs\">\r\n\t\t\t\t<input type=\"radio\" class=\"control--checkbox\" [id]=\"uniqueId + '_true'\" [name]=\"uniqueId\" [value]=\"true\" (change)=\"onSelect(true)\" />\r\n\t\t\t\t<label [labelFor]=\"uniqueId + '_true'\">\r\n\t\t\t\t\t<svg class=\"icon icon--checkbox\"><use xlink:href=\"#checkbox\"></use></svg>\r\n\t\t\t\t\t<svg class=\"icon icon--checkbox-checked\"><use xlink:href=\"#checkbox-checked\"></use></svg>\r\n\t\t\t\t\t<span>Acconsento</span>\r\n\t\t\t\t</label>\r\n\t\t\t\t<input type=\"radio\" class=\"control--checkbox\" [id]=\"uniqueId + '_false'\" [name]=\"uniqueId\" [value]=\"false\" (change)=\"onSelect(false)\" />\r\n\t\t\t\t<label [labelFor]=\"uniqueId + '_false'\">\r\n\t\t\t\t\t<svg class=\"icon icon--checkbox\"><use xlink:href=\"#checkbox\"></use></svg>\r\n\t\t\t\t\t<svg class=\"icon icon--checkbox-checked\"><use xlink:href=\"#checkbox-checked\"></use></svg>\r\n\t\t\t\t\t<span>Non acconsento</span>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"description\">\r\n\t\t\t\t<span [innerHTML]=\"label | html\"></span>\r\n\t\t\t\t<span class=\"required__sign\">*</span>\r\n\t\t\t</div>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { ControlComponent } from './control.component';\r\n\r\nexport class ControlSearchComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.disabled = this.disabled || false;\r\n\t}\r\n\r\n}\r\n\r\nControlSearchComponent.meta = {\r\n\tselector: '[control-search]',\r\n\tinputs: ['control', 'label', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<svg class=\"search\"><use xlink:href=\"#search\"></use></svg>\r\n\t\t\t<input type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [disabled]=\"disabled\" />\r\n\t\t</div>\r\n\t`\r\n};\r\n","import { ControlComponent } from './control.component';\r\n\r\nexport class ControlTextComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.disabled = this.disabled || false;\r\n\t}\r\n\r\n}\r\n\r\nControlTextComponent.meta = {\r\n\tselector: '[control-text]',\r\n\tinputs: ['control', 'label', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<!--<label [labelFor]=\"uniqueId\"><span [innerHTML]=\"label\"></span> <span class=\"required__sign\">*</span></label>-->\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t\t<input [id]=\"uniqueId\" type=\"text\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [disabled]=\"disabled\" />\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { ControlComponent } from './control.component';\r\n\r\nexport class ControlTextareaComponent extends ControlComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tthis.disabled = this.disabled || false;\r\n\t}\r\n\r\n}\r\n\r\nControlTextareaComponent.meta = {\r\n\tselector: '[control-textarea]',\r\n\tinputs: ['control', 'label', 'disabled'],\r\n\ttemplate: /* html */ `\r\n\t\t<div class=\"group--form--textarea\" [class]=\"{ required: control.validators.length, disabled: disabled }\">\r\n\t\t\t<!--<label [labelFor]=\"uniqueId\"><span [innerHTML]=\"label\"></span> <span class=\"required__sign\">*</span></label>-->\r\n\t\t\t<textarea [id]=\"uniqueId\" class=\"control--text\" [formControl]=\"control\" [placeholder]=\"label\" [innerHTML]=\"label\" rows=\"4\" [disabled]=\"disabled\"></textarea>\r\n\t\t\t<span class=\"required__badge\" [innerHTML]=\"'required' | label\"></span>\r\n\t\t</div>\r\n\t\t<errors-component [control]=\"control\"></errors-component>\r\n\t`\r\n};\r\n","import { LabelPipe } from '../common/label/label.pipe';\r\nimport { ControlComponent } from './control.component';\r\n\r\nexport class ErrorsComponent extends ControlComponent {\r\n\r\n\tgetLabel(key, value) {\r\n\t\tconst label = LabelPipe.transform(`error_${key}`);\r\n\t\treturn label;\r\n\t}\r\n\r\n}\r\n\r\nErrorsComponent.meta = {\r\n\tselector: 'errors-component',\r\n\tinputs: ['control'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"inner\" [style]=\"{ display: control.invalid && control.touched ? 'block' : 'none' }\">\r\n\t\t<div class=\"error\" *for=\"let [key, value] of control.errors\">\r\n\t\t\t<span [innerHTML]=\"getLabel(key, value)\"></span>\r\n\t\t\t<!-- <span class=\"key\" [innerHTML]=\"key\"></span> <span class=\"value\" [innerHTML]=\"value | json\"></span> -->\r\n\t\t</div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Component } from 'rxcomp';\r\n\r\nexport class TestComponent extends Component {\r\n\r\n\tonTest(event) {\r\n\t\tthis.test.next(event);\r\n\t}\r\n\r\n\tonReset(event) {\r\n\t\tthis.reset.next(event);\r\n\t}\r\n\r\n}\r\n\r\nTestComponent.meta = {\r\n\tselector: 'test-component',\r\n\tinputs: ['form'],\r\n\toutputs: ['test', 'reset'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"test-component\" *if=\"!('production' | flag)\">\r\n\t\t<div class=\"test-component__title\">development mode</div>\r\n\t\t<code [innerHTML]=\"form.value | json\"></code>\r\n\t\t<button type=\"button\" class=\"btn--link\" (click)=\"onTest($event)\"><span>test</span></button>\r\n\t\t<button type=\"button\" class=\"btn--link\" (click)=\"onReset($event)\"><span>reset</span></button>\r\n\t</div>\r\n\t`\r\n};\r\n","import { Module } from 'rxcomp';\r\nimport { ControlCheckboxComponent } from './control-checkbox.component';\r\nimport { ControlCustomSelectComponent } from './control-custom-select.component';\r\nimport { ControlEmailComponent } from './control-email.component';\r\nimport { ControlFileComponent } from './control-file.component';\r\nimport { ControlPasswordComponent } from './control-password.component';\r\nimport { ControlPrivacyComponent } from './control-privacy.component';\r\nimport { ControlSearchComponent } from './control-search.component';\r\nimport { ControlTextComponent } from './control-text.component';\r\nimport { ControlTextareaComponent } from './control-textarea.component';\r\nimport { ErrorsComponent } from './errors.component';\r\nimport { TestComponent } from './test.component';\r\n\r\nconst factories = [\r\n\tControlCheckboxComponent,\r\n\tControlCustomSelectComponent,\r\n\tControlEmailComponent,\r\n\tControlFileComponent,\r\n\tControlPasswordComponent,\r\n\tControlPrivacyComponent,\r\n\t// ControlSelectComponent,\r\n\tControlSearchComponent,\r\n\tControlTextareaComponent,\r\n\tControlTextComponent,\r\n\t// DisabledDirective,\r\n\tErrorsComponent,\r\n\tTestComponent,\r\n\t// ValueDirective,\r\n];\r\n\r\nconst pipes = [\r\n];\r\n\r\nexport class ControlsModule extends Module { }\r\n\r\nControlsModule.meta = {\r\n\timports: [\r\n\t],\r\n\tdeclarations: [\r\n\t\t...factories,\r\n\t\t...pipes,\r\n\t],\r\n\texports: [\r\n\t\t...factories,\r\n\t\t...pipes,\r\n\t],\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { first } from 'rxjs/operators';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { environment } from '../../environment';\r\n\r\nexport class CardProductDetailComponent extends Component {\r\n\tonRequestInfo() {\r\n\t\tModalService.open$({ src: environment.template.modal.contactModal, data: { id: this.id } }).pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe(event => {\r\n\t\t\tconsole.log('CardProductDetailComponent.open$', event);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nCardProductDetailComponent.meta = {\r\n\tselector: '[card-product-detail]',\r\n\tinputs: ['id'],\r\n};\r\n","\r\nexport class FormService {\r\n\r\n\tstatic toOptions(options) {\r\n\t\toptions = options.slice().map(x => ({ id: x.value, name: x.label }));\r\n\t\treturn options;\r\n\t}\r\n\r\n\tstatic toSelectOptions(options) {\r\n\t\toptions = options.slice().map(x => ({ id: x.value, name: x.label }));\r\n\t\toptions.unshift({ id: null, name: 'select' });\r\n\t\treturn options;\r\n\t}\r\n\r\n}\r\n","import { from, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nexport class HttpResponse {\r\n\r\n\tget static() {\r\n\t\treturn this.url.indexOf('.json') === this.url.length - 5;\r\n\t}\r\n\r\n\tconstructor(response) {\r\n\t\tthis.data = null;\r\n\t\tif (response) {\r\n\t\t\tthis.url = response.url;\r\n\t\t\tthis.status = response.status;\r\n\t\t\tthis.statusText = response.statusText;\r\n\t\t\tthis.ok = response.ok;\r\n\t\t\tthis.redirected = response.redirected;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class HttpService {\r\n\r\n\tstatic http$(method, url, data, format = 'json', userPass = null, options = {}) {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tlet response_ = null;\r\n\t\t// url = this.getUrl(url, format);\r\n\t\toptions = Object.assign({\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t}, options, {\r\n\t\t\tbody: methods.indexOf(method) !== -1 ? JSON.stringify(data) : undefined\r\n\t\t});\r\n\t\tif (userPass) {\r\n\t\t\t// options.mode = 'no-cors';\r\n\t\t\toptions.credentials = 'include';\r\n\t\t\tuserPass = window.btoa(userPass);\r\n\t\t\toptions.headers['Authorization'] = `Basic ${userPass}`;\r\n\t\t}\r\n\t\toptions.headers = new Headers(options.headers);\r\n\t\treturn from(fetch(url, options).then((response) => {\r\n\t\t\tresponse_ = response;\r\n\t\t\t// console.log(response);\r\n\t\t\ttry {\r\n\t\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\t\tlet typedResponse;\r\n\t\t\t\tif (contentType && contentType.indexOf('application/json') !== -1) {\r\n\t\t\t\t\ttypedResponse = response.json();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttypedResponse = response.text();\r\n\t\t\t\t}\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\treturn typedResponse;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn typedResponse.then(data => {\r\n\t\t\t\t\t\treturn Promise.reject(data);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\tconsole.warn('HttpService.http$', 'Cannot parse response');\r\n\t\t\t\t\treturn Promise.resolve();\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(error);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\t/*\r\n\t// !!! todo mapping response.data\r\n\tstatic http$(method, url, data, format = 'json') {\r\n\t\tconst methods = ['POST', 'PUT', 'PATCH'];\r\n\t\tconst body = (data && methods.indexOf(method) !== -1) ? JSON.stringify(data) : undefined;\r\n\t\tconst queryString = (data && methods.indexOf(method) !== -1) ? Object.keys(data).map(function(key) {\r\n\t\t\treturn key + '=' + encodeURI(data[key]);\r\n\t\t}).join('&') : undefined;\r\n\t\tif (queryString) {\r\n\t\t\turl = `${url}?${queryString}`;\r\n\t\t}\r\n\t\tlet response_ = null;\r\n\t\treturn from(fetch(url, {\r\n\t\t\tmethod: method,\r\n\t\t\theaders: {\r\n\t\t\t\t'Accept': 'application/json',\r\n\t\t\t\t'Content-Type': 'application/json',\r\n\t\t\t},\r\n\t\t\tbody: body,\r\n\t\t}).then((response) => {\r\n\t\t\tresponse_ = new HttpResponse(response);\r\n\t\t\ttry {\r\n\t\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\t\tlet typedResponse;\r\n\t\t\t\tif (contentType && format === 'json' && contentType.indexOf('application/json') !== -1) {\r\n\t\t\t\t\ttypedResponse = response.json();\r\n\t\t\t\t} else if (format === 'blob') {\r\n\t\t\t\t\ttypedResponse = response.blob();\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttypedResponse = response.text();\r\n\t\t\t\t}\r\n\t\t\t\treturn typedResponse.then(data => {\r\n\t\t\t\t\tresponse_.data = data;\r\n\t\t\t\t\tif (response.ok) {\r\n\t\t\t\t\t\treturn Promise.resolve(response_);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn Promise.reject(response_);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} catch(error) {\r\n\t\t\t\tif (response.ok) {\r\n\t\t\t\t\tconsole.warn('HttpService.http$', 'Cannot parse response');\r\n\t\t\t\t\treturn Promise.resolve(response_);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.reject(this.getError(error, response_));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})).pipe(\r\n\t\t\tcatchError(error => {\r\n\t\t\t\treturn throwError(this.getError(error, response_));\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\t*/\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\tconst query = this.query(data);\r\n\t\treturn this.http$('GET', `${url}${query}`, undefined, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn this.http$('DELETE', url);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn this.http$('POST', url, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn this.http$('PUT', url, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn this.http$('PATCH', url, data);\r\n\t}\r\n\r\n\tstatic query(data) {\r\n\t\treturn ''; // todo\r\n\t}\r\n\r\n\tstatic getError(object, response) {\r\n\t\tlet error = typeof object === 'object' ? object : {};\r\n\t\tif (!error.status) {\r\n\t\t\terror.status = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusCode) {\r\n\t\t\terror.statusCode = response ? response.status : 0;\r\n\t\t}\r\n\t\tif (!error.statusMessage) {\r\n\t\t\terror.statusMessage = response ? response.statusText : object;\r\n\t\t}\r\n\t\t// console.log('HttpService.getError', error, response);\r\n\t\treturn error;\r\n\t}\r\n\r\n}\r\n","export class LocationService {\r\n\r\n\tstatic has(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.has', params);\r\n\t\treturn params.has(key);\r\n\t}\r\n\r\n\tstatic get(key) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\t// console.log('LocationService.get', params);\r\n\t\treturn params.get(key);\r\n\t}\r\n\r\n\tstatic set(keyOrValue, value) {\r\n\t\tconst params = new URLSearchParams(window.location.search);\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams.set(keyOrValue, value);\r\n\t\t} else {\r\n\t\t\tparams.set(keyOrValue, '');\r\n\t\t}\r\n\t\tthis.pushParams(params);\r\n\t\t// console.log('LocationService.set', params, keyOrValue, value);\r\n\t}\r\n\r\n\tstatic pushParams(params) {\r\n\t\tif (window.history && window.history.pushState) {\r\n\t\t\tconst title = document.title;\r\n\t\t\tconst url = `${window.location.href.split('?')[0]}?${params.toString()}`;\r\n\t\t\twindow.history.pushState(params.toString(), title, url);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic replace(from, to) {\r\n\t\tconst history = window.history;\r\n\t\tif (history && history.replaceState) {\r\n\t\t\tconst location = window.location;\r\n\t\t\tconst title = document.title;\r\n\t\t\tif (location.pathname === '/') {\r\n\t\t\t\tconst url = location.origin + to + location.search;\r\n\t\t\t\thistory.replaceState(history.state, title, url);\r\n\t\t\t} else if (location.href.indexOf(from) !== -1) {\r\n\t\t\t\tconst url = location.href.replace(from, to);\r\n\t\t\t\thistory.replaceState(history.state, title, url);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic deserialize(key) {\r\n\t\tconst encoded = this.get('params');\r\n\t\treturn this.decode(key, encoded);\r\n\t}\r\n\r\n\tstatic serialize(keyOrValue, value) {\r\n\t\tconst params = this.deserialize();\r\n\t\tconst encoded = this.encode(keyOrValue, value, params);\r\n\t\tthis.set('params', encoded);\r\n\t}\r\n\r\n\tstatic decode(key, encoded) {\r\n\t\tlet decoded = null;\r\n\t\tif (encoded) {\r\n\t\t\tconst json = window.atob(encoded);\r\n\t\t\tdecoded = JSON.parse(json);\r\n\t\t}\r\n\t\tif (key && decoded) {\r\n\t\t\tdecoded = decoded[key];\r\n\t\t}\r\n\t\treturn decoded || null;\r\n\t}\r\n\r\n\tstatic encode(keyOrValue, value, params) {\r\n\t\tparams = params || {};\r\n\t\tlet encoded = null;\r\n\t\tif (typeof keyOrValue === 'string') {\r\n\t\t\tparams[keyOrValue] = value;\r\n\t\t} else {\r\n\t\t\tparams = keyOrValue;\r\n\t\t}\r\n\t\tconst json = JSON.stringify(params);\r\n\t\tencoded = window.btoa(json);\r\n\t\treturn encoded;\r\n\t}\r\n\r\n}\r\n","import { from } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\nimport { environment } from '../../environment';\r\nimport { LabelPipe } from '../label/label.pipe';\r\nimport { LocationService } from '../location/location.service';\r\nimport { Utils } from '../utils/utils';\r\n\r\nexport class LanguageService {\r\n\r\n\tstatic languages = this.getDefaultLanguages();\r\n\tstatic defaultLanguage = this.getDefaultLanguage();\r\n\tstatic selectedLanguage = this.defaultLanguage;\r\n\r\n\tstatic get hasLanguages() {\r\n\t\treturn this.languages.length > 1;\r\n\t}\r\n\r\n\tstatic get activeLanguage() {\r\n\t\treturn this.languages.find(language => language.lang === this.selectedLanguage);\r\n\t}\r\n\r\n\tstatic getDefaultLanguages() {\r\n\t\treturn environment.alternates || [];\r\n\t}\r\n\r\n\tstatic getDefaultLanguage() {\r\n\t\treturn environment.defaultLanguage || (this.languages ? this.languages[0].lang : null);\r\n\t}\r\n\r\n\tstatic setLanguage(language) {\r\n\t\tthis.selectedLanguage = language.lang;\r\n\t}\r\n\r\n\tstatic setLanguage$(language) {\r\n\t\treturn from(fetch(language.href).then(response => {\r\n\t\t\treturn response.text();\r\n\t\t})).pipe(\r\n\t\t\ttap(html => {\r\n\t\t\t\t// console.log('html', html);\r\n\t\t\t\tconst labelsMatch = /(window\\.labels\\s*=\\s*\\n*\\s*\\{((\\{.+?\\})|.)+?\\})/gms.exec(html);\r\n\t\t\t\tif (labelsMatch) {\r\n\t\t\t\t\t// console.log('labels', labelsMatch[0]);\r\n\t\t\t\t\tnew Function(labelsMatch[0]).call(window);\r\n\t\t\t\t\tLabelPipe.setLabels();\r\n\t\t\t\t}\r\n\t\t\t\tconst bhereMatch = /(window\\.bhere\\s*=\\s*\\n*\\s*\\{((\\{.+?\\})|.)+?\\})/gms.exec(html);\r\n\t\t\t\tif (bhereMatch) {\r\n\t\t\t\t\t// console.log('bhere', bhereMatch[0]);\r\n\t\t\t\t\tconst data = {};\r\n\t\t\t\t\tnew Function(bhereMatch[0].replace('window', 'this')).call(data);\r\n\t\t\t\t\tif (data.bhere) {\r\n\t\t\t\t\t\tUtils.merge(environment, data.bhere);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tLocationService.replace(this.activeLanguage.href, language.href);\r\n\t\t\t\t// console.log(window.labels);\r\n\t\t\t\tthis.selectedLanguage = language.lang;\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic toggleLanguages() {\r\n\t\tthis.showLanguages = !this.showLanguages;\r\n\t\tthis.pushChanges();\r\n\t}\r\n\r\n}\r\n","import { environment } from '../../environment';\r\nimport { HttpService } from '../http/http.service';\r\nimport { LanguageService } from '../language/language.service';\r\n\r\nexport class ApiService extends HttpService {\r\n\r\n\tstatic currentLanguage = LanguageService.activeLanguage;\r\n\r\n\tstatic get$(url, data, format) {\r\n\t\treturn super.get$(`${environment.api}${url}`, data, format);\r\n\t}\r\n\r\n\tstatic delete$(url) {\r\n\t\treturn super.delete$(`${environment.api}${url}`);\r\n\t}\r\n\r\n\tstatic post$(url, data) {\r\n\t\treturn super.post$(`${environment.api}${url}`, data);\r\n\t}\r\n\r\n\tstatic put$(url, data) {\r\n\t\treturn super.put$(`${environment.api}${url}`, data);\r\n\t}\r\n\r\n\tstatic patch$(url, data) {\r\n\t\treturn super.patch$(`${environment.api}${url}`, data);\r\n\t}\r\n}\r\n","import { ApiService } from '../../common/api/api.service';\r\nimport { environment } from '../../environment';\r\n\r\nexport class ContactsService {\r\n\r\n\tstatic data$() {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.get$('/contacts/data');\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/contacts/data.json');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic submit$(payload) {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.post$('/contacts/submit', payload);\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/contacts/submit.json');\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { FormService } from '../../controls/form.service';\r\nimport { environment } from '../../environment';\r\nimport { ContactsService } from '../contact-modal/contacts.service';\r\n\r\nexport class CardSaleDetailComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tthis.load$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tload$() {\r\n\t\treturn ContactsService.data$().pipe(\r\n\t\t\ttap(data => {\r\n\t\t\t\tconst controls = this.controls;\r\n\t\t\t\tcontrols.country.options = FormService.toSelectOptions(data.country.options);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tonRequestInfo() {\r\n\t\tif (this.form.valid) {\r\n\t\t\tModalService.open$({ src: environment.template.modal.salesModal, data: { id: this.id, productName: this.productName, countryOfInterestId: this.form.value.country } }).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(event => {\r\n\t\t\t\tconsole.log('CardSaleDetailComponent.open$', event);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nCardSaleDetailComponent.meta = {\r\n\tselector: '[card-sale-detail]',\r\n\tinputs: ['id', 'productName'],\r\n};\r\n","function push_(event) {\r\n\tconst dataLayer = window.dataLayer || [];\r\n\tdataLayer.push(event);\r\n\tconsole.log('GtmService.dataLayer', event);\r\n}\r\n\r\nexport class GtmService {\r\n\r\n\tstatic push(event) {\r\n\t\treturn push_(event);\r\n\t}\r\n\r\n}\r\n","import { ApiService } from '../../common/api/api.service';\r\nimport { environment } from '../../environment';\r\n\r\nexport class CareersService {\r\n\r\n\tstatic data$() {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.get$('/careers/data');\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/contacts/data.json');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic submit$(payload) {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.post$('/careers/submit', payload);\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/contacts/submit.json');\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { ModalOutletComponent } from '../../common/modal/modal-outlet.component';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { FormService } from '../../controls/form.service';\r\nimport { CareersService } from './careers.service';\r\n\r\nexport class CareersModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tconst id = data.id;\r\n\t\t\tconst countryId = data.countryId;\r\n\t\t\tthis.countryId = countryId ? countryId : this.countryId;\r\n\t\t\tconsole.log('CareersModalComponent.onInit', id, countryId);\r\n\t\t}\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tlastName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcompany: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\taddress: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcity: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tzip: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tfile: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tprivacy: new FormControl(null, [Validators.RequiredTrueValidator()]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tthis.load$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tload$() {\r\n\t\treturn CareersService.data$().pipe(\r\n\t\t\ttap(data => {\r\n\t\t\t\tconst controls = this.controls;\r\n\t\t\t\tcontrols.country.options = FormService.toSelectOptions(data.country.options);\r\n\t\t\t\tif (this.countryId) {\r\n\t\t\t\t\tthis.form.patch({\r\n\t\t\t\t\t\tcountry: this.countryId,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst form = this.form;\r\n\t\tconst controls = this.controls;\r\n\t\tconst country = controls.country.options.length > 1 ? controls.country.options[1].id : null;\r\n\t\tform.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\taddress: 'Strada della Campanara, 15',\r\n\t\t\tcity: 'Pesaro',\r\n\t\t\tzip: 61122,\r\n\t\t\tcountry: country,\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tfile: 'file',\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tconst form = this.form;\r\n\t\tform.reset();\r\n\t}\r\n\r\n\tonSubmit(model) {\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('CareersModalComponent.onSubmit', form.value);\r\n\t\t// console.log('CareersModalComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (form.valid) {\r\n\t\t\t// console.log('CareersModalComponent.onSubmit', form.value);\r\n\t\t\tform.submitted = true;\r\n\t\t\tCareersService.submit$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(_ => {\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tform.reset();\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\t'event': \"Careers\",\r\n\t\t\t\t\t'form_name': \"Contatti\"\r\n\t\t\t\t});\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('CareersModalComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nCareersModalComponent.meta = {\r\n\tselector: '[careers-modal]',\r\n\tinputs: ['countryId'],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { ModalOutletComponent } from '../../common/modal/modal-outlet.component';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { FormService } from '../../controls/form.service';\r\nimport { ContactsService } from './contacts.service';\r\n\r\nexport class ContactModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tconst id = data.id;\r\n\t\t\tconst countryId = data.countryId;\r\n\t\t\tthis.countryId = countryId ? countryId : this.countryId;\r\n\t\t\tconsole.log('ContactModalComponent.onInit', id, countryId);\r\n\t\t}\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tlastName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcompany: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\taddress: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcity: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tzip: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tsubject: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tmessage: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tprivacy: new FormControl(null, [Validators.RequiredTrueValidator()]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tthis.load$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tload$() {\r\n\t\treturn ContactsService.data$().pipe(\r\n\t\t\ttap(data => {\r\n\t\t\t\tconst controls = this.controls;\r\n\t\t\t\tcontrols.country.options = FormService.toSelectOptions(data.country.options);\r\n\t\t\t\tif (this.countryId) {\r\n\t\t\t\t\tthis.form.patch({\r\n\t\t\t\t\t\tcountry: this.countryId,\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst form = this.form;\r\n\t\tconst controls = this.controls;\r\n\t\tconst country = controls.country.options.length > 1 ? controls.country.options[1].id : null;\r\n\t\tform.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\taddress: 'Strada della Campanara, 15',\r\n\t\t\tcity: 'Pesaro',\r\n\t\t\tzip: 61122,\r\n\t\t\tcountry: country,\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tsubject: 'Subject',\r\n\t\t\tmessage: 'Hi!',\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tconst form = this.form;\r\n\t\tform.reset();\r\n\t}\r\n\r\n\tonSubmit(model) {\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('ContactModalComponent.onSubmit', form.value);\r\n\t\t// console.log('ContactModalComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (form.valid) {\r\n\t\t\t// console.log('ContactModalComponent.onSubmit', form.value);\r\n\t\t\tform.submitted = true;\r\n\t\t\tContactsService.submit$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(_ => {\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tform.reset();\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\t'event': \"Contact\",\r\n\t\t\t\t\t'form_name': \"Contatti\"\r\n\t\t\t\t});\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('ContactModalComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nContactModalComponent.meta = {\r\n\tselector: '[contact-modal]',\r\n\tinputs: ['countryId'],\r\n};\r\n","import { Directive, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { environment } from '../../environment';\r\n\r\nexport class OpenModallyDirective extends Directive {\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst selector = node.getAttribute('open-modally');\r\n\t\tlet target = document.querySelector(selector);\r\n\t\tif (target) {\r\n\t\t\ttarget = target.cloneNode(true);\r\n\t\t\t// target.parentNode.removeChild(target);\r\n\t\t\tthis.click$(target).pipe(\r\n\t\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t\t).subscribe();\r\n\t\t}\r\n\t}\r\n\r\n\tclick$(target) {\r\n\t\tconst { node, module } = getContext(this);\r\n\t\treturn fromEvent(node, 'click').pipe(\r\n\t\t\ttap(_ => {\r\n\t\t\t\tModalService.open$({ src: environment.template.modal.sideModal, data: { target } }).pipe(\r\n\t\t\t\t\tfirst(),\r\n\t\t\t\t).subscribe(event => {\r\n\t\t\t\t\tconsole.log('OpenModallyDirective.open$', event);\r\n\t\t\t\t});\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n}\r\n\r\nOpenModallyDirective.meta = {\r\n\tselector: '[open-modally]'\r\n};\r\n","import { ApiService } from '../../common/api/api.service';\r\nimport { environment } from '../../environment';\r\n\r\nexport class ProductRequestService {\r\n\r\n\tstatic submit$(payload) {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.post$('/product-request/submit', payload);\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/contacts/submit.json');\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { ModalOutletComponent } from '../../common/modal/modal-outlet.component';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { ProductRequestService } from './product-request.service';\r\n\r\nexport class ProductRequestComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tconst id = data.id;\r\n\t\t\tconst productName = data.productName;\r\n\t\t\tthis.productName = productName ? productName : this.productName;\r\n\t\t\tconsole.log('ProductRequestComponent.onInit', id, productName);\r\n\t\t}\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tproductName: new FormControl(this.productName),\r\n\t\t\tfirstName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tlastName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcompany: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tsubject: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tmessage: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tprivacy: new FormControl(null, [Validators.RequiredTrueValidator()]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst form = this.form;\r\n\t\tconst controls = this.controls;\r\n\t\tform.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tsubject: 'Subject',\r\n\t\t\tmessage: 'Hi!',\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tconst form = this.form;\r\n\t\tform.reset();\r\n\t}\r\n\r\n\tonSubmit(model) {\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('ProductRequestComponent.onSubmit', form.value);\r\n\t\t// console.log('ProductRequestComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (form.valid) {\r\n\t\t\t// console.log('ProductRequestComponent.onSubmit', form.value);\r\n\t\t\tform.submitted = true;\r\n\t\t\tProductRequestService.submit$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(_ => {\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tform.reset();\r\n\t\t\t\tGtmService.push({ 'event': \"Product Request\", 'form_name': \"Product Request\" });\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('ProductRequestComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nProductRequestComponent.meta = {\r\n\tselector: '[product-request]',\r\n\tinputs: ['productName'],\r\n};\r\n","import { ApiService } from '../../common/api/api.service';\r\nimport { environment } from '../../environment';\r\n\r\nexport class SalesService {\r\n\r\n\tstatic data$() {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.get$('/sales/data');\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/contacts/data.json');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic submit$(payload) {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.post$('/sales/submit', payload);\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/contacts/submit.json');\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { ModalOutletComponent } from '../../common/modal/modal-outlet.component';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { FormService } from '../../controls/form.service';\r\nimport { SalesService } from './sales.service';\r\n\r\nexport class SalesModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tconst id = data.id;\r\n\t\t\tconst productName = data.productName;\r\n\t\t\tthis.productName = productName ? productName : this.productName;\r\n\t\t\tconst countryOfInterestId = data.countryOfInterestId;\r\n\t\t\tthis.countryOfInterestId = countryOfInterestId ? countryOfInterestId : this.countryOfInterestId;\r\n\t\t\tconsole.log('SalesModalComponent.onInit', id, productName, countryOfInterestId);\r\n\t\t}\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tproductName: new FormControl(this.productName),\r\n\t\t\tcountryOfInterest: new FormControl(this.countryOfInterestId),\r\n\t\t\tfirstName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tlastName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcompany: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\taddress: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcity: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tzip: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tsubject: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tmessage: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tprivacy: new FormControl(null, [Validators.RequiredTrueValidator()]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tthis.load$().pipe(\r\n\t\t\tfirst(),\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tload$() {\r\n\t\treturn SalesService.data$().pipe(\r\n\t\t\ttap(data => {\r\n\t\t\t\tconst controls = this.controls;\r\n\t\t\t\tcontrols.country.options = FormService.toSelectOptions(data.country.options);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst form = this.form;\r\n\t\tconst controls = this.controls;\r\n\t\tconst country = controls.country.options.length > 1 ? controls.country.options[1].id : null;\r\n\t\tform.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\taddress: 'Strada della Campanara, 15',\r\n\t\t\tcity: 'Pesaro',\r\n\t\t\tzip: 61122,\r\n\t\t\tcountry: country,\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tsubject: 'Subject',\r\n\t\t\tmessage: 'Hi!',\r\n\t\t\tprivacy: true,\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: ''\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tconst form = this.form;\r\n\t\tform.reset();\r\n\t}\r\n\r\n\tonSubmit(model) {\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('SalesModalComponent.onSubmit', form.value);\r\n\t\t// console.log('SalesModalComponent.onSubmit', 'form.valid', valid);\r\n\t\tif (form.valid) {\r\n\t\t\t// console.log('SalesModalComponent.onSubmit', form.value);\r\n\t\t\tform.submitted = true;\r\n\t\t\tSalesService.submit$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(_ => {\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tform.reset();\r\n\t\t\t\tGtmService.push({ 'event': \"Sales\", 'form_name': \"Contatti\" });\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('SalesModalComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nSalesModalComponent.meta = {\r\n\tselector: '[sales-modal]',\r\n\tinputs: ['productName', 'countryOfInterestId'],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { fromEvent } from 'rxjs';\r\nimport { startWith, tap } from 'rxjs/operators';\r\nimport { ModalOutletComponent } from '../../common/modal/modal-outlet.component';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\n\r\nexport class SideModalComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tif (data.target) {\r\n\t\t\t\tconst { node, module } = getContext(this);\r\n\t\t\t\tconst content = node.querySelector('.side-modal__content');\r\n\t\t\t\tcontent.appendChild(data.target);\r\n\t\t\t\tconst instances = this.instances = module.compile(content);\r\n\t\t\t\t// console.log('SideModalComponent.onInit', instances);\r\n\t\t\t}\r\n\t\t\t// console.log('SideModalComponent.onInit', data);\r\n\t\t}\r\n\t\t/*\r\n\t\tthis.resize$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe();\r\n\t\t*/\r\n\t}\r\n\r\n\tresize$() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst header = document.querySelector('header');\r\n\t\treturn fromEvent(window, 'resize').pipe(\r\n\t\t\tstartWith(_ => null),\r\n\t\t\ttap(_ => {\r\n\t\t\t\tnode.style.top = `${header.offsetHeight}px`;\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n}\r\n\r\nSideModalComponent.meta = {\r\n\tselector: '[side-modal]'\r\n};\r\n","import { SwiperDirective } from '../../common/swiper/swiper.directive';\r\n\r\nexport class SwiperContentDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 300,\r\n\t\t\tspeed: 600,\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tprevEl: '.btn--prev',\r\n\t\t\t\tnextEl: '.btn--next',\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperContentDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperContentDirective.meta = {\r\n\tselector: '[swiper-content]'\r\n};\r\n","import { SwiperDirective } from '../../common/swiper/swiper.directive';\r\n\r\nexport class SwiperGalleryDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\t// console.log(this.initialSlide);\r\n\t\tthis.options = {\r\n\t\t\tinitialSlide: this.initialSlide,\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 80,\r\n\t\t\tspeed: 600,\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tprevEl: '.btn--gallery-prev',\r\n\t\t\t\tnextEl: '.btn--gallery-next',\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.swiper.slideTo(this.initialSlide, 0);\r\n\t\t}, 100);\r\n\t\t// console.log('SwiperContentDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperGalleryDirective.meta = {\r\n\tselector: '[swiper-gallery]',\r\n\tinputs: ['items', 'initialSlide'],\r\n};\r\n","import { SwiperDirective } from '../../common/swiper/swiper.directive';\r\n\r\nexport class SwiperMainDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 0,\r\n\t\t\tspeed: 600,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t\tpagination: {\r\n\t\t\t\tel: '.main-hero__bullets',\r\n\t\t\t\tclickable: true,\r\n\t\t\t},\r\n\t\t\tnavigation: {\r\n\t\t\t\tprevEl: '.btn--up',\r\n\t\t\t\tnextEl: '.btn--down',\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperMainDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperMainDirective.meta = {\r\n\tselector: '[swiper-main]'\r\n};\r\n","import { SwiperDirective } from '../../common/swiper/swiper.directive';\r\n\r\nexport class SwiperToolkitDirective extends SwiperDirective {\r\n\r\n\tonInit() {\r\n\t\tthis.options = {\r\n\t\t\tslidesPerView: 1,\r\n\t\t\tspaceBetween: 60,\r\n\t\t\tspeed: 600,\r\n\t\t\tautoplay: {\r\n\t\t\t\tdelay: 5000,\r\n\t\t\t},\r\n\t\t\tkeyboardControl: true,\r\n\t\t\tmousewheelControl: false,\r\n\t\t\tkeyboard: {\r\n\t\t\t\tenabled: true,\r\n\t\t\t\tonlyInViewport: true,\r\n\t\t\t},\r\n\t\t};\r\n\t\tthis.init_();\r\n\t\t// console.log('SwiperToolkitDirective.onInit');\r\n\t}\r\n\r\n}\r\n\r\nSwiperToolkitDirective.meta = {\r\n\tselector: '[swiper-toolkit]'\r\n};\r\n","import { Component } from 'rxcomp';\r\n\r\nexport class ErrorComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.showDetail = false;\r\n\t\t// console.log('ErrorComponent.onInit', this.error);\r\n\t}\r\n\r\n\tonDetailToggle() {\r\n\t\tthis.showDetail = !this.showDetail;\r\n\t\tthis.pushChanges();\r\n\t}\r\n}\r\n\r\nErrorComponent.meta = {\r\n\tselector: 'error-component',\r\n\tinputs: ['error'],\r\n\ttemplate: /* html */ `\r\n\t<div class=\"error\" (click)=\"onDetailToggle($event)\">\r\n\t\t<div class=\"status\">Error <span [innerHTML]=\"error.status\"></span></div>\r\n\t\t<div class=\"exception-message\" [innerHTML]=\"error.exceptionMessage\"></div>\r\n\t\t<button type=\"button\" class=\"btn--detail\"><svg class=\"caret-down\"><use xlink:href=\"#caret-down\"></use></svg></button>\r\n\t</div>\r\n\t<div class=\"error-details\" *if=\"showDetail\">\r\n\t\t<div class=\"message\" [innerHTML]=\"error.message\"></div>\r\n\t\t<div class=\"exception-type\" [innerHTML]=\"error.exceptionType\"></div>\r\n\t\t<div class=\"stack-trace\" [innerHTML]=\"error.stackTrace\"></div>\r\n\t</div>\r\n\t`\r\n};\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport class MenuService {\r\n\r\n\tstatic menu$_ = new BehaviorSubject(-1);\r\n\r\n\tstatic get currentMenu() {\r\n\t\treturn this.menu$_.getValue();\r\n\t}\r\n\r\n\tstatic setMenu(id) {\r\n\t\tthis.menu$_.next(id);\r\n\t}\r\n\r\n\tstatic toggleMenu(id) {\r\n\t\tthis.menu$_.next(this.currentMenu === id ? -1 : id);\r\n\t}\r\n\r\n\tstatic onBack() {\r\n\t\tthis.menu$_.next(-1);\r\n\t}\r\n\r\n\tstatic menu$() {\r\n\t\treturn this.menu$_;\r\n\t}\r\n\r\n}\r\n","import { BehaviorSubject } from 'rxjs';\r\n\r\nexport class HeaderService {\r\n\r\n\tstatic header$_ = new BehaviorSubject(-1);\r\n\r\n\tstatic get currentHeader() {\r\n\t\treturn this.header$_.getValue();\r\n\t}\r\n\r\n\tstatic setHeader(id) {\r\n\t\tthis.header$_.next(id);\r\n\t}\r\n\r\n\tstatic toggleHeader(id) {\r\n\t\tthis.header$_.next(this.currentHeader === id ? -1 : id);\r\n\t}\r\n\r\n\tstatic onBack() {\r\n\t\tthis.header$_.next(-1);\r\n\t}\r\n\r\n\tstatic header$() {\r\n\t\treturn this.header$_;\r\n\t}\r\n\r\n}\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { ScrollService } from '../../common/scroll/scroll.service';\r\nimport { MenuService } from '../menu/menu.service';\r\nimport { HeaderService } from './header.service';\r\n\r\nexport class HeaderComponent extends Component {\r\n\r\n\tdirection_ = null;\r\n\tget direction() {\r\n\t\treturn this.direction_;\r\n\t}\r\n\tset direction(direction) {\r\n\t\tif (this.direction_ !== direction) {\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tnode.classList.remove(`scrolling-${this.direction_}`);\r\n\t\t\tnode.classList.add(`scrolling-${direction}`);\r\n\t\t\tthis.direction_ = direction;\r\n\t\t}\r\n\t}\r\n\r\n\tscrolled_ = null;\r\n\tget scrolled() {\r\n\t\treturn this.scrolled_;\r\n\t}\r\n\tset scrolled(scrolled) {\r\n\t\tif (this.scrolled_ !== scrolled) {\r\n\t\t\tthis.scrolled_ = scrolled;\r\n\t\t\tconst { node } = getContext(this);\r\n\t\t\tscrolled ? node.classList.add(`scrolled`) : node.classList.remove(`scrolled`);\r\n\t\t}\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst body = document.querySelector('body');\r\n\t\tthis.header = HeaderService.currentHeader;\r\n\t\tHeaderService.header$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(header => {\r\n\t\t\tthis.header = header;\r\n\t\t\tthis.pushChanges();\r\n\t\t\tbody.setAttribute('class', header !== -1 ? `${header}-active` : '');\r\n\t\t});\r\n\t\tthis.menu = MenuService.currentMenu;\r\n\t\tMenuService.menu$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe(menu => {\r\n\t\t\tthis.menu = menu;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tScrollService.scroll$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$),\r\n\t\t).subscribe((event) => {\r\n\t\t\tthis.direction = event.direction;\r\n\t\t\tthis.scrolled = event.scroll.y > 100;\r\n\t\t\t// console.log('HeaderComponent', event.scroll.y, event.direction, event.speed);\r\n\t\t});\r\n\t}\r\n\r\n\tonToggle(id) {\r\n\t\tMenuService.onBack();\r\n\t\tHeaderService.toggleHeader(id);\r\n\t}\r\n\r\n\tonMenu(id) {\r\n\t\tMenuService.setMenu(id);\r\n\t}\r\n\r\n\tonBack(event) {\r\n\t\tMenuService.onBack();\r\n\t}\r\n}\r\n\r\nHeaderComponent.meta = {\r\n\tselector: '[header]',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { LocationService } from '../../common/location/location.service';\r\n\r\nexport class NewsletterPropositionComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t}\r\n\r\n\tonNewsletter(event) {\r\n\t\tconsole.log('NewsletterPropositionComponent.onNewsletter', this.form.value);\r\n\t\tconst encoded = LocationService.encode('email', this.form.value.email, {});\r\n\t\twindow.location.href = `${this.action}?params=${encoded}`;\r\n\t}\r\n}\r\n\r\nNewsletterPropositionComponent.meta = {\r\n\tselector: '[newsletter-proposition]',\r\n\tinputs: ['action'],\r\n};\r\n","import { Component, getContext } from \"rxcomp\";\r\n\r\nexport class SwitchComponent extends Component {\r\n\r\n\tget path() {\r\n\t\tconst w = 40;\r\n\t\tconst w2 = 60;\r\n\t\tconst h = window.innerHeight;\r\n\t\treturn `path('M0,0 L${w},0 C${w},${h * .25},${w},${h * .75},${w},${h} L${w},${h} L0,${h} L0,0 Z')`;\r\n\t}\r\n\r\n\tget overPath() {\r\n\t\tconst w = 40;\r\n\t\tconst w2 = 60;\r\n\t\tconst h = window.innerHeight;\r\n\t\treturn `path('M0,0 L${w},0 C${w2},${h * .25},${w2},${h * .75},${w},${h} L${w},${h} L0,${h} L0,0 Z')`;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tconst { node } = getContext(this);\r\n\t\tlet over = false;\r\n\t\tconst onResize = () => {\r\n\t\t\tnode.style.clipPath = over ? this.overPath : this.path;\r\n\t\t};\r\n\t\tconst onOver = () => {\r\n\t\t\tover = true;\r\n\t\t\tgsap.to(node, {\r\n\t\t\t\tduration: 0.5,\r\n\t\t\t\tease: Elastic.easeOut,\r\n\t\t\t\t'clip-path': this.overPath,\r\n\t\t\t});\r\n\t\t};\r\n\t\tconst onOut = () => {\r\n\t\t\tover = false;\r\n\t\t\tgsap.to(node, {\r\n\t\t\t\tduration: 0.5,\r\n\t\t\t\tease: Elastic.easeOut,\r\n\t\t\t\t'clip-path': this.path,\r\n\t\t\t});\r\n\t\t};\r\n\t\tonResize();\r\n\t\twindow.addEventListener('resize', onResize);\r\n\t\tnode.addEventListener('mouseover', onOver);\r\n\t\tnode.addEventListener('mouseout', onOut);\r\n\t}\r\n\r\n}\r\n\r\nSwitchComponent.meta = {\r\n\tselector: '[switch]'\r\n};\r\n\r\n","export class SessionStorageService {\r\n\r\n\tstatic delete(name) {\r\n\t\tif (this.isSessionStorageSupported()) {\r\n\t\t\twindow.sessionStorage.removeItem(name);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic exist(name) {\r\n\t\tif (this.isSessionStorageSupported()) {\r\n\t\t\treturn window.sessionStorage[name] !== undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tstatic get(name) {\r\n\t\tlet value = null;\r\n\t\tif (this.isSessionStorageSupported() && window.sessionStorage[name] !== undefined) {\r\n\t\t\ttry {\r\n\t\t\t\tvalue = JSON.parse(window.sessionStorage[name]);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('SessionStorageService.get.error parsing', name, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn value;\r\n\t}\r\n\r\n\tstatic set(name, value) {\r\n\t\tif (this.isSessionStorageSupported()) {\r\n\t\t\ttry {\r\n\t\t\t\tconst cache = [];\r\n\t\t\t\tconst json = JSON.stringify(value, function(key, value) {\r\n\t\t\t\t\tif (typeof value === 'object' && value !== null) {\r\n\t\t\t\t\t\tif (cache.indexOf(value) !== -1) {\r\n\t\t\t\t\t\t\t// Circular reference found, discard key\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcache.push(value);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t});\r\n\t\t\t\twindow.sessionStorage.setItem(name, json);\r\n\t\t\t} catch (e) {\r\n\t\t\t\tconsole.log('SessionStorageService.set.error serializing', name, value, e);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tstatic isSessionStorageSupported() {\r\n\t\tif (this.supported) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tlet supported = false;\r\n\t\ttry {\r\n\t\t\tsupported = 'sessionStorage' in window && window.sessionStorage !== null;\r\n\t\t\tif (supported) {\r\n\t\t\t\twindow.sessionStorage.setItem('test', '1');\r\n\t\t\t\twindow.sessionStorage.removeItem('test');\r\n\t\t\t} else {\r\n\t\t\t\tsupported = false;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tsupported = false;\r\n\t\t}\r\n\t\tthis.supported = supported;\r\n\t\treturn supported;\r\n\t}\r\n}\r\n","import { BehaviorSubject, of } from 'rxjs';\r\nimport { catchError, map, switchMap, tap } from 'rxjs/operators';\r\nimport { ApiService } from '../../common/api/api.service';\r\nimport { SessionStorageService } from '../../common/storage/session-storage.service';\r\nimport { environment } from '../../environment';\r\n\r\nexport const UserViews = {\r\n\tSIGN_IN: 1,\r\n\tSIGN_UP: 2,\r\n\tFORGOTTEN: 3,\r\n\tEDIT: 4,\r\n};\r\n\r\nexport class User {\r\n\r\n\tget shortName() {\r\n\t\treturn (this.firstName || '?').substr(0, 1).toUpperCase() + (this.lastName || '?').substr(0, 1).toUpperCase();\r\n\t}\r\n\r\n\tget fullName() {\r\n\t\treturn this.firstName + ' ' + this.lastName;\r\n\t}\r\n\r\n\tconstructor(data) {\r\n\t\tif (data) {\r\n\t\t\tObject.assign(this, data);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\nexport class UserService {\r\n\r\n\tstatic user$_ = new BehaviorSubject(null);\r\n\r\n\tstatic get currentUser() {\r\n\t\treturn this.user$_.getValue();\r\n\t}\r\n\r\n\tstatic setUser(user) {\r\n\t\tif (user) {\r\n\t\t\tSessionStorageService.set('user', user);\r\n\t\t} else {\r\n\t\t\tSessionStorageService.delete('user');\r\n\t\t}\r\n\t\tthis.user$_.next(user);\r\n\t}\r\n\r\n\tstatic data$() {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.get$('/aquafil/user/data');\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/user/data.json');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic forgot$(payload) {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.post$('/aquafil/user/forgot', payload);\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$(`/user/forgot.json`);\r\n\t\t}\r\n\t}\r\n\r\n\tstatic me$() {\r\n\t\tif (UserService.busyMe) {\r\n\t\t\treturn this.user$_;\r\n\t\t} else {\r\n\t\t\tUserService.busyMe = true;\r\n\t\t\treturn of(1).pipe(\r\n\t\t\t\tswitchMap(_ => {\r\n\t\t\t\t\tif (environment.flags.production) {\r\n\t\t\t\t\t\treturn ApiService.get$(`/aquafil/user/me`);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconst sessionUser = SessionStorageService.get('user');\r\n\t\t\t\t\t\tif (sessionUser) {\r\n\t\t\t\t\t\t\treturn of(sessionUser);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn ApiService.get$(`/user/me.json`);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}),\r\n\t\t\t\tmap((user) => {\r\n\t\t\t\t\tconsole.log('UserService.user$', user);\r\n\t\t\t\t\treturn this.mapUser(user);\r\n\t\t\t\t}),\r\n\t\t\t\tcatchError(_ => of(null)),\r\n\t\t\t\tswitchMap(user => {\r\n\t\t\t\t\tthis.setUser(user);\r\n\t\t\t\t\treturn this.user$_;\r\n\t\t\t\t}),\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n\r\n\tstatic signin$(payload) {\r\n\t\treturn (\r\n\t\t\tenvironment.flags.production ? ApiService.post$(`/aquafil/user/signin`, payload) : ApiService.get$(`/user/signin.json`)\r\n\t\t).pipe(\r\n\t\t\tmap((response) => this.mapUser(response)),\r\n\t\t\ttap((user) => this.setUser(user)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic signout$() {\r\n\t\treturn (\r\n\t\t\tenvironment.flags.production ? ApiService.post$(`/aquafil/user/signout`) : ApiService.get$(`/user/signout.json`)\r\n\t\t).pipe(\r\n\t\t\ttap((_) => this.setUser(null)),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic signup$(payload) {\r\n\t\t// console.log('UserService.signup$', payload);\r\n\t\treturn (\r\n\t\t\tenvironment.flags.production ? ApiService.post$(`/aquafil/user/signup`, payload) : ApiService.get$(`/user/signup.json`)\r\n\t\t).pipe(\r\n\t\t\tmap((response) => {\r\n\t\t\t\tresponse.user = this.mapUser(response.user);\r\n\t\t\t\treturn response;\r\n\t\t\t}),\r\n\t\t\ttap((response) => this.setUser(response.user)),\r\n\t\t\t//document.location.reload(),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic edit$(payload) {\r\n\t\t// console.log('UserService.edit$', payload);\r\n\t\treturn (\r\n\t\t\tenvironment.flags.production ? ApiService.post$(`/aquafil/user/edit`, payload) : ApiService.get$(`/user/edit.json`)\r\n\t\t).pipe(\r\n\t\t\tmap((response) => {\r\n\t\t\t\tresponse.user = this.mapUser(response.user);\r\n\t\t\t\treturn response;\r\n\t\t\t}),\r\n\t\t\ttap((response) => this.setUser(response.user)),\r\n\t\t\t//document.location.reload(),\r\n\t\t);\r\n\t}\r\n\r\n\tstatic editPassword$(payload) {\r\n\t\t// console.log('UserService.editPassword$', payload);\r\n\t\treturn (\r\n\t\t\tenvironment.flags.production ?\r\n\t\t\t\tApiService.post$(`/aquafil/user/edit-password`, payload) :\r\n\t\t\t\tApiService.get$(`/user/edit-password.json`)\r\n\t\t);\r\n\t}\r\n\r\n\tstatic accessData$(payload) {\r\n\t\t// console.log('UserService.accessData$', payload);\r\n\t\treturn (\r\n\t\t\tenvironment.flags.production ?\r\n\t\t\t\tApiService.post$(`/aquafil/user/access-data`, payload) :\r\n\t\t\t\tApiService.get$(`/user/access-data.json`)\r\n\t\t);\r\n\t}\r\n\r\n\tstatic delete$(payload) {\r\n\t\t// console.log('UserService.delete$', payload);\r\n\t\treturn (\r\n\t\t\tenvironment.flags.production ?\r\n\t\t\t\tApiService.post$(`/aquafil/user/delete`, payload) :\r\n\t\t\t\tApiService.get$(`/user/delete.json`)\r\n\t\t);\r\n\t}\r\n\r\n\tstatic gdpr$() {\r\n\t\tif (environment.flags.production) {\r\n\t\t\treturn ApiService.get$('/aquafil/user/gdpr');\r\n\t\t} else {\r\n\t\t\treturn ApiService.get$('/user/gdpr.json');\r\n\t\t}\r\n\t}\r\n\r\n\tstatic tryFacebook$(me) {\r\n\t\treturn of(null);\r\n\t}\r\n\r\n\tstatic tryGoogle$(me) {\r\n\t\treturn of(null);\r\n\t}\r\n\r\n\tstatic tryLinkedin$(me) {\r\n\t\treturn of(null);\r\n\t}\r\n\r\n\tstatic sessionStorage$() {\r\n\t\treturn of(SessionStorageService.get('user') || null);\r\n\t}\r\n\r\n\tstatic mapUser(user) {\r\n\t\treturn user ? new User(user) : null;\r\n\t}\r\n\r\n\tstatic mapUsers(users) {\r\n\t\treturn users ? users.map(x => UserService.mapUser(x)) : [];\r\n\t}\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, switchMap, takeUntil } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { LocomotiveScrollService } from '../../common/locomotive-scroll/locomotive-scroll.service';\r\nimport { UserService } from './user.service';\r\n\r\nexport class UserDeleteComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tpassword: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t\tLocomotiveScrollService.update();\r\n\t\t});\r\n\t\tUserService.me$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tif (user) {\r\n\t\t\t\tform.patch({ email: user.email }, true);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('UserDeleteComponent.onSubmit', form.value);\r\n\t\tif (form.valid) {\r\n\t\t\tform.submitted = true;\r\n\t\t\tUserService.delete$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t\tswitchMap(_ => UserService.signout$())\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\tconsole.log('UserDeleteComponent.onSubmit', response);\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\t'event': \"AccessData\",\r\n\t\t\t\t\t'form_name': \"AccessData\"\r\n\t\t\t\t});\r\n\t\t\t\tform.reset();\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('UserDeleteComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tform.submitted = false;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\tLocomotiveScrollService.update();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nUserDeleteComponent.meta = {\r\n\tselector: '[user-delete]',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { combineLatest } from 'rxjs';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { environment } from '../../environment';\r\nimport { UserService } from './user.service';\r\n\r\nexport class UserDetailComponent extends Component {\r\n\r\n\tget countryName() {\r\n\t\tlet countryName = null;\r\n\t\tif (this.user && this.countries.length) {\r\n\t\t\tconst country = this.countries.find(x => x.value === this.user.country);\r\n\t\t\tif (country) {\r\n\t\t\t\tcountryName = country.label;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn countryName;\r\n\t}\r\n\r\n\tget occupationName() {\r\n\t\tlet occupationName = null;\r\n\t\tif (this.user && this.occupations.length) {\r\n\t\t\tconst occupation = this.occupations.find(x => x.value === this.user.occupation);\r\n\t\t\tif (occupation) {\r\n\t\t\t\toccupationName = occupation.label;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn occupationName;\r\n\t}\r\n\r\n\tget newsletterLanguageName() {\r\n\t\tlet newsletterLanguageName = null;\r\n\t\tif (this.user && this.newsletterLanguages.length) {\r\n\t\t\tconst newsletterLanguage = this.newsletterLanguages.find(x => x.value === this.user.newsletterLanguage);\r\n\t\t\tif (newsletterLanguage) {\r\n\t\t\t\tnewsletterLanguageName = newsletterLanguage.label;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn newsletterLanguageName;\r\n\t}\r\n\r\n\tonInit() {\r\n\t\tthis.countries = [];\r\n\t\tthis.occupations = [];\r\n\t\tthis.newsletterLanguages = [];\r\n\t\tthis.gdpr = [];\r\n\t\tUserService.me$().pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(user => {\r\n\t\t\tthis.user = user;\r\n\t\t\tthis.pushChanges();\r\n\t\t});\r\n\t\tthis.load$().pipe(\r\n\t\t\tfirst(),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tload$() {\r\n\t\treturn combineLatest([\r\n\t\t\tUserService.data$(),\r\n\t\t\tUserService.gdpr$(),\r\n\t\t]).pipe(\r\n\t\t\ttap(datas => {\r\n\t\t\t\tconst data = datas[0];\r\n\t\t\t\tthis.countries = data.country.options;\r\n\t\t\t\tthis.occupations = data.occupation.options;\r\n\t\t\t\tthis.newsletterLanguages = data.newsletterLanguage.options;\r\n\t\t\t\tconst gdpr = datas[1];\r\n\t\t\t\tthis.gdpr = gdpr;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\tonModalUserUpdate(event) {\r\n\t\t// console.log('UserDetailComponent.onModalUserUpdate');\r\n\t\tModalService.open$({ src: environment.template.modal.userModal, data: { view: 4 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('UserDetailComponent.onModalSignUp', event);\r\n\t\t});\r\n\t}\r\n\r\n\tonModalGdpr(legalNote) {\r\n\t\t// console.log('UserDetailComponent.onModalUserUpdate');\r\n\t\tModalService.open$({ src: environment.template.modal.genericModal, data: { title: legalNote.title, description: legalNote.description } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\t// console.log('UserDetailComponent.onModalGdpr', event);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nUserDetailComponent.meta = {\r\n\tselector: '[user-detail]',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, switchMap, takeUntil } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { LocomotiveScrollService } from '../../common/locomotive-scroll/locomotive-scroll.service';\r\nimport { UserService } from './user.service';\r\n\r\nexport class UserEditPasswordComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\ttokenEncoded: this.tokenEncoded,\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tpassword: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t\tLocomotiveScrollService.update();\r\n\t\t});\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('UserEditPasswordComponent.onSubmit', form.value);\r\n\t\tif (form.valid) {\r\n\t\t\tform.submitted = true;\r\n\t\t\tUserService.editPassword$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t\tswitchMap(_ => UserService.signout$())\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\tconsole.log('UserEditPasswordComponent.onSubmit', response);\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\t'event': \"EditPassword\",\r\n\t\t\t\t\t'form_name': \"EditPassword\"\r\n\t\t\t\t});\r\n\t\t\t\tform.reset();\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('UserEditPasswordComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tform.submitted = false;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\tLocomotiveScrollService.update();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nUserEditPasswordComponent.meta = {\r\n\tselector: '[user-edit-password]',\r\n\tinputs: ['tokenEncoded'],\r\n};\r\n","import { FormValidator } from 'rxcomp-form';\r\n\r\nexport default function RequiredIfValidator(fieldName, formGroup, shouldBe) {\r\n\r\n\treturn new FormValidator((value) => {\r\n\t\tlet field = null;\r\n\t\tif (typeof formGroup === 'function') {\r\n\t\t\tfield = formGroup().get(fieldName);\r\n\t\t} else if (formGroup) {\r\n\t\t\tfield = formGroup.get(fieldName);\r\n\t\t}\r\n\t\treturn (!value && field && (shouldBe != null ? field.value === shouldBe : field.value != null)) ? { required: { value: value, requiredIf: fieldName } } : null;\r\n\t});\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { combineLatest } from 'rxjs';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { LocomotiveScrollService } from '../../common/locomotive-scroll/locomotive-scroll.service';\r\nimport { FormService } from '../../controls/form.service';\r\nimport RequiredIfValidator from '../../controls/required-if.validator';\r\nimport { UserService } from './user.service';\r\n\r\nexport class UserEditComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.user = null;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tthis.responseMessage = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tlastName: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcity: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcompany: new FormControl(null),\r\n\t\t\toccupation: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tprivacy: new FormControl(null, [Validators.RequiredTrueValidator()]),\r\n\t\t\tnewsletter: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcommercial: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpromotion: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tnewsletterLanguage: new FormControl(null, [RequiredIfValidator('newsletter', form)]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t\tLocomotiveScrollService.update();\r\n\t\t});\r\n\t\tthis.load$().pipe(\r\n\t\t\tfirst(),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tload$() {\r\n\t\treturn combineLatest([UserService.data$(), UserService.me$()]).pipe(\r\n\t\t\ttap(results => {\r\n\t\t\t\tconst data = results[0];\r\n\t\t\t\tconst controls = this.controls;\r\n\t\t\t\tcontrols.country.options = FormService.toSelectOptions(data.country.options);\r\n\t\t\t\tcontrols.occupation.options = FormService.toSelectOptions(data.occupation.options);\r\n\t\t\t\tcontrols.newsletterLanguage.options = FormService.toSelectOptions(data.newsletterLanguage.options);\r\n\t\t\t\tconst user = results[1];\r\n\t\t\t\tthis.user = user;\r\n\t\t\t\tif (user) {\r\n\t\t\t\t\tconst form = this.form;\r\n\t\t\t\t\tform.patch(user, true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t}),\r\n\t\t);\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst form = this.form;\r\n\t\tconst controls = this.controls;\r\n\t\tconst country = controls.country.options.length > 1 ? controls.country.options[1].id : null;\r\n\t\tconst occupation = controls.occupation.options.length > 1 ? controls.occupation.options[1].id : null;\r\n\t\tform.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcountry: country,\r\n\t\t\tcity: 'Pesaro',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\toccupation: occupation,\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tprivacy: true,\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tconst form = this.form;\r\n\t\tform.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.responseMessage = null;\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('UserEditComponent.onSubmit', form.value);\r\n\t\tif (form.valid) {\r\n\t\t\tform.submitted = true;\r\n\t\t\tUserService.edit$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\tconsole.log('UserEditComponent.onSubmit', response);\r\n\t\t\t\tthis.responseMessage = response.responseMessage;\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\t/*\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\t'event': \"Registration\",\r\n\t\t\t\t\t'form_name': \"Registrazione\"\r\n\t\t\t\t});\r\n\t\t\t\t*/\r\n\t\t\t\tform.reset();\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('UserEditComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tform.submitted = false;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\tLocomotiveScrollService.update();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nUserEditComponent.meta = {\r\n\tselector: '[user-edit]',\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { LocomotiveScrollService } from '../../common/locomotive-scroll/locomotive-scroll.service';\r\nimport { UserService } from './user.service';\r\n\r\nexport class UserForgotComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t\tLocomotiveScrollService.update();\r\n\t\t});\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst form = this.form;\r\n\t\tform.patch({\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tconst form = this.form;\r\n\t\tform.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('UserForgotComponent.onSubmit', form.value);\r\n\t\tif (form.valid) {\r\n\t\t\tform.submitted = true;\r\n\t\t\tUserService.forgot$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\tconsole.log('UserForgotComponent.onSubmit', response);\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\t'event': \"Forgot\",\r\n\t\t\t\t\t'form_name': \"Recupero Password\"\r\n\t\t\t\t});\r\n\t\t\t\tform.reset();\r\n\t\t\t\tthis.forgot.next(true);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('UserForgotComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tform.submitted = false;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\tLocomotiveScrollService.update();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonSignIn() {\r\n\t\tthis.viewSignIn.next();\r\n\t}\r\n\r\n\tonSignUp() {\r\n\t\tthis.viewSignUp.next();\r\n\t}\r\n}\r\n\r\nUserForgotComponent.meta = {\r\n\tselector: '[user-forgot]',\r\n\toutputs: ['forgot', 'viewSignIn', 'viewSignUp'],\r\n};\r\n","import { Component, getContext } from 'rxcomp';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { LocomotiveScrollService } from '../../common/locomotive-scroll/locomotive-scroll.service';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { environment } from '../../environment';\r\nimport { UserService, UserViews } from './user.service';\r\n\r\nexport class UserComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.views = UserViews;\r\n\t\tthis.view = this.view || UserViews.SIGN_UP;\r\n\t}\r\n\r\n\tonModalSignIn(event) {\r\n\t\t// console.log('UserComponent.onModalSignIn');\r\n\t\tModalService.open$({ src: environment.template.modal.userModal, data: { view: 1 } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\tconsole.log('UserComponent.onModalSignIn', event);\r\n\t\t});\r\n\t}\r\n\r\n\tonModalSignUp(event) {\r\n\t\t// console.log('UserComponent.onModalSignUp');\r\n\t\tModalService.open$({ src: environment.template.modal.userModal, data: { view: 2, skipAutoClose: true } }).pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe(event => {\r\n\t\t\tconsole.log('UserComponent.onModalSignUp', event);\r\n\t\t});\r\n\t}\r\n\r\n\tsetView(view) {\r\n\t\tthis.view = view;\r\n\t\tthis.pushChanges();\r\n\t\tconst { node } = getContext(this);\r\n\t\tLocomotiveScrollService.scrollTo(node, { offset: -100 });\r\n\t}\r\n\r\n\tonViewSignIn(event) {\r\n\t\t// console.log('UserComponent.onViewSignIn');\r\n\t\tthis.setView(UserViews.SIGN_IN);\r\n\t}\r\n\r\n\tonViewSignUp(event) {\r\n\t\t// console.log('UserComponent.onViewSignIn');\r\n\t\tthis.setView(UserViews.SIGN_UP);\r\n\t}\r\n\r\n\tonViewForgot(event) {\r\n\t\t// console.log('UserComponent.onViewForgot');\r\n\t\tthis.setView(UserViews.FORGOTTEN);\r\n\t}\r\n\r\n\tonSignIn(user) {\r\n\t\tconsole.log('UserComponent.onSignIn', user);\r\n\t\tUserService.setUser(user);\r\n\t\tif (this.navTo) {\r\n\t\t\twindow.location.href = this.navTo;\r\n\t\t}\r\n\t\t// nav to profile\r\n\t}\r\n\r\n\tonSignUp(user) {\r\n\t\tconsole.log('UserComponent.onSignUp', user);\r\n\t\tUserService.setUser(user);\r\n\t\tif (this.navTo) {\r\n\t\t\twindow.location.href = this.navTo;\r\n\t\t}\r\n\t\t// nav to profile\r\n\t}\r\n\r\n\tonForgot(email) {\r\n\t\t/*\r\n\t\tconsole.log('UserComponent.onForgot', email);\r\n\t\tthis.setView(UserViews.SIGN_IN);\r\n\t\t*/\r\n\t}\r\n}\r\n\r\nUserComponent.meta = {\r\n\tselector: '[user]',\r\n\tinputs: ['navTo', 'view']\r\n};\r\n","import { getContext } from 'rxcomp';\r\nimport { LocomotiveScrollService } from '../../common/locomotive-scroll/locomotive-scroll.service';\r\nimport { ModalOutletComponent } from '../../common/modal/modal-outlet.component';\r\nimport { ModalService } from '../../common/modal/modal.service';\r\nimport { UserComponent } from './user.component';\r\nimport { UserViews } from './user.service';\r\n\r\nexport class UserModalComponent extends UserComponent {\r\n\r\n\tonInit() {\r\n\t\tsuper.onInit();\r\n\t\tconst { parentInstance } = getContext(this);\r\n\t\tif (parentInstance instanceof ModalOutletComponent) {\r\n\t\t\tconst data = parentInstance.modal.data;\r\n\t\t\tthis.view = data.view;\r\n\t\t\tthis.me = data.me;\r\n\t\t\tthis.skipAutoClose = data.skipAutoClose;\r\n\t\t\t// console.log('UserModalComponent.onInit', data);\r\n\t\t}\r\n\t\tLocomotiveScrollService.stop();\r\n\t}\r\n\r\n\tsetView(view) {\r\n\t\tthis.view = view;\r\n\t\tthis.pushChanges();\r\n\t\tconst { node } = getContext(this);\r\n\t\tconst target = window.innerWidth >= 1024 ? node.querySelector('.modal__inner') : node;\r\n\t\ttarget.scrollTo(0, 0);\r\n\t}\r\n\r\n\tonViewForgot() {\r\n\t\tconsole.log('UserModalComponent.onViewForgot');\r\n\t\tthis.setView(UserViews.FORGOTTEN);\r\n\t}\r\n\r\n\tonViewSignIn() {\r\n\t\tconsole.log('UserModalComponent.onViewSignIn');\r\n\t\tthis.setView(UserViews.SIGN_IN);\r\n\t}\r\n\r\n\tonViewSignUp() {\r\n\t\tconsole.log('UserModalComponent.onViewSignUp');\r\n\t\tthis.setView(UserViews.SIGN_UP);\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tModalService.reject();\r\n\t}\r\n\r\n\tonSignUp(user) {\r\n\t\t// console.log('UserModalComponent.onSignUp', user);\r\n\t\tif (!this.skipAutoClose) {\r\n\t\t\tModalService.resolve(user);\r\n\t\t}\r\n\t}\r\n\r\n\tonSignIn(user) {\r\n\t\t// console.log('UserModalComponent.onSignIn', user);\r\n\t\tModalService.resolve(user);\r\n\t}\r\n\r\n\tonDestroy() {\r\n\t\tLocomotiveScrollService.start();\r\n\t}\r\n}\r\n\r\nUserModalComponent.meta = {\r\n\tselector: '[user-modal]'\r\n};\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { LocomotiveScrollService } from '../../common/locomotive-scroll/locomotive-scroll.service';\r\nimport { UserService } from './user.service';\r\n\r\nexport class UserSigninComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\temail: new FormControl(null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tpassword: new FormControl(null, Validators.RequiredValidator()),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t\tLocomotiveScrollService.update();\r\n\t\t});\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst form = this.form;\r\n\t\tform.patch({\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tpassword: '********',\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tconst form = this.form;\r\n\t\tform.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('UserSigninComponent.onSubmit', form.value);\r\n\t\tif (form.valid) {\r\n\t\t\tform.submitted = true;\r\n\t\t\tUserService.signin$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\tconsole.log('UserSigninComponent.onSubmit', response);\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\t'event': \"Signin\",\r\n\t\t\t\t\t'form_name': \"Login\"\r\n\t\t\t\t});\r\n\t\t\t\tform.reset();\r\n\t\t\t\tthis.signIn.next(response);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('UserSigninComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tform.submitted = false;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\tLocomotiveScrollService.update();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonForgot(event) {\r\n\t\tthis.viewForgot.next();\r\n\t}\r\n\r\n\tonSignUp(event) {\r\n\t\tthis.viewSignUp.next();\r\n\t}\r\n}\r\n\r\nUserSigninComponent.meta = {\r\n\tselector: '[user-signin]',\r\n\toutputs: ['signIn', 'viewForgot', 'viewSignUp'],\r\n};\r\n","import { FormValidator } from 'rxcomp-form';\r\n\r\nexport default function MatchValidator(fieldName, formGroup) {\r\n\r\n\treturn new FormValidator((value) => {\r\n\t\tconst field = formGroup ? formGroup.get(fieldName) : null;\r\n\t\tif (!value || !field) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn value !== field.value ? { match: { value: value, match: field.value } } : null;\r\n\t});\r\n\r\n}\r\n","import { Component } from 'rxcomp';\r\nimport { FormControl, FormGroup, Validators } from 'rxcomp-form';\r\nimport { first, takeUntil, tap } from 'rxjs/operators';\r\nimport { GtmService } from '../../common/gtm/gtm.service';\r\nimport { LocomotiveScrollService } from '../../common/locomotive-scroll/locomotive-scroll.service';\r\nimport { FormService } from '../../controls/form.service';\r\nimport MatchValidator from '../../controls/match.validator';\r\nimport RequiredIfValidator from '../../controls/required-if.validator';\r\nimport { UserService } from './user.service';\r\n\r\nexport class UserSignupComponent extends Component {\r\n\r\n\tonInit() {\r\n\t\tthis.me = this.me || {};\r\n\t\tthis.user = this.user || null;\r\n\t\tthis.error = null;\r\n\t\tthis.success = false;\r\n\t\tthis.responseMessage = null;\r\n\t\tconst form = this.form = new FormGroup({\r\n\t\t\tfirstName: new FormControl(this.me.firstName || null, [Validators.RequiredValidator()]),\r\n\t\t\tlastName: new FormControl(this.me.lastName || null, [Validators.RequiredValidator()]),\r\n\t\t\tcountry: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcity: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcompany: new FormControl(null),\r\n\t\t\toccupation: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\temail: new FormControl(this.me.email || null, [Validators.RequiredValidator(), Validators.EmailValidator()]),\r\n\t\t\tpassword: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpasswordConfirm: new FormControl(null, [Validators.RequiredValidator(), MatchValidator('password', form)]),\r\n\t\t\tprivacy: new FormControl(null, [Validators.RequiredTrueValidator()]),\r\n\t\t\tnewsletter: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tcommercial: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tpromotion: new FormControl(null, [Validators.RequiredValidator()]),\r\n\t\t\tnewsletterLanguage: new FormControl(null, [RequiredIfValidator('newsletter', form)]),\r\n\t\t\tcheckRequest: window.antiforgery,\r\n\t\t\tcheckField: '',\r\n\t\t});\r\n\t\tconst controls = this.controls = form.controls;\r\n\t\tform.changes$.pipe(\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe((_) => {\r\n\t\t\tthis.pushChanges();\r\n\t\t\tLocomotiveScrollService.update();\r\n\t\t});\r\n\t\tthis.load$().pipe(\r\n\t\t\tfirst(),\r\n\t\t\ttakeUntil(this.unsubscribe$)\r\n\t\t).subscribe();\r\n\t}\r\n\r\n\tload$() {\r\n\t\treturn UserService.data$().pipe(\r\n\t\t\ttap(data => {\r\n\t\t\t\tconst controls = this.controls;\r\n\t\t\t\tcontrols.country.options = FormService.toSelectOptions(data.country.options);\r\n\t\t\t\tcontrols.occupation.options = FormService.toSelectOptions(data.occupation.options);\r\n\t\t\t\tcontrols.newsletterLanguage.options = FormService.toSelectOptions(data.newsletterLanguage.options);\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t})\r\n\t\t);\r\n\t}\r\n\r\n\ttest() {\r\n\t\tconst form = this.form;\r\n\t\tconst controls = this.controls;\r\n\t\tconst country = controls.country.options.length > 1 ? controls.country.options[1].id : null;\r\n\t\tconst occupation = controls.occupation.options.length > 1 ? controls.occupation.options[1].id : null;\r\n\t\tform.patch({\r\n\t\t\tfirstName: 'Jhon',\r\n\t\t\tlastName: 'Appleseed',\r\n\t\t\tcountry: country,\r\n\t\t\tcity: 'Pesaro',\r\n\t\t\tcompany: 'Websolute',\r\n\t\t\toccupation: occupation,\r\n\t\t\temail: 'jhonappleseed@gmail.com',\r\n\t\t\tpassword: '********',\r\n\t\t\tpasswordConfirm: '********',\r\n\t\t\tprivacy: true,\r\n\t\t\tnewsletter: false,\r\n\t\t\tcommercial: false,\r\n\t\t\tpromotion: false,\r\n\t\t});\r\n\t}\r\n\r\n\treset() {\r\n\t\tconst form = this.form;\r\n\t\tform.reset();\r\n\t}\r\n\r\n\tonSubmit() {\r\n\t\tthis.responseMessage = null;\r\n\t\tconst form = this.form;\r\n\t\tconsole.log('UserSignupComponent.onSubmit', form.value);\r\n\t\tif (form.valid) {\r\n\t\t\tform.submitted = true;\r\n\t\t\tUserService.signup$(form.value).pipe(\r\n\t\t\t\tfirst(),\r\n\t\t\t).subscribe(response => {\r\n\t\t\t\tconsole.log('UserSignupComponent.onSubmit', response);\r\n\t\t\t\tthis.responseMessage = response.responseMessage;\r\n\t\t\t\tthis.success = true;\r\n\t\t\t\tGtmService.push({\r\n\t\t\t\t\t'event': \"Registration\",\r\n\t\t\t\t\t'form_name': \"Registrazione\"\r\n\t\t\t\t});\r\n\t\t\t\tform.reset();\r\n\t\t\t\tthis.signUp.next(response.user);\r\n\t\t\t}, error => {\r\n\t\t\t\tconsole.log('UserSignupComponent.error', error);\r\n\t\t\t\tthis.error = error;\r\n\t\t\t\tform.submitted = false;\r\n\t\t\t\tthis.pushChanges();\r\n\t\t\t\tLocomotiveScrollService.update();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tform.touched = true;\r\n\t\t}\r\n\t}\r\n\r\n\tonSignIn() {\r\n\t\tthis.viewSignIn.next();\r\n\t}\r\n}\r\n\r\nUserSignupComponent.meta = {\r\n\tselector: '[user-signup]',\r\n\toutputs: ['signUp', 'viewSignIn'],\r\n\tinputs: ['me', 'user'],\r\n};\r\n","import { Module } from 'rxcomp';\r\nimport { SwiperContentDirective } from '../partials/swiper-content/swiper-content.directive';\r\nimport { SwiperGalleryDirective } from '../partials/swiper-gallery/swiper-gallery.directive';\r\nimport { SwiperMainDirective } from '../partials/swiper-main/swiper-main.directive';\r\nimport { SwiperToolkitDirective } from '../partials/swiper-toolkit/swiper-toolkit.directive';\r\nimport { ErrorComponent } from './error/error.component';\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { NewsletterPropositionComponent } from './newsletter-proposition/newsletter-proposition.component';\r\nimport { SwitchComponent } from './switch/switch.component';\r\nimport { UserDeleteComponent } from './user/user-delete.component';\r\nimport { UserDetailComponent } from './user/user-detail.component';\r\nimport { UserEditPasswordComponent } from './user/user-edit-password.component';\r\nimport { UserEditComponent } from './user/user-edit.component';\r\nimport { UserForgotComponent } from './user/user-forgot.component';\r\nimport { UserModalComponent } from './user/user-modal.component';\r\nimport { UserSigninComponent } from './user/user-signin.component';\r\nimport { UserSignupComponent } from './user/user-signup.component';\r\nimport { UserComponent } from './user/user.component';\r\n\r\nconst factories = [\r\n\tErrorComponent,\r\n\tHeaderComponent,\r\n\tNewsletterPropositionComponent,\r\n\tSwiperContentDirective,\r\n\tSwiperGalleryDirective,\r\n\tSwiperMainDirective,\r\n\tSwiperToolkitDirective,\r\n\tSwitchComponent,\r\n\tUserComponent,\r\n\tUserDeleteComponent,\r\n\tUserEditComponent,\r\n\tUserEditPasswordComponent,\r\n\tUserForgotComponent,\r\n\tUserModalComponent,\r\n\tUserDetailComponent,\r\n\tUserSigninComponent,\r\n\tUserSignupComponent,\r\n];\r\n\r\nconst pipes = [\r\n];\r\n\r\nexport class SharedModule extends Module { }\r\n\r\nSharedModule.meta = {\r\n\timports: [\r\n\t],\r\n\tdeclarations: [\r\n\t\t...factories,\r\n\t\t...pipes,\r\n\t],\r\n\texports: [\r\n\t\t...factories,\r\n\t\t...pipes,\r\n\t],\r\n};\r\n","import { CoreModule, Module } from 'rxcomp';\r\nimport { FormModule } from 'rxcomp-form';\r\nimport { AppComponent } from './app.component';\r\nimport { CommonModule } from './common/common.module';\r\nimport { ControlsModule } from './controls/controls.module';\r\nimport { CardProductDetailComponent } from './pages/card-product-detail/card-product-detail.component';\r\nimport { CardSaleDetailComponent } from './pages/card-sale-detail/card-sale-detail.component';\r\nimport { CareersModalComponent } from './pages/careers/careers-modal.component';\r\nimport { ContactModalComponent } from './pages/contact-modal/contact-modal.component';\r\nimport { OpenModallyDirective } from './pages/open-modally/open-modally.directive';\r\nimport { ProductRequestComponent } from './pages/product-request/product-request.component';\r\nimport { SalesModalComponent } from './pages/sales/sales-modal.component';\r\nimport { SideModalComponent } from './pages/side-modal/side-modal.component';\r\nimport { SharedModule } from './shared/shared.module';\r\n\r\nexport class AppModule extends Module { }\r\n\r\nAppModule.meta = {\r\n\timports: [\r\n\t\tCoreModule,\r\n\t\tFormModule,\r\n\t\tCommonModule,\r\n\t\tControlsModule,\r\n\t\tSharedModule,\r\n\t],\r\n\tdeclarations: [\r\n\t\tCareersModalComponent,\r\n\t\tContactModalComponent,\r\n\t\tCardProductDetailComponent,\r\n\t\tCardSaleDetailComponent,\r\n\t\tOpenModallyDirective,\r\n\t\tProductRequestComponent,\r\n\t\tSalesModalComponent,\r\n\t\tSideModalComponent,\r\n\t],\r\n\tbootstrap: AppComponent,\r\n};\r\n","import { Browser } from 'rxcomp';\r\nimport { AppModule } from './app.module';\r\n\r\nBrowser.bootstrap(AppModule);\r\n\r\n\r\n[].forEach.call( document.getElementsByClassName('page--investors__accordion-title'), function( classnameElement ){\r\n    classnameElement.addEventListener('click', function(){\r\n      this.parentElement.classList.toggle('open');\r\n    });\r\n})  "]}