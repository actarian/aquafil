/**
 * @license aquafil v1.0.0
 * (c) 2022 Luca Zampetti <lzampetti@gmail.com>
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("rxcomp"),require("rxcomp-form"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define(["rxcomp","rxcomp-form","rxjs/operators","rxjs"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).rxcomp,t.rxcomp.form,t.rxjs.operators,t.rxjs)}(this,(function(t,e,n,o){"use strict";function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var d=function(){function t(){}return t.scroll=function(t){this.scroll$.next(t)},t.init$=function(e){var i=window.pageYOffset,r={direction:null,scroll:{x:0,y:0},speed:0};return o.fromEvent(window,"DOMContentLoaded").pipe(n.first(),n.delay(1),n.switchMap((function(t){return o.fromEvent(window,"scroll")})),n.startWith(!0),n.map((function(e){var n=window.pageYOffset,o=n>=i?"down":"up";return i=n,r.direction=o,r.scroll.y=n,t.scroll(r),r})))},t.scrollTo=function(t,e){void 0===e&&(e={offset:-130});var n=document.querySelector("body"),o=n.scrollTop,i=o+t.getBoundingClientRect().top+e.offset-o,r={pow:0};gsap.set(n,{"scroll-behavior":"auto"}),e.disableLerp?(gsap.set(n,{scrollTop:o+i}),gsap.set(n,{"scroll-behavior":"smooth"})):gsap.to(r,{duration:Math.abs(i)/2e3,pow:1,ease:Quad.easeOut,overwrite:"all",onUpdate:function(){gsap.set(n,{scrollTop:o+i*r.pow})},onComplete:function(){gsap.set(n,{"scroll-behavior":"smooth"})}})},t.scrollToSelector=function(e,n){var o=document.querySelector(e);o&&t.scrollTo(o,n)},t}();l(d,"scroll$",new o.ReplaySubject(1));var h=function(e){function o(){return e.apply(this,arguments)||this}return u(o,e),o.prototype.onInit=function(){t.getContext(this).node.classList.remove("hidden"),console.log("AppComponent.onInit"),d.init$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},o}(t.Component);h.meta={selector:"[app-component]"};var f=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.onChanges=function(){t.getContext(this).node.setAttribute("alt",this.alt)},n}(t.Directive);f.meta={selector:"[[alt]]",inputs:["alt"]};var m=function(){function t(){}return t.observer=function(){var t=this;return this.observer_||(this.readySubject_=new o.BehaviorSubject(!1),this.observerSubject_=new o.Subject,this.observer_=new IntersectionObserver((function(e){t.observerSubject_.next(e)}),{root:null,rootMargin:"100px 0px 100px 0px",threshold:[0,.25,.5,.75,1]})),this.observer_},t.intersection$=function(t){if("IntersectionObserver"in window){var e=this.observer();return e.observe(t),this.observerSubject_.pipe(n.map((function(e){return e.find((function(e){return e.target===t}))})),n.filter((function(t){return void 0!==t})),n.finalize((function(){return e.unobserve(t)})))}return o.of({target:t})},t}(),g=function(e){function o(){return e.apply(this,arguments)||this}return u(o,e),o.prototype.onInit=function(){var e=t.getContext(this).node;e.classList.add("appear"),m.intersection$(e).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){t.intersectionRatio>.5?e.classList.add("appeared"):e.classList.remove("appeared")}))},o}(t.Directive);g.meta={selector:"[appear]"};var v=function(e){function i(){return e.apply(this,arguments)||this}return u(i,e),i.prototype.onInit=function(){var e=this;this.initialFocus=!1;var i=t.getContext(this),r=i.module,s=i.node,a=i.parentInstance,l=(i.selector,this.event$=o.fromEvent(document,"click").pipe(n.filter((function(t){var n=t.target;if(s.contains(n)||!document.contains(n))e.initialFocus=!0;else if(e.initialFocus)return e.initialFocus=!1,!0})),n.shareReplay(1))),u=s.getAttribute("(clickOutside)");if(u){var c=r.makeFunction(u,["$event"]);l.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){r.resolve(c,a,t)}))}else a.clickOutside$=l},i}(t.Directive);v.meta={selector:"[(clickOutside)]"};var b=function(){function t(){}return t.merge=function(t,e){var n=this;return"object"==typeof e&&Object.keys(e).forEach((function(o){var i=e[o];"object"!=typeof i||Array.isArray(i)?t[o]=i:t[o]=n.merge(t[o],i)})),t},t}(),y="undefined"!=typeof module&&module.exports,w=((y?{get:function(){}}:new URLSearchParams(window.location.search)).get("debug"),y?null:document.querySelector("base").getAttribute("href")),C=!y&&(window&&-1!==window.location.host.indexOf("herokuapp")),k=!y&&(C||window&&("48481"===window.location.port||"5000"===window.location.port||"6443"===window.location.port||"actarian.github.io"===window.location.host)),$=!y&&(window&&-1!==["localhost","127.0.0.1","0.0.0.0"].indexOf(window.location.host.split(":")[0])),x={STATIC:k,DEVELOPMENT:$,PRODUCTION:!$},S=function(){var t=e.prototype;function e(t){t&&Object.assign(this,t)}return t.getAbsoluteUrl=function(t,e){var n=""+window.location.origin+t;return Object.keys(e).forEach((function(t){n=n.replace("$"+t,e[t])})),n},t.getPath=function(t){return this.isLocal(t)?this.href+t:t},t.isLocal=function(t){return-1===t.indexOf("://")},a(e,[{key:"STATIC",get:function(){return x.STATIC},set:function(t){x.STATIC=!0===t||"true"===t,console.log("Environment.STATIC.set",x.STATIC)}},{key:"href",get:function(){return C?this.githubDocs:w}}]),e}(),I={port:5e3,flags:{production:!1,heroku:C},slug:{},markets:["IT","EU","AM","AS","IN"],defaultMarket:"IT",currentMarket:"IT",languages:["it","en"],defaultLanguage:"it",currentLanguage:"it",labels:{select:"Seleziona",browse:"Sfoglia",cancel:"Annulla",error_email:"Email non valida",error_match:"I campi non corrispondono",error_required:"Campo obbligatorio",loading:"caricamento",remove:"Rimuovi",required:"Richiesto",select_file:"Seleziona una file...",update:"Aggiorna",upload:"Carica",drag_and_drop_images:"Drag And Drop your images here"}},q=window.STATIC?{flags:{production:!1,cart:!0},markets:["IT","EU","AM","AS","IN"],defaultMarket:"IT",currentMarket:"IT",languages:["it","en","de","ch"],defaultLanguage:"it",currentLanguage:"it",api:"/aquafil/api",assets:"/aquafil/",slug:{configureProduct:"/aquafil/products-configure.html",cart:"/aquafil/cart.html",reservedArea:"/aquafil/reserved-area.html"},template:{modal:{genericModal:"/aquafil/partials/modals/generic-modal.html",sideModal:"/aquafil/partials/modals/side-modal.html",contactModal:"/aquafil/partials/modals/contact-modal.html",salesModal:"/aquafil/partials/modals/sales-modal.html",galleryModal:"/aquafil/partials/modals/gallery-modal.html",userModal:"/aquafil/partials/modals/user-modal.html"}},facebook:{appId:610048027052371,fields:"id,name,first_name,last_name,email,gender,picture,cover,link",scope:"public_profile, email",tokenClient:"951b013fe59b05cf471d869aae9ba6ba",version:"v11.0"},google:{clientId:"760742757246-61qknlmthbmr54bh7ch19kjr0sftm4q3.apps.googleusercontent.com"},linkedIn:{clientId:"77cg5ls5lgu3k3",clientSecret:"gfBIl365EdckxCgK",scope:"r_emailaddress r_liteprofile"},googleMaps:{apiKey:"AIzaSyDvGw6iAoKdRv8mmaC9GeT-LWLPQtA8p60"},thron:{clientId:""},workers:{image:"./js/workers/image.service.worker.js",prefetch:"./js/workers/prefetch.service.worker.js"},githubDocs:"https://raw.githubusercontent.com/actarian/aquafil/main/docs/"}:{flags:{production:!0,cart:!0},markets:["IT","EU","AM","AS","IN"],defaultMarket:"IT",currentMarket:"IT",languages:["it","en","de","ch"],defaultLanguage:"it",currentLanguage:"it",api:"/api",assets:"/Client/docs/",slug:{configureProduct:"/it/it/products-configure",cart:"/it/it/cart",reservedArea:"/it/it/reserved-area"},template:{modal:{genericModal:"/template/modals/generic-modal.cshtml",sideModal:"/template/modals/side-modal.cshtml",contactModal:"/template/modals/contact-modal.cshtml",salesModal:"/template/modals/sales-modal.cshtml",galleryModal:"/template/modals/gallery-modal.cshtml",userModal:"/template/modals/user-modal.cshtml"}},facebook:{appId:610048027052371,fields:"id,name,first_name,last_name,email,gender,picture,cover,link",scope:"public_profile, email",tokenClient:"951b013fe59b05cf471d869aae9ba6ba",version:"v11.0"},google:{clientId:"760742757246-61qknlmthbmr54bh7ch19kjr0sftm4q3.apps.googleusercontent.com"},linkedIn:{clientId:"77cg5ls5lgu3k3",clientSecret:"gfBIl365EdckxCgK",scope:"r_emailaddress r_liteprofile"},googleMaps:{apiKey:"AIzaSyByTXqwtyFUcD6d4PY7ab4GBwS5IYjEVcc"},thron:{clientId:""},workers:{image:"/Client/docs/js/workers/image.service.worker.js",prefetch:"/Client/docs/js/workers/prefetch.service.worker.js"},githubDocs:"https://raw.githubusercontent.com/actarian/aquafil/main/docs/"},V=Object.assign(I,q),_=new S(V=b.merge(V,window.environment)),L=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n=null),null!=t)return n=n||_.currentLanguage,new Intl.DateTimeFormat(n,e).format(t instanceof Date?t:new Date(t))},e}(t.Pipe);L.meta={name:"date"};var T=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.onChanges=function(){t.getContext(this).node.setAttribute("download",this.download)},n}(t.Directive);T.meta={selector:"[[download]]",inputs:["download"]};var F=function(){function t(){}return t.scroll=function(t){this.scroll$.next(t)},t.init=function(e,n){if(n=Object.assign({useKeyboard:!0,smoothMobile:!0,inertia:.5,smooth:!0,lerp:.01,getDirection:!0,getSpeed:!0,initClass:"has-scroll-init",scrollingClass:"has-scroll-scrolling",draggingClass:"has-scroll-dragging",smoothClass:"has-scroll-smooth",scrollbarContainer:!1,scrollbarClass:"c-scrollbar",multiplier:1,firefoxMultiplier:50,touchMultiplier:2,scrollFromAnywhere:!0,gestureDirection:"vertical",reloadOnContextChange:!1,resetNativeScroll:!0},n,{el:e}),this.useLocomotiveScroll()){var o=new LocomotiveScroll(n);return t.instance=o,o}document.querySelector("html").classList.add("has-scroll-init")},t.useLocomotiveScroll=function(){return window.innerWidth>=768&&!this.isTouchDevice()},t.isTouchDevice=function(){var t=navigator.userAgent.toLowerCase(),e=/(mac|ipad|tablet|(android(?!.*mobile))|kindle|playbook|silk|(puffin(?!.*(IP|AP|WP))))/.test(t),n=/(ipod|iphone|(android(?!.*mobile))|(windows(?!.*phone)(.*touch)))/.test(t);return e||n},t.isMacLike=function(){var t=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);return t},t.isIOS=function(){var t=/(iPhone|iPod|iPad)/i.test(navigator.platform);return t},t.isMacOs=function(){var t=navigator.platform.toLowerCase().indexOf("mac")>=0;return t},t.isSafari=function(){var t=navigator.vendor.match(/apple/i)&&!navigator.userAgent.match(/crios/i)&&!navigator.userAgent.match(/fxios/i);return t},t.init$=function(e){return o.fromEvent(window,"DOMContentLoaded").pipe(n.delay(1),n.switchMap((function(n){var o=t.init(e);if(o){var i=document.querySelector("#showefy");o.on("scroll",(function(e){(t.scroll(e),i)&&(e.speed>.1?"none"!==i.style.pointerEvents&&(i.style.pointerEvents="none"):"none"===i.style.pointerEvents&&(i.style.pointerEvents="auto"))}))}else{var r={direction:null,scroll:{x:0,y:0},speed:0},s=document.querySelector("body"),a=s.scrollTop;s.addEventListener("scroll",(function(){var e=s.scrollTop,n=e>=a?"down":"up";Math.abs(e-a)>90&&(a=e,r.direction=n,r.scroll.y=e,t.scroll(r))}),!0)}return t.scroll$})))},t.update=function(){this.instance&&this.instance.update()},t.stop=function(){this.instance&&this.instance.stop()},t.start=function(){this.instance&&this.instance.start()},t.scrollTo=function(t,e){if(void 0===e&&(e={offset:-130}),this.instance)this.instance.scrollTo(t,e);else{var n=document.querySelector("body"),o=n.scrollTop,i=o+t.getBoundingClientRect().top+e.offset-o,r={pow:0};gsap.set(n,{"scroll-behavior":"auto"}),e.disableLerp?(gsap.set(n,{scrollTop:o+i}),gsap.set(n,{"scroll-behavior":"smooth"})):gsap.to(r,{duration:Math.abs(i)/2e3,pow:1,ease:Quad.easeOut,overwrite:"all",onUpdate:function(){gsap.set(n,{scrollTop:o+i*r.pow})},onComplete:function(){gsap.set(n,{"scroll-behavior":"smooth"})}})}},t.scrollToSelector=function(e,n){var o=document.querySelector(e);o&&t.scrollTo(o,n)},t}();l(F,"scroll$",new o.ReplaySubject(1));var M=1e6,U=function(e){function o(){return e.apply(this,arguments)||this}u(o,e);var i=o.prototype;return i.onInit=function(){var e=this,i=t.getContext(this).node,r=i.getAttribute("dropdown-trigger");this.trigger=r?i.querySelector(r):i,this.opened=null,this.onClick=this.onClick.bind(this),this.onDocumentClick=this.onDocumentClick.bind(this),this.openDropdown=this.openDropdown.bind(this),this.closeDropdown=this.closeDropdown.bind(this),this.addListeners(),o.dropdown$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.id===t?i.classList.add("dropped"):i.classList.remove("dropped")}))},i.onClick=function(e){var n=t.getContext(this).node;null===this.opened?this.openDropdown():n.querySelector("[dropdown-item]")||this.closeDropdown()},i.onDocumentClick=function(e){var n=t.getContext(this).node;n===e.target||n.contains(e.target)||this.closeDropdown()},i.openDropdown=function(){null===this.opened&&(this.opened=!0,this.addDocumentListeners(),o.dropdown$.next(this.id),this.dropped.next(this.id))},i.closeDropdown=function(){null!==this.opened&&(this.removeDocumentListeners(),this.opened=null,o.dropdown$.getValue()===this.id&&(o.dropdown$.next(null),this.dropped.next(null)))},i.addListeners=function(){this.trigger.addEventListener("click",this.onClick)},i.addDocumentListeners=function(){document.addEventListener("click",this.onDocumentClick)},i.removeListeners=function(){this.trigger.removeEventListener("click",this.onClick)},i.removeDocumentListeners=function(){document.removeEventListener("click",this.onDocumentClick)},i.onDestroy=function(){this.removeListeners(),this.removeDocumentListeners()},o.nextId=function(){return M++},a(o,[{key:"id",get:function(){return this.dropdown||this.id_||(this.id_=o.nextId())}}]),o}(t.Directive);U.meta={selector:"[dropdown]",inputs:["dropdown","dropdown-trigger"],outputs:["dropped"]},U.dropdown$=new o.BehaviorSubject(null);var R=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var e=this,o=t.getContext(this).node;o.classList.add("dropdown-item"),U.dropdown$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){e.id===t?o.classList.add("dropped"):o.classList.remove("dropped")})),this.enter$(o).pipe(n.takeUntil(this.unsubscribe$)).subscribe(),this.leave$(o).pipe(n.takeUntil(this.unsubscribe$)).subscribe()},r.enter$=function(t){return o.fromEvent(t,"mouseenter").pipe(n.tap((function(t){F.stop()})))},r.leave$=function(t){return o.fromEvent(t,"mouseleave").pipe(n.tap((function(t){F.start()})))},a(i,[{key:"id",get:function(){return this["dropdown-item"]}}]),i}(t.Directive);R.meta={selector:"[dropdown-item], [[dropdown-item]]",inputs:["dropdown-item"]};var E=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var e=t.getContext(this).node;this.originalText=e.innerText,this.resize$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},r.resize$=function(){var e=this,i=t.getContext(this).node;return o.fromEvent(window,"resize").pipe(n.startWith((function(t){return null})),n.tap((function(t){var n=e.originalText;for(i.innerText=n;i.scrollHeight-i.offsetHeight>0;){var o=n.split(" ");o.pop(),n=o.join(" ")+"...",i.innerText=n}})))},i}(t.Directive);E.meta={selector:"[ellipsis]"};var P=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t){for(var e=_,n=t.split("."),o=n.shift();n.length>0&&e[o];)e=e[o],o=n.shift();return e[o]||null},e}(t.Pipe);P.meta={name:"env"};var O=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var n=e.prototype;return n.onInit=function(){},n.closeFilter=function(){this.filter.active=!1,this.change.next()},n.toggleFilter=function(t){var e=this;Object.keys(this.filters).forEach((function(n){var o=e.filters[n];o.active=o===t&&!o.active})),this.change.next()},n.clearFilter=function(t,e){t.preventDefault(),t.stopImmediatePropagation(),e.clear(),this.change.next()},n.onEnter=function(){F.stop()},n.onLeave=function(){F.start()},e}(t.Component);O.meta={selector:"[filter], [[filter]]",outputs:["change"],inputs:["filter","filters","name"],template:'\n\t\t<div class="group--filter" (click)="toggleFilter(filter)" (clickOutside)="closeFilter(filter)">\n\t\t\t<span class="label" [innerHTML]="filter.getLabel() || name"></span>\n\t\t\t<svg class="caret-down" *if="!filter.hasAny()"><use xlink:href="#caret-down"></use></svg>\n\t\t\t<svg class="close-sm" *if="filter.hasAny()" (click)="clearFilter($event, filter)"><use xlink:href="#close-sm"></use></svg>\n\t\t</div>\n\t\t<div class="options" *if="filter.active" (mouseenter)="onEnter()" (mouseleave)="onLeave()">\n\t\t\t<div class="category" [innerHTML]="name"></div>\n\t\t\t<ul class="nav--options">\n\t\t\t\t<li class="nav--options__item" [class]="{ active: filter.has(item), disabled: item.disabled, empty: !item.value }" *for="let item of filter.options">\n\t\t\t\t\t<span class="option" (click)="filter.set(item)">\n\t\t\t\t\t\t<span class="name" [innerHTML]="item.label | label"></span>\n\t\t\t\t\t\t\x3c!-- <span class="count" [innerHTML]="item.count || \'\'"></span> --\x3e\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t\t'};var A=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t){return _.flags[t]||!1},e}(t.Pipe);A.meta={name:"flag"};var j=function(t){this.data=t},N=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(j),D=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(j),H=function(){function t(){}return t.open$=function(t){var e=this;return this.busy$.next(!0),this.getTemplate$(t.src).pipe(n.map((function(n){return{node:e.getNode(n),data:t.data,modal:t}})),n.tap((function(t){e.modal$.next(t),e.hasModal=!0,e.busy$.next(!1)})),n.switchMap((function(t){return e.events$})),n.tap((function(t){return e.hasModal=!1})))},t.load$=function(t){},t.getTemplate$=function(t){return o.from(fetch(t).then((function(t){return t.text()})))},t.getNode=function(t){var e=document.createElement("div");return e.innerHTML=t,e.firstElementChild},t.reject=function(t){this.modal$.next(null),this.events$.next(new D(t))},t.resolve=function(t){this.modal$.next(null),this.events$.next(new N(t))},t}();l(H,"hasModal",!1),H.modal$=new o.Subject,H.events$=new o.Subject,H.busy$=new o.Subject;var B=function(e){function o(){return e.apply(this,arguments)||this}u(o,e);var i=o.prototype;return i.onInit=function(){var e=this;this.busy_=!1;var o=t.getContext(this).node,i=document.querySelector("body");this.modalNode=o.querySelector(".modal-outlet__modal"),H.modal$.pipe(n.tap((function(t){t?i.classList.add("modal--active"):i.classList.remove("modal--active")})),n.takeUntil(this.unsubscribe$)).subscribe((function(t){return e.modal=t})),H.busy$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){return e.busy=t}))},i.onClose=function(t){console.log("ModalOutletComponent.onClose",t),H.reject()},a(o,[{key:"modal",get:function(){return this.modal_},set:function(e){var n=t.getContext(this).module;if(this.modal_&&this.modal_.node&&(n.remove(this.modal_.node,this),this.modalNode.removeChild(this.modal_.node)),e&&e.node){this.modal_=e,this.modalNode.appendChild(e.node);n.compile(e.node)}this.modal_=e,this.pushChanges()}},{key:"busy",get:function(){return this.busy_},set:function(t){this.busy_!==t&&(this.busy_=t,this.pushChanges())}}]),o}(t.Component);B.meta={selector:"[modal-outlet]",template:'\n\t<div class="modal-outlet__container" [class]="{ active: modal, busy: busy }">\n\t\t<div class="modal-outlet__background" (click)="onClose($event)"></div>\n\t\t<div class="modal-outlet__modal"></div>\n\t\t\x3c!-- spinner --\x3e\n\t\t<div class="spinner spinner--contrasted" *if="busy"></div>\n\t</div>\n\t'};var G=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var e=this,n=t.getContext(this).parentInstance;if(n instanceof B){var o=n.modal.data,i=this.items=o.items;i.forEach((function(t){t.isImg=e.isImg(t),t.isVideo=e.isVideo(t)}));var r=this.initialSlide=o.initialSlide;console.log(i,r),console.log("GalleryModalComponent.onInit",o)}},r.resize$=function(){var e=t.getContext(this).node,i=document.querySelector("header");return o.fromEvent(window,"resize").pipe(n.startWith(!0),n.tap((function(t){e.style.top=i.offsetHeight+"px"})))},r.onClose=function(){H.reject()},r.isImg=function(t){var e=t.src.split("?")[0],n=e.lastIndexOf(".");if(-1!==n){var o=e.substring(n+1,e.length);return-1!==["jpg","jpeg","png","gif"].indexOf(o)}return!1},r.isVideo=function(t){var e=t.src.split("?")[0],n=e.lastIndexOf(".");if(-1!==n){var o=e.substring(n+1,e.length);return-1!==["mp4","webm"].indexOf(o)}return!1},i}(t.Component);G.meta={selector:"[gallery-modal]"};var z=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var e=t.getContext(this).node;e.dataset.originalInnerHTML=e.innerHTML,this.click$().pipe(n.takeUntil(this.unsubscribe$)).subscribe()},r.click$=function(){var e=this,i=t.getContext(this).node;return o.fromEvent(i,"click").pipe(n.map((function(t){var n=i.getAttribute("gallery");return Array.prototype.slice.call(document.querySelectorAll("[gallery]")).filter((function(t){return!t.parentNode.classList.contains("swiper-slide-duplicate")})).map((function(t){var o=t.getAttribute("gallery"),i=t.dataset.originalInnerHTML||t.innerHTML,r=document.createElement("div");r.innerHTML=i;var s=r.firstElementChild;e.setSrcNode(s,o);return{src:o,node:s,active:o===n}}))})),n.tap((function(t){e.addGallery(t)})))},r.listeners$=function(){var t=this.close$();return o.merge(t,this.prev$(),this.next$(),this.events$()).pipe(n.takeUntil(t))},r.addGallery=function(t){console.log("clicked",t);var e=t.reduce((function(t,e,n){return e.active?n:t}),0);H.open$({src:_.template.modal.galleryModal,data:{items:t,initialSlide:e}}).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){console.log("GalleryComponent.addGallery",t)}))},r.close$=function(){var e=this,i=this.modalNode,r=i.querySelector(".btn--close"),s=document.querySelector("body");return o.fromEvent(r,"click").pipe(n.tap((function(n){t.Component.unregister(i),s.removeChild(i),e.modalNode=null})))},r.prev$=function(){var t=this,e=this.modalNode.querySelector(".btn--prev");return o.fromEvent(e,"click").pipe(n.tap((function(e){var n=t.swiperInstance;null!=n&&n.slidePrev()})))},r.next$=function(){var t=this,e=this.modalNode.querySelector(".btn--next");return o.fromEvent(e,"click").pipe(n.tap((function(e){var n=t.swiperInstance;null!=n&&n.slideNext()})))},r.events$=function(){var t=this.modalNode.querySelector(".modal-gallery__index"),e=this.swiperInstance;return null!=e?e.events$.pipe(n.tap((function(n){t.innerHTML=n+1+" / "+e.total}))):o.EMPTY},r.getSrcNode=function(t){return null!=t.getAttribute("src")?t:t.querySelector("[src]")},r.setSrcNode=function(t,e){var n=this.getSrcNode(t);return n&&"img"===n.tagName.toLowerCase()&&n.setAttribute("src",e),n},i}(t.Component);l(z,"meta",{selector:"[gallery]"});var W=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t,n){if(!n)return t;Array.isArray(n)||(n=[n]);var o=n.map((function(t){return e.escapeRegexChars(t)})),i=new RegExp("(<[^>]+>)|("+o.join("|")+")","gmi");return t=t.replace(i,(function(t,e,n){return e||"<b>"+n+"</b>"})),console.log(t,n),t},e.escapeRegexChars=function(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},e.safeToString=function(t){return null==t?"":t.toString().trim()},e.encodeHTML=function(t){return this.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.decodeHTML=function(t){return t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">")},e}(t.Pipe);W.meta={name:"highlight"};var J=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t){if(t){t=t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e))}));var e=['"',"&","'","<",">"," ","¡","¢","£","¤","¥","¦","§","¨","©","ª","«","¬","­","®","¯","°","±","²","³","´","µ","¶","·","¸","¹","º","»","¼","½","¾","¿","À","Á","Â","Ã","Ä","Å","Æ","Ç","È","É","Ê","Ë","Ì","Í","Î","Ï","Ð","Ñ","Ò","Ó","Ô","Õ","Ö","×","Ø","Ù","Ú","Û","Ü","Ý","Þ","ß","à","á","ã","ä","å","æ","ç","è","é","ê","ë","ì","í","î","ï","ð","ñ","ò","ó","ô","õ","ö","÷","ø","ù","ú","û","ü","ý","þ","ÿ","&","•","°","∞","‰","⋅","±","†","—","¬","µ","⊥","∥","€","£","¥","¢","©","®","™","α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω","Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω"],n=new RegExp("(&"+["quot","amp","apos","lt","gt","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","times","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","divide","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","amp","bull","deg","infin","permil","sdot","plusmn","dagger","mdash","not","micro","perp","par","euro","pound","yen","cent","copy","reg","trade","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigma","tau","upsilon","phi","chi","psi","omega","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega"].join(";)|(&")+";)","g");return t=t.replace(n,(function(){for(var t=1;t<arguments.length;t++)if(arguments[t])return e[t-1]}))}},e}(t.Pipe);J.meta={name:"html"};var Y=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.onChanges=function(){t.getContext(this).node.setAttribute("id",this.id)},n}(t.Directive);Y.meta={selector:"[[id]]",inputs:["id"]};var K=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.onChanges=function(){t.getContext(this).node.setAttribute("for",this.labelFor)},n}(t.Directive);K.meta={selector:"[[labelFor]]",inputs:["labelFor"]};var Q=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t){return e.labels_[t]||t},e.getKeys=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.transform(n.map((function(t){return t.replace("-","_")})).join("_"))},e.setLabels=function(){var t=b.merge({select:"Seleziona",browse:"Sfoglia",cancel:"Annulla",error_email:"Email non valida",error_match:"I campi non corrispondono",error_required:"Campo obbligatorio",loading:"caricamento",remove:"Rimuovi",required:"Richiesto",select_file:"Seleziona una file...",update:"Aggiorna",upload:"Carica",drag_and_drop_images:"Drag And Drop your images here"},_.labels);this.labels_=t},e}(t.Pipe);Q.setLabels(),Q.meta={name:"label"};var Z=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.onChanges=function(){t.getContext(this).node.setAttribute("name",this.name)},n}(t.Directive);Z.meta={selector:"[[name]]",inputs:["name"]};var X=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t,e,n){if(void 0===e&&(e={}),void 0===n&&(n=null),null!=t)return n=n||_.currentLanguage,new Intl.NumberFormat(n,e).format(t)},e}(t.Pipe);X.meta={name:"number"};var tt=[{amount:60,name:"seconds"},{amount:60,name:"minutes"},{amount:24,name:"hours"},{amount:7,name:"days"},{amount:4.34524,name:"weeks"},{amount:12,name:"months"},{amount:Number.POSITIVE_INFINITY,name:"years"}],et=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t,e,n){if(void 0===e&&(e={numeric:"auto"}),void 0===n&&(n=null),null!=t){var o=t instanceof Date?t:new Date(t);n=n||_.currentLanguage;for(var i=new Intl.RelativeTimeFormat(n,e),r=(o-new Date)/1e3,s=0;s<=tt.length;s++){var a=tt[s];if(Math.abs(r)<a.amount)return i.format(Math.round(r),a.name);r/=a.amount}}},e}(t.Pipe);et.meta={name:"relativeDate"};var nt=function(e){function i(){return e.apply(this,arguments)||this}return u(i,e),i.prototype.onInit=function(){var e=this,i=t.getContext(this).node,s=this.anchors=Array.prototype.slice.call(i.querySelectorAll("[href]")).filter((function(t){return t.hasAttribute("href")})).map((function(t){var e=t.getAttribute("href");return{a:t,href:e,target:document.querySelector(e)}}));o.fromEvent(window,"scroll").pipe(n.startWith(1),n.takeUntil(this.unsubscribe$)).subscribe((function(t){var n=s.map((function(t,e){return{top:t.target.getBoundingClientRect().top,index:e}}));n.sort((function(t,e){return t.top-e.top}));var o=n.reduce((function(t,e,n){var o=Math.abs(e.top);return o<t.distance?r(r({},e),{},{distance:o}):t}),Object.assign({},n[0],{distance:Number.POSITIVE_INFINITY}));e.index=o.index}))},a(i,[{key:"index",set:function(t){this.index_!==t&&(this.index_=t,this.anchors.forEach((function(e,n){t===n?e.a.classList.add("active"):e.a.classList.remove("active")})))}}]),i}(t.Directive);nt.meta={selector:"[scroll-menu]"};var ot=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){this.initialFocus=!1;var e=t.getContext(this),o=e.module,i=e.node,r=this.expression=i.getAttribute("(scrollTo)");this.outputFunction=o.makeFunction(r,["$event"]),this.scrollTo$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(){}))},r.scrollTo$=function(){var e=this,i=t.getContext(this),r=i.module,s=i.node,a=i.parentInstance;return o.fromEvent(s,"click").pipe(n.tap((function(t){t.preventDefault();var n=r.resolve(e.outputFunction,a,t);if("string"==typeof n){var o=document.querySelector(n);if(o){var i=e.currentTop(),s=i+o.getBoundingClientRect().top-150,l={tween:0},u=document.querySelector("html");gsap.set(u,{"scroll-behavior":"auto"}),gsap.to(l,{duration:Math.abs(s-i)/5e3,tween:1,ease:Quad.easeOut,overwrite:"all",onUpdate:function(){window.scrollTo(0,i+(s-i)*l.tween)},onComplete:function(){gsap.set(u,{"scroll-behavior":"smooth"})}})}}})),n.shareReplay(1))},r.currentTop=function(){return self.pageYOffset?self.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop?document.body.scrollTop:0},i}(t.Directive);ot.meta={selector:"[(scrollTo)]"};var it=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return l(p(t=e.call.apply(e,[this].concat(o))||this),"sticked_",!1),t}u(o,e);var i=o.prototype;return i.onInit=function(){var e=t.getContext(this).node;this.targetNode=this.target&&e.querySelector(this.target)||e,this.until=this.until?document.querySelector(this.until):null,console.log("ScrollStickyDirective",this.targetNode,this.until),this.sticky$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){}))},i.sticky$=function(){var e=this,o=t.getContext(this).node,i=this.targetNode,r=this.until;return d.scroll$.pipe(n.tap((function(t){console.log(t);var n=o.getBoundingClientRect(),s=0;if(e.bottom){var a=window.innerHeight-i.offsetHeight;window.innerWidth>=1024&&n.y>a?(s=a-n.y,e.sticked=!0):e.sticked=!1}else{var l="down"===t.direction?80:135;if(window.innerWidth>=1024&&n.y<l){if(s=l-n.y,r){var u=r.getBoundingClientRect().y-n.y;s=Math.min(u,s)}e.sticked=!0}else e.sticked=!1}console.log(n.height-i.offsetHeight)})))},a(o,[{key:"sticked",get:function(){return this.sticked_},set:function(t){this.sticked_!==t&&(this.sticked_=t,this.targetNode&&(t?this.targetNode.classList.add("sticked"):this.targetNode.classList.remove("sticked")))}}]),o}(t.Directive);it.meta={selector:"[scroll-sticky],[[scroll-sticky]]",inputs:["target","until","bottom"]};var rt=function(e){function o(){return e.apply(this,arguments)||this}u(o,e);var i=o.prototype;return i.onInit=function(){this.scroll$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){}))},i.scroll$=function(){var e=t.getContext(this).node,o=this.scroll&&e.querySelector(this.scroll)||e,i=o===e?window:e,r=this.scrollSpeed?parseFloat(this.scrollSpeed):1.5;return d.scroll$.pipe(n.tap((function(t){if(window.innerWidth<1024)gsap.set(o,{clearProps:!0});else{var e=(i===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight}:i.getBoundingClientRect()).height,n=o.getBoundingClientRect(),s=gsap.getProperty(o,"y"),a=n.top-s,l=n.height;if(a>-l&&a<e){var u=(1-2*((a+l)/(e+l)))*r*-100;gsap.to(o,{y:u,duration:.25})}}})))},o}(t.Directive);rt.meta={selector:"[scroll]",inputs:["scroll","scrollSpeed"]};var st=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var e=t.getContext(this).node,i=this.href;e.setAttribute("href",i),"mailTo"!==this.share&&(e.setAttribute("target","_blank"),o.fromEvent(e,"click").pipe(n.tap((function(t){t.preventDefault(),window.open(i,"ShareWindow",window.innerWidth>=768?"width=640,height=480":"")})),n.takeUntil(this.unsubscribe$)).subscribe())},r.encodeURI=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,(function(t){return"%"+t.charCodeAt(0).toString(16)}))},a(i,[{key:"href",get:function(){switch(this.share){case"facebook":return this.facebookUrl;case"pinterest":return this.pinterestUrl;case"linkedIn":return this.linkedInUrl;case"twitter":return this.twitterUrl;case"whatsapp":return this.whatsappUrl;case"mailTo":return this.mailToUrl}}},{key:"facebookUrl",get:function(){return"https://www.facebook.com/sharer/sharer.php?u="+this.url}},{key:"pinterestUrl",get:function(){return"https://www.pinterest.com/pin/create/button/?url="+this.url+"&media=&description="+this.title}},{key:"linkedInUrl",get:function(){return"https://www.linkedin.com/shareArticle?mini=true&url="+this.url+"&title="+this.title}},{key:"twitterUrl",get:function(){return"https://twitter.com/intent/tweet?text="+this.title+"%20"+this.url}},{key:"whatsappUrl",get:function(){return"https://api.whatsapp.com/send?text="+this.url}},{key:"mailToUrl",get:function(){return"mailto:?subject="+this.title+"&body="+this.url}},{key:"title",get:function(){var t=this.shareTitle?this.shareTitle:document.title;return this.encodeURI(t)}},{key:"url",get:function(){var t=this.shareUrl;return t?-1===t.indexOf(window.location.origin)&&(t=window.location.origin+(0===t.indexOf("/")?t:"/"+t)):t=window.location.href,this.encodeURI(t)}}]),i}(t.Directive);st.meta={selector:"[share]",inputs:["share","shareUrl","shareTitle"]};var at=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.transform=function(t){return _.slug[t]||"#"+t},e}(t.Pipe);at.meta={name:"slug"};var lt=function(e){function n(){return e.apply(this,arguments)||this}u(n,e);var o=n.prototype;return o.onInit=function(){this.update()},o.onChanges=function(){this.update()},o.update=function(){if(this.name_!==this.name){this.name_=this.name;var e=t.getContext(this).node;if(e.parentNode){var n,o=document.createElementNS("http://www.w3.org/2000/svg","svg"),i=this.width||24,r=this.height||24;o.setAttribute("class","icon--"+this.name),o.setAttributeNS(null,"viewBox","0 0 "+i+" "+r),o.innerHTML='<use xlink:href="#'+this.name+'"></use>',o.rxcompId=e.rxcompId,(n=o.classList).add.apply(n,e.classList),e.parentNode.replaceChild(o,e)}}},n}(t.Structure);lt.meta={selector:"svg-icon",inputs:["name","width","height"]};var ut=function(e){function n(){return e.apply(this,arguments)||this}u(n,e);var i=n.prototype;return i.onInit=function(){this.options={slidesPerView:"auto",spaceBetween:0,centeredSlides:!0,speed:600,autoplay:{delay:5e3},keyboardControl:!0,mousewheelControl:!1,pagination:{el:".swiper-pagination",clickable:!0},keyboard:{enabled:!0,onlyInViewport:!0}},this.init_()},i.onChanges=function(){this.swiperInitOrUpdate_()},i.onDestroy=function(){this.removeListeners_(),this.swiperDestroy_()},i.onBeforePrint=function(){this.swiperDestroy_()},i.slideToIndex=function(t){this.swiper&&this.swiper.slideTo(t)},i.hasPrev=function(){var t=this.swiper;if(t&&t.activeIndex>0&&t.slides.length>t.activeIndex)return!0},i.hasNext=function(){var t=this.swiper;if(t){var e="auto"===t.params.slidesPerView?1:t.params.slidesPerView||1;if(t.activeIndex<t.slides.length-e)return!0}},i.slidePrev=function(){var t=this.swiper;this.hasPrev()&&t.slideTo(t.activeIndex-1)},i.slideNext=function(){var t=this.swiper;this.hasNext()&&t.slideTo(t.activeIndex+1)},i.init_=function(e){var n=this;if(this.events$=new o.Subject,this.enabled){var i=t.getContext(this).node;e=e||i,this.target=e,gsap.set(e,{opacity:0}),this.index=0;var r=this.options.on||{};r.slideChange=function(){var t=n.swiper;t&&(n.index=t.activeIndex,n.events$.next(n.index),n.pushChanges())},this.options.on=r,this.addListeners_()}},i.addListeners_=function(){this.onBeforePrint=this.onBeforePrint.bind(this),window.addEventListener("beforeprint",this.onBeforePrint)},i.removeListeners_=function(){window.removeEventListener("beforeprint",this.onBeforePrint)},i.swiperInitOrUpdate_=function(){if(this.enabled){var t=this.target;if(this.swiper)this.swiper.update();else{var e,n=this.options.on||(this.options.on={}),o=n.init;n.init&&n.init.swiperDirectiveInit||(n.init=function(){var n=this;gsap.to(t,{duration:.4,opacity:1,ease:Power2.easeOut}),setTimeout((function(){"function"==typeof o&&o.apply(n,[e,element,scope])}),1)},n.init.swiperDirectiveInit=!0),gsap.set(t,{opacity:1}),e=new Swiper(t,this.options),this.swiper=e,this.swiper._opening=!0,t.classList.add("swiper-init")}}},i.swiperDestroy_=function(){this.swiper&&this.swiper.destroy()},a(n,[{key:"slideIndex",get:function(){return this.swiper?this.swiper.realIndex+1:0}},{key:"slideTotal",get:function(){return this.swiper?this.swiper.slides.length:0}},{key:"enabled",get:function(){return!window.matchMedia("print").matches}}]),n}(t.Component);ut.meta={selector:"[swiper]",inputs:["consumer"]};var ct=function(){function t(){}return t.thron$=function(){var t=window.THRONContentExperience||window.THRONPlayer;if(t)return o.of(t);var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","https://gruppoconcorde-cdn.thron.com/shared/ce/bootstrap/1/scripts/embeds-min.js");var i=o.fromEvent(e,"load").pipe(n.map((function(t){return window.THRONContentExperience||window.THRONPlayer})),n.shareReplay(1));return document.head.appendChild(e)&&i},t}(),pt=0,dt=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return l(p(t=e.call.apply(e,[this].concat(o))||this),"playing_",!1),t}u(o,e);var i=o.prototype;return i.onInit=function(){this.init$().pipe(n.first()).subscribe()},i.init$=function(){var e=this;return ct.thron$().pipe(n.tap((function(n){if(n){var o=t.getContext(e).node,i=(e.target=o.querySelector(".video > .thron")).id="thron-"+ ++pt,r=e.thron;if(-1===r.indexOf("pkey=")){var s=r.split("/");r="https://gruppoconcorde-view.thron.com/api/xcontents/resources/delivery/getContentDetail?clientId="+s[6]+"&xcontentId="+s[7]+"&pkey="+s[8]}var a=e.controls=!!o.hasAttribute("controls"),l=e.loop=!!o.hasAttribute("loop"),u=e.autoplay=!!o.hasAttribute("autoplay"),c=e.player=n(i,{media:r,loop:l,autoplay:u,muted:!a,displayLinked:"close",noSkin:!a});e.onReady=e.onReady.bind(e),e.onCanPlay=e.onCanPlay.bind(e),e.onPlaying=e.onPlaying.bind(e),e.onPlay=e.onPlay.bind(e),e.onPause=e.onPause.bind(e),e.onComplete=e.onComplete.bind(e),c.on("ready",e.onReady),c.on("canPlay",e.onCanPlay),c.on("playing",e.onPlaying),c.on("play",e.onPlay),c.on("pause",e.onPause),c.on("complete",e.onComplete)}})))},i.onReady=function(){t.getContext(this).node;var e=this.target.id,n=this.player;if(!this.controls){var o=n.mediaContainer().querySelector("video");o.setAttribute("playsinline","true"),o.setAttribute("autoplay","true")}this.ready.next(e)},i.onCanPlay=function(){t.getContext(this).node;var e=this.target.id;this.canPlay.next(e)},i.onPlaying=function(){t.getContext(this).node,this.target.id;var e=this.player;if(e.off("playing",this.onPlaying),!this.controls){var n=e.qualityLevels();if(n.length){var o=n[n.length-1].index;n[0].index;e.currentQuality(o)}}},i.onPlay=function(){t.getContext(this).node;var e=this.target.id;this.playing=!0,this.play.next(e)},i.onPause=function(){t.getContext(this).node;var e=this.target.id;this.playing=!1,this.pause.next(e)},i.onComplete=function(){t.getContext(this).node;var e=this.target.id;this.playing=!1,this.complete.next(e)},i.playVideo=function(){t.getContext(this).node,this.target.id;var e=this.player,n=e.status();n&&!n.playing&&e.play()},i.pauseVideo=function(){t.getContext(this).node,this.target.id;var e=this.player,n=e.status();n&&n.playing&&e.pause()},i.toggle=function(){t.getContext(this).node,this.target.id;var e=this.player,n=e.status();n&&n.playing?e.pause():e.play()},i.play=function(e){t.getContext(this).node;e===this.target.id&&this.playVideo()},i.pause=function(e){t.getContext(this).node;e===this.target.id&&this.pauseVideo()},i.onDestroy=function(){var t=this.player;t&&(t.off("ready",this.onReady),t.off("canPlay",this.onCanPlay),t.off("playing",this.onPlaying),t.off("play",this.onPlay),t.off("pause",this.onPause),t.off("complete",this.onComplete))},a(o,[{key:"playing",get:function(){return this.playing_},set:function(e){if(this.playing_!==e){this.playing_=e;var n=t.getContext(this).node;n&&(e?n.classList.add("playing"):n.classList.remove("playing"))}}}]),o}(t.Component);dt.meta={selector:"[thron],[[thron]]",outputs:["ready","canPlay","play","pause","complete"],inputs:["thron","m3u8"],template:""};var ht=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),a(n,[{key:"title",get:function(){return this.title_},set:function(e){if(this.title_!==e){this.title_=e;var n=t.getContext(this).node;e?n.setAttribute("title",e):n.removeAttribute("title")}}}]),n}(t.Directive);ht.meta={selector:"[[title]]",inputs:["title"]};var ft=function(e){function i(){return e.apply(this,arguments)||this}return u(i,e),i.prototype.onInit=function(){var e=this,i=t.getContext(this).node;o.fromEvent(i,"click").pipe(n.tap((function(t){Array.prototype.slice.call(document.querySelectorAll(e.toggle)).forEach((function(t){t===i?t.classList.contains("active")?t.classList.remove("active"):t.classList.add("active"):t.classList.remove("active")}))})),n.takeUntil(this.unsubscribe$)).subscribe()},i}(t.Directive);ft.meta={selector:"[toggle]",inputs:["toggle"]};var mt=[f,g,v,T,U,R,E,O,z,G,Y,K,B,Z,rt,it,ot,nt,st,lt,ut,dt,ht,ft],gt=[L,P,A,W,J,Q,X,et,at],vt=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(t.Module);vt.meta={imports:[],declarations:[].concat(mt,gt),exports:[].concat(mt,gt)};var bt=1e4,yt=function(e){function n(){return e.apply(this,arguments)||this}u(n,e);var o=n.prototype;return o.onInit=function(){this.uid=++bt,this.label=this.label||"label"},o.onChanges=function(){var e=t.getContext(this).node,n=this.control.flags;Object.keys(n).forEach((function(t){n[t]?e.classList.add(t):e.classList.remove(t)}))},a(n,[{key:"uniqueId",get:function(){return this.control.name+this.uid}}]),n}(t.Component);yt.meta={selector:"[control]",inputs:["control"]};var wt=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var t=this;e.prototype.onInit.call(this),"modal"===this.target&&setTimeout((function(){t.link$().pipe(n.takeUntil(t.unsubscribe$)).subscribe()}),1)},r.link$=function(){var e=this,i=t.getContext(this).node,r=Array.prototype.slice.call(i.querySelectorAll("a"));return o.merge.apply(void 0,r.map((function(t){return o.fromEvent(t,"click")}))).pipe(n.switchMap((function(t){t.preventDefault(),t.stopPropagation();var e=t.target.getAttribute("href");return o.from(fetch(e).then((function(t){return t.text()})))})),n.tap((function(t){var o=(new DOMParser).parseFromString(t,"text/html"),i=o.querySelector(".section--intro-sm .title");i=i?i.innerHTML:null;var r=o.querySelector(".section--intro-sm .descritpion");r=r?r.innerHTML:null;var s=o.querySelector(".section--text .col-md-6");s=s?s.innerHTML:null,H.open$({src:_.template.modal.genericModal,data:{title:i,abstract:r,description:s}}).pipe(n.takeUntil(e.unsubscribe$)).subscribe((function(t){}))})))},i}(yt);wt.meta={selector:"[control-checkbox]",inputs:["control","label","target"],template:'\n\t\t<div class="group--form--checkbox" [class]="{ required: control.validators.length }">\n\t\t\t<input [id]="uniqueId" type="checkbox" class="control--checkbox" [formControl]="control" [value]="true" />\n\t\t\t<label [labelFor]="uniqueId">\n\t\t\t\t<svg class="icon icon--checkbox"><use xlink:href="#checkbox"></use></svg>\n\t\t\t\t<svg class="icon icon--checkbox-checked"><use xlink:href="#checkbox-checked"></use></svg>\n\t\t\t\t<span [innerHTML]="label | html"></span>\n\t\t\t\t<span class="required__sign">*</span>\n\t\t\t</label>\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var Ct=function(){function t(){}return t.keydown$=function(){return this.keydown$_||(this.keydown$_=o.fromEvent(window,"keydown").pipe(n.shareReplay(1))),this.keydown$_},t.keyup$=function(){return this.keyup$_||(this.keyup$_=o.fromEvent(window,"keyup").pipe(n.shareReplay(1))),this.keyup$_},t.keys$=function(){var t=this;return this.keys$_||(this.keys$_=o.merge(this.keydown$(),this.keyup$()).pipe(n.map((function(e){var n=t.keys;return"keydown"===e.type?n[e.key]=!0:delete n[e.key],t.keys})),n.startWith(this.keys),n.shareReplay(1))),this.keys$_},t.key$=function(){if(!this.key$_){var t=/\w/;this.key$_=this.keydown$().pipe(n.filter((function(e){return e.key&&e.key.match(t)})),n.map((function(t){return t.key})),n.shareReplay(1))}return this.key$_},t.typing$=function(){if(!this.typing$_){var t,e="";this.typing$_=this.key$().pipe(n.map((function(n){return t&&clearTimeout(t),e+=n,t=setTimeout((function(){e=""}),1500),e})),n.shareReplay(1))}return this.typing$_},t}();l(Ct,"keys",{});var kt=function(e){function o(){return e.apply(this,arguments)||this}u(o,e);var i=o.prototype;return i.onInit=function(){var t=this;e.prototype.onInit.call(this),this.dropped=!1,this.dropdownId=U.nextId(),Ct.typing$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.scrollToWord(e)}))},i.scrollToWord=function(e){for(var n=this.control.options||[],o=-1,i=0;i<n.length;i++){if(0===n[i].name.toLowerCase().indexOf(e.toLowerCase())){o=i;break}}if(-1!==o){var r=t.getContext(this).node,s=r.querySelector(".dropdown"),a=r.querySelector(".nav--dropdown").children[o];s.scrollTo(0,a.offsetTop)}},i.setOption=function(t){var e;if(this.isMultiple){var n=this.control.value||[],o=n.indexOf(t.id);-1!==o?n.splice(o,1):n.push(t.id),n.length&&n.slice(),function(t){throw new TypeError('"'+t+'" is read-only')}("value")}else e=t.id;this.control.value=e,this.change.next(e)},i.hasOption=function(t){return this.isMultiple?-1!==(this.control.value||[]).indexOf(t.id):this.control.value===t.id},i.getLabel=function(){var t=this.control.value,e=this.control.options||[];if(this.isMultiple)return(t=t||[]).length?t.map((function(t){var n=e.find((function(e){return e.id===t||e.name===t}));return n?n.name:""})).join(", "):this.select||"select";var n=t?e.find((function(e){return e.id===t||e.name===t})):null;return n?n.name:this.select||"select"},i.onDropped=function(t){this.dropped&&null===t&&(this.control.touched=!0),this.dropped=t===this.dropdownId},a(o,[{key:"isMultiple",get:function(){return this.multiple&&!1!==this.multiple&&"false"!==this.multiple}}]),o}(yt);kt.meta={selector:"[control-custom-select]",outputs:["change"],inputs:["control","label","multiple","select"],template:'\n\t\t<div class="group--form--select" [class]="{ required: control.validators.length, multiple: isMultiple }" [dropdown]="dropdownId" (dropped)="onDropped($event)">\n\t\t\t\x3c!--<label><span [innerHTML]="label"></span> <span class="required__sign">*</span></label>--\x3e\n\t\t\t<span class="control--custom-select" [innerHTML]="getLabel() | label"></span>\n\t\t\t<svg class="caret-down"><use xlink:href="#caret-down"></use></svg>\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t\t<div class="dropdown" [dropdown-item]="dropdownId">\n\t\t\t<div class="category" [innerHTML]="label"></div>\n\t\t\t<ul class="nav--dropdown" [class]="{ multiple: isMultiple }">\n\t\t\t\t<li (click)="setOption(item)" [class]="{ empty: item.id == null }" *for="let item of control.options">\n\t\t\t\t\t<span [class]="{ active: hasOption(item) }" [innerHTML]="item.name | label"></span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t'};var $t=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){t.prototype.onInit.call(this)},e}(yt);$t.meta={selector:"[control-email]",inputs:["control","label"],template:'\n\t\t<div class="group--form" [class]="{ required: control.validators.length }">\n\t\t\t<label [labelFor]="uniqueId"><span [innerHTML]="label"></span> <span class="required__sign">*</span></label>\n\t\t\t<input [id]="uniqueId" type="text" class="control--text" [formControl]="control" [placeholder]="label" required email />\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var xt=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var n=e.prototype;return n.onInit=function(){t.prototype.onInit.call(this),this.labels=window.labels||{},this.file=null,this.onReaderComplete=this.onReaderComplete.bind(this)},n.onInputDidChange=function(t){var e=t.target.files[0];this.file={name:e.name,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,size:e.size,type:e.type};var n=new FileReader;n.addEventListener("load",this.onReaderComplete),n.readAsDataURL(e)},n.onReaderComplete=function(t){var e=t.target.result;this.file.content=e,this.control.value=this.file},e}(yt);xt.meta={selector:"[control-file]",inputs:["control","label"],template:'\n\t\t<div class="group--form--file" [class]="{ required: control.validators.length }">\n\t\t\t\x3c!--<label for="file"><span [innerHTML]="label"></span> <span class="required__sign">*</span></label>--\x3e\n\t\t\t<span class="control--text" [innerHTML]="file?.name || labels.select_file"></span>\n\t\t\t<svg class="upload"><use xlink:href="#upload"></use></svg>\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t\t<input name="file" type="file" accept=".pdf,.doc,.docx,*.txt" class="control--file" (change)="onInputDidChange($event)" />\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var St=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.onInit=function(){e.prototype.onInit.call(this);var n=t.getContext(this).node;n.hasAttribute("secure")&&n.querySelector("input").setAttribute("autocomplete","new-password")},n}(yt);St.meta={selector:"[control-password]",inputs:["control","label"],template:'\n\t\t<div class="group--form" [class]="{ required: control.validators.length }">\n\t\t\t<label [labelFor]="uniqueId"><span [innerHTML]="label"></span> <span class="required__sign">*</span></label>\n\t\t\t<input [id]="uniqueId" type="password" class="control--text" [formControl]="control" [placeholder]="label" />\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var It=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var t=this;e.prototype.onInit.call(this),"modal"===this.target&&setTimeout((function(){t.link$().pipe(n.takeUntil(t.unsubscribe$)).subscribe()}),1)},r.onChanges=function(){var e=this,n=t.getContext(this).node;Array.prototype.slice.call(n.querySelectorAll("input")).forEach((function(t,n){!0===e.control.value&&0===n||!1===e.control.value&&1===n?t.setAttribute("checked",""):t.removeAttribute("checked")}))},r.onSelect=function(t){this.control.value=t},r.link$=function(){var e=this,i=t.getContext(this).node,r=Array.prototype.slice.call(i.querySelectorAll("a"));return o.merge.apply(void 0,r.map((function(t){return o.fromEvent(t,"click")}))).pipe(n.switchMap((function(t){t.preventDefault(),t.stopPropagation();var e=t.target.getAttribute("href");return o.from(fetch(e).then((function(t){return t.text()})))})),n.tap((function(t){var o=(new DOMParser).parseFromString(t,"text/html"),i=o.querySelector(".section--intro-sm .title");i=i?i.innerHTML:null;var r=o.querySelector(".section--intro-sm .descritpion");r=r?r.innerHTML:null;var s=o.querySelector(".section--text .col-md-6");s=s?s.innerHTML:null,H.open$({src:_.template.modal.genericModal,data:{title:i,abstract:r,description:s}}).pipe(n.takeUntil(e.unsubscribe$)).subscribe((function(t){}))})))},i}(yt);It.meta={selector:"[control-privacy]",inputs:["control","label","target"],template:'\n\t\t<div class="group--form--privacy" [class]="{ required: control.validators.length }">\n\t\t\t<div class="group--inputs">\n\t\t\t\t<input type="radio" class="control--checkbox" [id]="uniqueId + \'_true\'" [name]="uniqueId" [value]="true" (change)="onSelect(true)" />\n\t\t\t\t<label [labelFor]="uniqueId + \'_true\'">\n\t\t\t\t\t<svg class="icon icon--checkbox"><use xlink:href="#checkbox"></use></svg>\n\t\t\t\t\t<svg class="icon icon--checkbox-checked"><use xlink:href="#checkbox-checked"></use></svg>\n\t\t\t\t\t<span>Acconsento</span>\n\t\t\t\t</label>\n\t\t\t\t<input type="radio" class="control--checkbox" [id]="uniqueId + \'_false\'" [name]="uniqueId" [value]="false" (change)="onSelect(false)" />\n\t\t\t\t<label [labelFor]="uniqueId + \'_false\'">\n\t\t\t\t\t<svg class="icon icon--checkbox"><use xlink:href="#checkbox"></use></svg>\n\t\t\t\t\t<svg class="icon icon--checkbox-checked"><use xlink:href="#checkbox-checked"></use></svg>\n\t\t\t\t\t<span>Non acconsento</span>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t\t<div class="description">\n\t\t\t\t<span [innerHTML]="label | html"></span>\n\t\t\t\t<span class="required__sign">*</span>\n\t\t\t</div>\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var qt=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){t.prototype.onInit.call(this),this.disabled=this.disabled||!1},e}(yt);qt.meta={selector:"[control-search]",inputs:["control","label","disabled"],template:'\n\t\t<div class="group--form" [class]="{ required: control.validators.length, disabled: disabled }">\n\t\t\t<svg class="search"><use xlink:href="#search"></use></svg>\n\t\t\t<input type="text" class="control--text" [formControl]="control" [placeholder]="label" [disabled]="disabled" />\n\t\t</div>\n\t'};var Vt=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){t.prototype.onInit.call(this),this.disabled=this.disabled||!1},e}(yt);Vt.meta={selector:"[control-text]",inputs:["control","label","disabled"],template:'\n\t\t<div class="group--form" [class]="{ required: control.validators.length, disabled: disabled }">\n\t\t\t\x3c!--<label [labelFor]="uniqueId"><span [innerHTML]="label"></span> <span class="required__sign">*</span></label>--\x3e\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t\t<input [id]="uniqueId" type="text" class="control--text" [formControl]="control" [placeholder]="label" [disabled]="disabled" />\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var _t=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){t.prototype.onInit.call(this),this.disabled=this.disabled||!1},e}(yt);_t.meta={selector:"[control-textarea]",inputs:["control","label","disabled"],template:'\n\t\t<div class="group--form--textarea" [class]="{ required: control.validators.length, disabled: disabled }">\n\t\t\t\x3c!--<label [labelFor]="uniqueId"><span [innerHTML]="label"></span> <span class="required__sign">*</span></label>--\x3e\n\t\t\t<textarea [id]="uniqueId" class="control--text" [formControl]="control" [placeholder]="label" [innerHTML]="label" rows="4" [disabled]="disabled"></textarea>\n\t\t\t<span class="required__badge" [innerHTML]="\'required\' | label"></span>\n\t\t</div>\n\t\t<errors-component [control]="control"></errors-component>\n\t'};var Lt=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.getLabel=function(t,e){return Q.transform("error_"+t)},e}(yt);Lt.meta={selector:"errors-component",inputs:["control"],template:'\n\t<div class="inner" [style]="{ display: control.invalid && control.touched ? \'block\' : \'none\' }">\n\t\t<div class="error" *for="let [key, value] of control.errors">\n\t\t\t<span [innerHTML]="getLabel(key, value)"></span>\n\t\t\t\x3c!-- <span class="key" [innerHTML]="key"></span> <span class="value" [innerHTML]="value | json"></span> --\x3e\n\t\t</div>\n\t</div>\n\t'};var Tt=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var n=e.prototype;return n.onTest=function(t){this.test.next(t)},n.onReset=function(t){this.reset.next(t)},e}(t.Component);Tt.meta={selector:"test-component",inputs:["form"],outputs:["test","reset"],template:'\n\t<div class="test-component" *if="!(\'production\' | flag)">\n\t\t<div class="test-component__title">development mode</div>\n\t\t<code [innerHTML]="form.value | json"></code>\n\t\t<button type="button" class="btn--link" (click)="onTest($event)"><span>test</span></button>\n\t\t<button type="button" class="btn--link" (click)="onReset($event)"><span>reset</span></button>\n\t</div>\n\t'};var Ft=[wt,kt,$t,xt,St,It,qt,_t,Vt,Lt,Tt],Mt=[],Ut=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(t.Module);Ut.meta={imports:[],declarations:[].concat(Ft,Mt),exports:[].concat(Ft,Mt)};var Rt=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onRequestInfo=function(){H.open$({src:_.template.modal.contactModal,data:{id:this.id}}).pipe(n.first()).subscribe((function(t){console.log("CardProductDetailComponent.open$",t)}))},e}(t.Component);Rt.meta={selector:"[card-product-detail]",inputs:["id"]};var Et=function(){function t(){}return t.toOptions=function(t){return t=t.slice().map((function(t){return{id:t.value,name:t.label}}))},t.toSelectOptions=function(t){return(t=t.slice().map((function(t){return{id:t.value,name:t.label}}))).unshift({id:null,name:"select"}),t},t}(),Pt=function(){function t(){}return t.http$=function(t,e,i,r,s,a){var l=this;void 0===s&&(s=null),void 0===a&&(a={});var u=null;return a=Object.assign({method:t,headers:{Accept:"application/json","Content-Type":"application/json"}},a,{body:-1!==["POST","PUT","PATCH"].indexOf(t)?JSON.stringify(i):void 0}),s&&(a.credentials="include",s=window.btoa(s),a.headers.Authorization="Basic "+s),a.headers=new Headers(a.headers),o.from(fetch(e,a).then((function(t){u=t;try{var e,n=t.headers.get("content-type");return e=n&&-1!==n.indexOf("application/json")?t.json():t.text(),t.ok?e:e.then((function(t){return Promise.reject(t)}))}catch(e){return t.ok?(console.warn("HttpService.http$","Cannot parse response"),Promise.resolve()):Promise.reject(e)}}))).pipe(n.catchError((function(t){return o.throwError(l.getError(t,u))})))},t.get$=function(t,e,n){var o=this.query(e);return this.http$("GET",""+t+o,void 0,n)},t.delete$=function(t){return this.http$("DELETE",t)},t.post$=function(t,e){return this.http$("POST",t,e)},t.put$=function(t,e){return this.http$("PUT",t,e)},t.patch$=function(t,e){return this.http$("PATCH",t,e)},t.query=function(t){return""},t.getError=function(t,e){var n="object"==typeof t?t:{};return n.status||(n.status=e?e.status:0),n.statusCode||(n.statusCode=e?e.status:0),n.statusMessage||(n.statusMessage=e?e.statusText:t),n},t}(),Ot=function(){function t(){}return t.has=function(t){return new URLSearchParams(window.location.search).has(t)},t.get=function(t){return new URLSearchParams(window.location.search).get(t)},t.set=function(t,e){var n=new URLSearchParams(window.location.search);"string"==typeof t?n.set(t,e):n.set(t,""),this.pushParams(n)},t.pushParams=function(t){if(window.history&&window.history.pushState){var e=document.title,n=window.location.href.split("?")[0]+"?"+t.toString();window.history.pushState(t.toString(),e,n)}},t.replace=function(t,e){var n=window.history;if(n&&n.replaceState){var o=window.location,i=document.title;if("/"===o.pathname){var r=o.origin+e+o.search;n.replaceState(n.state,i,r)}else if(-1!==o.href.indexOf(t)){var s=o.href.replace(t,e);n.replaceState(n.state,i,s)}}},t.deserialize=function(t){var e=this.get("params");return this.decode(t,e)},t.serialize=function(t,e){var n=this.deserialize(),o=this.encode(t,e,n);this.set("params",o)},t.decode=function(t,e){var n=null;if(e){var o=window.atob(e);n=JSON.parse(o)}return t&&n&&(n=n[t]),n||null},t.encode=function(t,e,n){n=n||{};"string"==typeof t?n[t]=e:n=t;var o=JSON.stringify(n);return window.btoa(o)},t}(),At=function(){function t(){}return t.getDefaultLanguages=function(){return _.alternates||[]},t.getDefaultLanguage=function(){return _.defaultLanguage||(this.languages?this.languages[0].lang:null)},t.setLanguage=function(t){this.selectedLanguage=t.lang},t.setLanguage$=function(t){var e=this;return o.from(fetch(t.href).then((function(t){return t.text()}))).pipe(n.tap((function(n){var o=/(window\.labels[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\n*[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{((\{[\s\S]+?\})|[\s\S])+?\})/gm.exec(n);o&&(new Function(o[0]).call(window),Q.setLabels());var i=/(window\.bhere[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*=[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\n*[\t-\r \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]*\{((\{[\s\S]+?\})|[\s\S])+?\})/gm.exec(n);if(i){var r={};new Function(i[0].replace("window","this")).call(r),r.bhere&&b.merge(_,r.bhere)}Ot.replace(e.activeLanguage.href,t.href),e.selectedLanguage=t.lang})))},t.toggleLanguages=function(){this.showLanguages=!this.showLanguages,this.pushChanges()},a(t,null,[{key:"hasLanguages",get:function(){return this.languages.length>1}},{key:"activeLanguage",get:function(){var t=this;return this.languages.find((function(e){return e.lang===t.selectedLanguage}))}}]),t}();l(At,"languages",At.getDefaultLanguages()),l(At,"defaultLanguage",At.getDefaultLanguage()),l(At,"selectedLanguage",At.defaultLanguage);var jt=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.get$=function(e,n,o){return t.get$.call(this,""+_.api+e,n,o)},e.delete$=function(e){return t.delete$.call(this,""+_.api+e)},e.post$=function(e,n){return t.post$.call(this,""+_.api+e,n)},e.put$=function(e,n){return t.put$.call(this,""+_.api+e,n)},e.patch$=function(e,n){return t.patch$.call(this,""+_.api+e,n)},e}(Pt);l(jt,"currentLanguage",At.activeLanguage);var Nt=function(){function t(){}return t.data$=function(){return _.flags.production?jt.get$("/contacts/data"):jt.get$("/contacts/data.json")},t.submit$=function(t){return _.flags.production?jt.post$("/contacts/submit",t):jt.get$("/contacts/submit.json")},t}(),Dt=function(t){function o(){return t.apply(this,arguments)||this}u(o,t);var i=o.prototype;return i.onInit=function(){var t=this,o=this.form=new e.FormGroup({country:new e.FormControl(null,[e.Validators.RequiredValidator()])});this.controls=o.controls;o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges()})),this.load$().pipe(n.first()).subscribe()},i.load$=function(){var t=this;return Nt.data$().pipe(n.tap((function(e){t.controls.country.options=Et.toSelectOptions(e.country.options),t.pushChanges()})))},i.onRequestInfo=function(){this.form.valid&&H.open$({src:_.template.modal.salesModal,data:{id:this.id,productName:this.productName,countryOfInterestId:this.form.value.country}}).pipe(n.first()).subscribe((function(t){console.log("CardSaleDetailComponent.open$",t)}))},o}(t.Component);Dt.meta={selector:"[card-sale-detail]",inputs:["id","productName"]};var Ht=function(){function t(){}return t.push=function(t){return function(t){(window.dataLayer||[]).push(t),console.log("GtmService.dataLayer",t)}(t)},t}(),Bt=function(){function t(){}return t.data$=function(){return _.flags.production?jt.get$("/careers/data"):jt.get$("/contacts/data.json")},t.submit$=function(t){return _.flags.production?jt.post$("/careers/submit",t):jt.get$("/contacts/submit.json")},t}(),Gt=function(o){function i(){return o.apply(this,arguments)||this}u(i,o);var r=i.prototype;return r.onInit=function(){var o=this,i=t.getContext(this).parentInstance;if(i instanceof B){var r=i.modal.data,s=r.id,a=r.countryId;this.countryId=a||this.countryId,console.log("CareersModalComponent.onInit",s,a)}this.error=null,this.success=!1;var l=this.form=new e.FormGroup({firstName:new e.FormControl(null,[e.Validators.RequiredValidator()]),lastName:new e.FormControl(null,[e.Validators.RequiredValidator()]),company:new e.FormControl(null,[e.Validators.RequiredValidator()]),address:new e.FormControl(null,[e.Validators.RequiredValidator()]),city:new e.FormControl(null,[e.Validators.RequiredValidator()]),zip:new e.FormControl(null,[e.Validators.RequiredValidator()]),country:new e.FormControl(null,[e.Validators.RequiredValidator()]),email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),file:new e.FormControl(null,[e.Validators.RequiredValidator()]),privacy:new e.FormControl(null,[e.Validators.RequiredTrueValidator()]),checkRequest:window.antiforgery,checkField:""});this.controls=l.controls;l.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){o.pushChanges()})),this.load$().pipe(n.first()).subscribe()},r.load$=function(){var t=this;return Bt.data$().pipe(n.tap((function(e){t.controls.country.options=Et.toSelectOptions(e.country.options),t.countryId&&t.form.patch({country:t.countryId}),t.pushChanges()})))},r.test=function(){var t=this.form,e=this.controls,n=e.country.options.length>1?e.country.options[1].id:null;t.patch({firstName:"Jhon",lastName:"Appleseed",company:"Websolute",address:"Strada della Campanara, 15",city:"Pesaro",zip:61122,country:n,email:"jhonappleseed@gmail.com",file:"file",privacy:!0,checkRequest:window.antiforgery,checkField:""})},r.reset=function(){this.form.reset()},r.onSubmit=function(t){var e=this,o=this.form;console.log("CareersModalComponent.onSubmit",o.value),o.valid?(o.submitted=!0,Bt.submit$(o.value).pipe(n.first()).subscribe((function(t){e.success=!0,o.reset(),Ht.push({event:"Careers",form_name:"Contatti"})}),(function(t){console.log("CareersModalComponent.error",t),e.error=t,e.pushChanges()}))):o.touched=!0},r.onClose=function(){H.reject()},i}(t.Component);Gt.meta={selector:"[careers-modal]",inputs:["countryId"]};var zt=function(o){function i(){return o.apply(this,arguments)||this}u(i,o);var r=i.prototype;return r.onInit=function(){var o=this,i=t.getContext(this).parentInstance;if(i instanceof B){var r=i.modal.data,s=r.id,a=r.countryId;this.countryId=a||this.countryId,console.log("ContactModalComponent.onInit",s,a)}this.error=null,this.success=!1;var l=this.form=new e.FormGroup({firstName:new e.FormControl(null,[e.Validators.RequiredValidator()]),lastName:new e.FormControl(null,[e.Validators.RequiredValidator()]),company:new e.FormControl(null,[e.Validators.RequiredValidator()]),address:new e.FormControl(null,[e.Validators.RequiredValidator()]),city:new e.FormControl(null,[e.Validators.RequiredValidator()]),zip:new e.FormControl(null,[e.Validators.RequiredValidator()]),country:new e.FormControl(null,[e.Validators.RequiredValidator()]),email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),subject:new e.FormControl(null,[e.Validators.RequiredValidator()]),message:new e.FormControl(null,[e.Validators.RequiredValidator()]),privacy:new e.FormControl(null,[e.Validators.RequiredTrueValidator()]),checkRequest:window.antiforgery,checkField:""});this.controls=l.controls;l.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){o.pushChanges()})),this.load$().pipe(n.first()).subscribe()},r.load$=function(){var t=this;return Nt.data$().pipe(n.tap((function(e){t.controls.country.options=Et.toSelectOptions(e.country.options),t.countryId&&t.form.patch({country:t.countryId}),t.pushChanges()})))},r.test=function(){var t=this.form,e=this.controls,n=e.country.options.length>1?e.country.options[1].id:null;t.patch({firstName:"Jhon",lastName:"Appleseed",company:"Websolute",address:"Strada della Campanara, 15",city:"Pesaro",zip:61122,country:n,email:"jhonappleseed@gmail.com",subject:"Subject",message:"Hi!",privacy:!0,checkRequest:window.antiforgery,checkField:""})},r.reset=function(){this.form.reset()},r.onSubmit=function(t){var e=this,o=this.form;console.log("ContactModalComponent.onSubmit",o.value),o.valid?(o.submitted=!0,Nt.submit$(o.value).pipe(n.first()).subscribe((function(t){e.success=!0,o.reset(),Ht.push({event:"Contact",form_name:"Contatti"})}),(function(t){console.log("ContactModalComponent.error",t),e.error=t,e.pushChanges()}))):o.touched=!0},r.onClose=function(){H.reject()},i}(t.Component);zt.meta={selector:"[contact-modal]",inputs:["countryId"]};var Wt=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var e=t.getContext(this).node.getAttribute("open-modally"),o=document.querySelector(e);o&&(o=o.cloneNode(!0),this.click$(o).pipe(n.takeUntil(this.unsubscribe$)).subscribe())},r.click$=function(e){var i=t.getContext(this),r=i.node;i.module;return o.fromEvent(r,"click").pipe(n.tap((function(t){H.open$({src:_.template.modal.sideModal,data:{target:e}}).pipe(n.first()).subscribe((function(t){console.log("OpenModallyDirective.open$",t)}))})))},i}(t.Directive);Wt.meta={selector:"[open-modally]"};var Jt=function(){function t(){}return t.submit$=function(t){return _.flags.production?jt.post$("/product-request/submit",t):jt.get$("/contacts/submit.json")},t}(),Yt=function(o){function i(){return o.apply(this,arguments)||this}u(i,o);var r=i.prototype;return r.onInit=function(){var o=this,i=t.getContext(this).parentInstance;if(i instanceof B){var r=i.modal.data,s=r.id,a=r.productName;this.productName=a||this.productName,console.log("ProductRequestComponent.onInit",s,a)}this.error=null,this.success=!1;var l=this.form=new e.FormGroup({productName:new e.FormControl(this.productName),firstName:new e.FormControl(null,[e.Validators.RequiredValidator()]),lastName:new e.FormControl(null,[e.Validators.RequiredValidator()]),company:new e.FormControl(null,[e.Validators.RequiredValidator()]),email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),subject:new e.FormControl(null,[e.Validators.RequiredValidator()]),message:new e.FormControl(null,[e.Validators.RequiredValidator()]),privacy:new e.FormControl(null,[e.Validators.RequiredTrueValidator()]),checkRequest:window.antiforgery,checkField:""});this.controls=l.controls;l.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){o.pushChanges()}))},r.test=function(){var t=this.form;this.controls;t.patch({firstName:"Jhon",lastName:"Appleseed",company:"Websolute",email:"jhonappleseed@gmail.com",subject:"Subject",message:"Hi!",privacy:!0,checkRequest:window.antiforgery,checkField:""})},r.reset=function(){this.form.reset()},r.onSubmit=function(t){var e=this,o=this.form;console.log("ProductRequestComponent.onSubmit",o.value),o.valid?(o.submitted=!0,Jt.submit$(o.value).pipe(n.first()).subscribe((function(t){e.success=!0,o.reset(),Ht.push({event:"Product Request",form_name:"Product Request"})}),(function(t){console.log("ProductRequestComponent.error",t),e.error=t,e.pushChanges()}))):o.touched=!0},r.onClose=function(){H.reject()},i}(t.Component);Yt.meta={selector:"[product-request]",inputs:["productName"]};var Kt=function(){function t(){}return t.data$=function(){return _.flags.production?jt.get$("/sales/data"):jt.get$("/contacts/data.json")},t.submit$=function(t){return _.flags.production?jt.post$("/sales/submit",t):jt.get$("/contacts/submit.json")},t}(),Qt=function(o){function i(){return o.apply(this,arguments)||this}u(i,o);var r=i.prototype;return r.onInit=function(){var o=this,i=t.getContext(this).parentInstance;if(i instanceof B){var r=i.modal.data,s=r.id,a=r.productName;this.productName=a||this.productName;var l=r.countryOfInterestId;this.countryOfInterestId=l||this.countryOfInterestId,console.log("SalesModalComponent.onInit",s,a,l)}this.error=null,this.success=!1;var u=this.form=new e.FormGroup({productName:new e.FormControl(this.productName),countryOfInterest:new e.FormControl(this.countryOfInterestId),firstName:new e.FormControl(null,[e.Validators.RequiredValidator()]),lastName:new e.FormControl(null,[e.Validators.RequiredValidator()]),company:new e.FormControl(null,[e.Validators.RequiredValidator()]),address:new e.FormControl(null,[e.Validators.RequiredValidator()]),city:new e.FormControl(null,[e.Validators.RequiredValidator()]),zip:new e.FormControl(null,[e.Validators.RequiredValidator()]),country:new e.FormControl(null,[e.Validators.RequiredValidator()]),email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),subject:new e.FormControl(null,[e.Validators.RequiredValidator()]),message:new e.FormControl(null,[e.Validators.RequiredValidator()]),privacy:new e.FormControl(null,[e.Validators.RequiredTrueValidator()]),checkRequest:window.antiforgery,checkField:""});this.controls=u.controls;u.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){o.pushChanges()})),this.load$().pipe(n.first()).subscribe()},r.load$=function(){var t=this;return Kt.data$().pipe(n.tap((function(e){t.controls.country.options=Et.toSelectOptions(e.country.options),t.pushChanges()})))},r.test=function(){var t=this.form,e=this.controls,n=e.country.options.length>1?e.country.options[1].id:null;t.patch({firstName:"Jhon",lastName:"Appleseed",company:"Websolute",address:"Strada della Campanara, 15",city:"Pesaro",zip:61122,country:n,email:"jhonappleseed@gmail.com",subject:"Subject",message:"Hi!",privacy:!0,checkRequest:window.antiforgery,checkField:""})},r.reset=function(){this.form.reset()},r.onSubmit=function(t){var e=this,o=this.form;console.log("SalesModalComponent.onSubmit",o.value),o.valid?(o.submitted=!0,Kt.submit$(o.value).pipe(n.first()).subscribe((function(t){e.success=!0,o.reset(),Ht.push({event:"Sales",form_name:"Contatti"})}),(function(t){console.log("SalesModalComponent.error",t),e.error=t,e.pushChanges()}))):o.touched=!0},r.onClose=function(){H.reject()},i}(t.Component);Qt.meta={selector:"[sales-modal]",inputs:["productName","countryOfInterestId"]};var Zt=function(e){function i(){return e.apply(this,arguments)||this}u(i,e);var r=i.prototype;return r.onInit=function(){var e=t.getContext(this).parentInstance;if(e instanceof B){var n=e.modal.data;if(n.target){var o=t.getContext(this),i=o.node,r=o.module,s=i.querySelector(".side-modal__content");s.appendChild(n.target);this.instances=r.compile(s)}}},r.resize$=function(){var e=t.getContext(this).node,i=document.querySelector("header");return o.fromEvent(window,"resize").pipe(n.startWith((function(t){return null})),n.tap((function(t){e.style.top=i.offsetHeight+"px"})))},r.onClose=function(){H.reject()},i}(t.Component);Zt.meta={selector:"[side-modal]"};var Xt=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){this.options={slidesPerView:1,spaceBetween:300,speed:600,keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{prevEl:".btn--prev",nextEl:".btn--next"}},this.init_()},e}(ut);Xt.meta={selector:"[swiper-content]"};var te=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){var t=this;this.options={initialSlide:this.initialSlide,slidesPerView:1,spaceBetween:80,speed:600,keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{prevEl:".btn--gallery-prev",nextEl:".btn--gallery-next"}},this.init_(),setTimeout((function(){t.swiper.slideTo(t.initialSlide,0)}),100)},e}(ut);te.meta={selector:"[swiper-gallery]",inputs:["items","initialSlide"]};var ee=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){this.options={slidesPerView:1,spaceBetween:0,speed:600,autoplay:{delay:5e3},keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".main-hero__bullets",clickable:!0},navigation:{prevEl:".btn--up",nextEl:".btn--down"}},this.init_()},e}(ut);ee.meta={selector:"[swiper-main]"};var ne=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.onInit=function(){this.options={slidesPerView:1,spaceBetween:60,speed:600,autoplay:{delay:5e3},keyboardControl:!0,mousewheelControl:!1,keyboard:{enabled:!0,onlyInViewport:!0}},this.init_()},e}(ut);ne.meta={selector:"[swiper-toolkit]"};var oe=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var n=e.prototype;return n.onInit=function(){this.showDetail=!1},n.onDetailToggle=function(){this.showDetail=!this.showDetail,this.pushChanges()},e}(t.Component);oe.meta={selector:"error-component",inputs:["error"],template:'\n\t<div class="error" (click)="onDetailToggle($event)">\n\t\t<div class="status">Error <span [innerHTML]="error.status"></span></div>\n\t\t<div class="exception-message" [innerHTML]="error.exceptionMessage"></div>\n\t\t<button type="button" class="btn--detail"><svg class="caret-down"><use xlink:href="#caret-down"></use></svg></button>\n\t</div>\n\t<div class="error-details" *if="showDetail">\n\t\t<div class="message" [innerHTML]="error.message"></div>\n\t\t<div class="exception-type" [innerHTML]="error.exceptionType"></div>\n\t\t<div class="stack-trace" [innerHTML]="error.stackTrace"></div>\n\t</div>\n\t'};var ie=function(){function t(){}return t.setMenu=function(t){this.menu$_.next(t)},t.toggleMenu=function(t){this.menu$_.next(this.currentMenu===t?-1:t)},t.onBack=function(){this.menu$_.next(-1)},t.menu$=function(){return this.menu$_},a(t,null,[{key:"currentMenu",get:function(){return this.menu$_.getValue()}}]),t}();l(ie,"menu$_",new o.BehaviorSubject(-1));var re=function(){function t(){}return t.setHeader=function(t){this.header$_.next(t)},t.toggleHeader=function(t){this.header$_.next(this.currentHeader===t?-1:t)},t.onBack=function(){this.header$_.next(-1)},t.header$=function(){return this.header$_},a(t,null,[{key:"currentHeader",get:function(){return this.header$_.getValue()}}]),t}();l(re,"header$_",new o.BehaviorSubject(-1));var se=function(e){function o(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return l(p(t=e.call.apply(e,[this].concat(o))||this),"direction_",null),l(p(t),"scrolled_",null),t}u(o,e);var i=o.prototype;return i.onInit=function(){var t=this,e=document.querySelector("body");this.header=re.currentHeader,re.header$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(n){t.header=n,t.pushChanges(),e.setAttribute("class",-1!==n?n+"-active":"")})),this.menu=ie.currentMenu,ie.menu$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.menu=e,t.pushChanges()})),d.scroll$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.direction=e.direction,t.scrolled=e.scroll.y>100}))},i.onToggle=function(t){ie.onBack(),re.toggleHeader(t)},i.onMenu=function(t){ie.setMenu(t)},i.onBack=function(t){ie.onBack()},a(o,[{key:"direction",get:function(){return this.direction_},set:function(e){if(this.direction_!==e){var n=t.getContext(this).node;n.classList.remove("scrolling-"+this.direction_),n.classList.add("scrolling-"+e),this.direction_=e}}},{key:"scrolled",get:function(){return this.scrolled_},set:function(e){if(this.scrolled_!==e){this.scrolled_=e;var n=t.getContext(this).node;e?n.classList.add("scrolled"):n.classList.remove("scrolled")}}}]),o}(t.Component);se.meta={selector:"[header]"};var ae=function(t){function o(){return t.apply(this,arguments)||this}u(o,t);var i=o.prototype;return i.onInit=function(){var t=this,o=this.form=new e.FormGroup({email:new e.FormControl(null,[e.Validators.RequiredValidator()])});this.controls=o.controls;o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges()}))},i.onNewsletter=function(t){console.log("NewsletterPropositionComponent.onNewsletter",this.form.value);var e=Ot.encode("email",this.form.value.email,{});window.location.href=this.action+"?params="+e},o}(t.Component);ae.meta={selector:"[newsletter-proposition]",inputs:["action"]};var le=function(e){function n(){return e.apply(this,arguments)||this}return u(n,e),n.prototype.onInit=function(){var e=this,n=t.getContext(this).node,o=!1,i=function(){n.style.clipPath=o?e.overPath:e.path};i(),window.addEventListener("resize",i),n.addEventListener("mouseover",(function(){o=!0,gsap.to(n,{duration:.5,ease:Elastic.easeOut,"clip-path":e.overPath})})),n.addEventListener("mouseout",(function(){o=!1,gsap.to(n,{duration:.5,ease:Elastic.easeOut,"clip-path":e.path})}))},a(n,[{key:"path",get:function(){var t=window.innerHeight;return"path('M0,0 L40,0 C40,"+.25*t+",40,"+.75*t+",40,"+t+" L40,"+t+" L0,"+t+" L0,0 Z')"}},{key:"overPath",get:function(){var t=window.innerHeight;return"path('M0,0 L40,0 C60,"+.25*t+",60,"+.75*t+",40,"+t+" L40,"+t+" L0,"+t+" L0,0 Z')"}}]),n}(t.Component);le.meta={selector:"[switch]"};var ue=function(){function t(){}return t.delete=function(t){this.isSessionStorageSupported()&&window.sessionStorage.removeItem(t)},t.exist=function(t){if(this.isSessionStorageSupported())return void 0!==window.sessionStorage[t]},t.get=function(t){var e=null;if(this.isSessionStorageSupported()&&void 0!==window.sessionStorage[t])try{e=JSON.parse(window.sessionStorage[t])}catch(e){console.log("SessionStorageService.get.error parsing",t,e)}return e},t.set=function(t,e){if(this.isSessionStorageSupported())try{var n=[],o=JSON.stringify(e,(function(t,e){if("object"==typeof e&&null!==e){if(-1!==n.indexOf(e))return;n.push(e)}return e}));window.sessionStorage.setItem(t,o)}catch(n){console.log("SessionStorageService.set.error serializing",t,e,n)}},t.isSessionStorageSupported=function(){if(this.supported)return!0;var t=!1;try{(t="sessionStorage"in window&&null!==window.sessionStorage)?(window.sessionStorage.setItem("test","1"),window.sessionStorage.removeItem("test")):t=!1}catch(e){t=!1}return this.supported=t,t},t}(),ce={SIGN_IN:1,SIGN_UP:2,FORGOTTEN:3,EDIT:4},pe=function(){function t(t){t&&Object.assign(this,t)}return a(t,[{key:"shortName",get:function(){return(this.firstName||"?").substr(0,1).toUpperCase()+(this.lastName||"?").substr(0,1).toUpperCase()}},{key:"fullName",get:function(){return this.firstName+" "+this.lastName}}]),t}(),de=function(){function t(){}return t.setUser=function(t){t?ue.set("user",t):ue.delete("user"),this.user$_.next(t)},t.data$=function(){return _.flags.production?jt.get$("/aquafil/user/data"):jt.get$("/user/data.json")},t.forgot$=function(t){return _.flags.production?jt.post$("/aquafil/user/forgot",t):jt.get$("/user/forgot.json")},t.me$=function(){var e=this;return t.busyMe?this.user$_:(t.busyMe=!0,o.of(1).pipe(n.switchMap((function(t){if(_.flags.production)return jt.get$("/aquafil/user/me");var e=ue.get("user");return e?o.of(e):jt.get$("/user/me.json")})),n.map((function(t){return console.log("UserService.user$",t),e.mapUser(t)})),n.catchError((function(t){return o.of(null)})),n.switchMap((function(t){return e.setUser(t),e.user$_}))))},t.signin$=function(t){var e=this;return(_.flags.production?jt.post$("/aquafil/user/signin",t):jt.get$("/user/signin.json")).pipe(n.map((function(t){return e.mapUser(t)})),n.tap((function(t){return e.setUser(t)})))},t.signout$=function(){var t=this;return(_.flags.production?jt.post$("/aquafil/user/signout"):jt.get$("/user/signout.json")).pipe(n.tap((function(e){return t.setUser(null)})))},t.signup$=function(t){var e=this;return(_.flags.production?jt.post$("/aquafil/user/signup",t):jt.get$("/user/signup.json")).pipe(n.map((function(t){return t.user=e.mapUser(t.user),t})),n.tap((function(t){return e.setUser(t.user)})))},t.edit$=function(t){var e=this;return(_.flags.production?jt.post$("/aquafil/user/edit",t):jt.get$("/user/edit.json")).pipe(n.map((function(t){return t.user=e.mapUser(t.user),t})),n.tap((function(t){return e.setUser(t.user)})))},t.editPassword$=function(t){return _.flags.production?jt.post$("/aquafil/user/edit-password",t):jt.get$("/user/edit-password.json")},t.accessData$=function(t){return _.flags.production?jt.post$("/aquafil/user/access-data",t):jt.get$("/user/access-data.json")},t.delete$=function(t){return _.flags.production?jt.post$("/aquafil/user/delete",t):jt.get$("/user/delete.json")},t.gdpr$=function(){return _.flags.production?jt.get$("/aquafil/user/gdpr"):jt.get$("/user/gdpr.json")},t.tryFacebook$=function(t){return o.of(null)},t.tryGoogle$=function(t){return o.of(null)},t.tryLinkedin$=function(t){return o.of(null)},t.sessionStorage$=function(){return o.of(ue.get("user")||null)},t.mapUser=function(t){return t?new pe(t):null},t.mapUsers=function(e){return e?e.map((function(e){return t.mapUser(e)})):[]},a(t,null,[{key:"currentUser",get:function(){return this.user$_.getValue()}}]),t}();l(de,"user$_",new o.BehaviorSubject(null));var he=function(t){function o(){return t.apply(this,arguments)||this}u(o,t);var i=o.prototype;return i.onInit=function(){var t=this;this.error=null,this.success=!1;var o=this.form=new e.FormGroup({email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),password:new e.FormControl(null,e.Validators.RequiredValidator()),checkRequest:window.antiforgery,checkField:""});this.controls=o.controls;o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges(),F.update()})),de.me$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){t&&o.patch({email:t.email},!0)}))},i.onSubmit=function(){var t=this,e=this.form;console.log("UserDeleteComponent.onSubmit",e.value),e.valid?(e.submitted=!0,de.delete$(e.value).pipe(n.first(),n.switchMap((function(t){return de.signout$()}))).subscribe((function(n){console.log("UserDeleteComponent.onSubmit",n),t.success=!0,Ht.push({event:"AccessData",form_name:"AccessData"}),e.reset()}),(function(n){console.log("UserDeleteComponent.error",n),t.error=n,e.submitted=!1,t.pushChanges(),F.update()}))):e.touched=!0},o}(t.Component);he.meta={selector:"[user-delete]"};var fe=function(t){function e(){return t.apply(this,arguments)||this}u(e,t);var i=e.prototype;return i.onInit=function(){var t=this;this.countries=[],this.occupations=[],this.newsletterLanguages=[],this.gdpr=[],de.me$().pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.user=e,t.pushChanges()})),this.load$().pipe(n.first(),n.takeUntil(this.unsubscribe$)).subscribe()},i.load$=function(){var t=this;return o.combineLatest([de.data$(),de.gdpr$()]).pipe(n.tap((function(e){var n=e[0];t.countries=n.country.options,t.occupations=n.occupation.options,t.newsletterLanguages=n.newsletterLanguage.options;var o=e[1];t.gdpr=o,t.pushChanges()})))},i.onModalUserUpdate=function(t){H.open$({src:_.template.modal.userModal,data:{view:4}}).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){}))},i.onModalGdpr=function(t){H.open$({src:_.template.modal.genericModal,data:{title:t.title,description:t.description}}).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){}))},a(e,[{key:"countryName",get:function(){var t=this,e=null;if(this.user&&this.countries.length){var n=this.countries.find((function(e){return e.value===t.user.country}));n&&(e=n.label)}return e}},{key:"occupationName",get:function(){var t=this,e=null;if(this.user&&this.occupations.length){var n=this.occupations.find((function(e){return e.value===t.user.occupation}));n&&(e=n.label)}return e}},{key:"newsletterLanguageName",get:function(){var t=this,e=null;if(this.user&&this.newsletterLanguages.length){var n=this.newsletterLanguages.find((function(e){return e.value===t.user.newsletterLanguage}));n&&(e=n.label)}return e}}]),e}(t.Component);fe.meta={selector:"[user-detail]"};var me=function(t){function o(){return t.apply(this,arguments)||this}u(o,t);var i=o.prototype;return i.onInit=function(){var t=this;this.error=null,this.success=!1;var o=this.form=new e.FormGroup({tokenEncoded:this.tokenEncoded,email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),password:new e.FormControl(null,e.Validators.RequiredValidator()),checkRequest:window.antiforgery,checkField:""});this.controls=o.controls;o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges(),F.update()}))},i.onSubmit=function(){var t=this,e=this.form;console.log("UserEditPasswordComponent.onSubmit",e.value),e.valid?(e.submitted=!0,de.editPassword$(e.value).pipe(n.first(),n.switchMap((function(t){return de.signout$()}))).subscribe((function(n){console.log("UserEditPasswordComponent.onSubmit",n),t.success=!0,Ht.push({event:"EditPassword",form_name:"EditPassword"}),e.reset()}),(function(n){console.log("UserEditPasswordComponent.error",n),t.error=n,e.submitted=!1,t.pushChanges(),F.update()}))):e.touched=!0},o}(t.Component);function ge(t,n,o){return new e.FormValidator((function(e){var i=null;return"function"==typeof n?i=n().get(t):n&&(i=n.get(t)),!e&&i&&(null!=o?i.value===o:null!=i.value)?{required:{value:e,requiredIf:t}}:null}))}me.meta={selector:"[user-edit-password]",inputs:["tokenEncoded"]};var ve=function(t){function i(){return t.apply(this,arguments)||this}u(i,t);var r=i.prototype;return r.onInit=function(){var t=this;this.user=null,this.error=null,this.success=!1,this.responseMessage=null;var o=this.form=new e.FormGroup({firstName:new e.FormControl(null,[e.Validators.RequiredValidator()]),lastName:new e.FormControl(null,[e.Validators.RequiredValidator()]),country:new e.FormControl(null,[e.Validators.RequiredValidator()]),city:new e.FormControl(null,[e.Validators.RequiredValidator()]),company:new e.FormControl(null),occupation:new e.FormControl(null,[e.Validators.RequiredValidator()]),email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),privacy:new e.FormControl(null,[e.Validators.RequiredTrueValidator()]),newsletter:new e.FormControl(null,[e.Validators.RequiredValidator()]),commercial:new e.FormControl(null,[e.Validators.RequiredValidator()]),promotion:new e.FormControl(null,[e.Validators.RequiredValidator()]),newsletterLanguage:new e.FormControl(null,[ge("newsletter",o)]),checkRequest:window.antiforgery,checkField:""});this.controls=o.controls;o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges(),F.update()})),this.load$().pipe(n.first(),n.takeUntil(this.unsubscribe$)).subscribe()},r.load$=function(){var t=this;return o.combineLatest([de.data$(),de.me$()]).pipe(n.tap((function(e){var n=e[0],o=t.controls;o.country.options=Et.toSelectOptions(n.country.options),o.occupation.options=Et.toSelectOptions(n.occupation.options),o.newsletterLanguage.options=Et.toSelectOptions(n.newsletterLanguage.options);var i=e[1];(t.user=i,i)&&t.form.patch(i,!0);t.pushChanges()})))},r.test=function(){var t=this.form,e=this.controls,n=e.country.options.length>1?e.country.options[1].id:null,o=e.occupation.options.length>1?e.occupation.options[1].id:null;t.patch({firstName:"Jhon",lastName:"Appleseed",country:n,city:"Pesaro",company:"Websolute",occupation:o,email:"jhonappleseed@gmail.com",privacy:!0})},r.reset=function(){this.form.reset()},r.onSubmit=function(){var t=this;this.responseMessage=null;var e=this.form;console.log("UserEditComponent.onSubmit",e.value),e.valid?(e.submitted=!0,de.edit$(e.value).pipe(n.first()).subscribe((function(n){console.log("UserEditComponent.onSubmit",n),t.responseMessage=n.responseMessage,t.success=!0,e.reset()}),(function(n){console.log("UserEditComponent.error",n),t.error=n,e.submitted=!1,t.pushChanges(),F.update()}))):e.touched=!0},i}(t.Component);ve.meta={selector:"[user-edit]"};var be=function(t){function o(){return t.apply(this,arguments)||this}u(o,t);var i=o.prototype;return i.onInit=function(){var t=this;this.error=null,this.success=!1;var o=this.form=new e.FormGroup({email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),checkRequest:window.antiforgery,checkField:""});this.controls=o.controls;o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges(),F.update()}))},i.test=function(){this.form.patch({email:"jhonappleseed@gmail.com"})},i.reset=function(){this.form.reset()},i.onSubmit=function(){var t=this,e=this.form;console.log("UserForgotComponent.onSubmit",e.value),e.valid?(e.submitted=!0,de.forgot$(e.value).pipe(n.first()).subscribe((function(n){console.log("UserForgotComponent.onSubmit",n),t.success=!0,Ht.push({event:"Forgot",form_name:"Recupero Password"}),e.reset(),t.forgot.next(!0)}),(function(n){console.log("UserForgotComponent.error",n),t.error=n,e.submitted=!1,t.pushChanges(),F.update()}))):e.touched=!0},i.onSignIn=function(){this.viewSignIn.next()},i.onSignUp=function(){this.viewSignUp.next()},o}(t.Component);be.meta={selector:"[user-forgot]",outputs:["forgot","viewSignIn","viewSignUp"]};var ye=function(e){function o(){return e.apply(this,arguments)||this}u(o,e);var i=o.prototype;return i.onInit=function(){this.views=ce,this.view=this.view||ce.SIGN_UP},i.onModalSignIn=function(t){H.open$({src:_.template.modal.userModal,data:{view:1}}).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){console.log("UserComponent.onModalSignIn",t)}))},i.onModalSignUp=function(t){H.open$({src:_.template.modal.userModal,data:{view:2,skipAutoClose:!0}}).pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(t){console.log("UserComponent.onModalSignUp",t)}))},i.setView=function(e){this.view=e,this.pushChanges();var n=t.getContext(this).node;F.scrollTo(n,{offset:-100})},i.onViewSignIn=function(t){this.setView(ce.SIGN_IN)},i.onViewSignUp=function(t){this.setView(ce.SIGN_UP)},i.onViewForgot=function(t){this.setView(ce.FORGOTTEN)},i.onSignIn=function(t){console.log("UserComponent.onSignIn",t),de.setUser(t),this.navTo&&(window.location.href=this.navTo)},i.onSignUp=function(t){console.log("UserComponent.onSignUp",t),de.setUser(t),this.navTo&&(window.location.href=this.navTo)},i.onForgot=function(t){},o}(t.Component);ye.meta={selector:"[user]",inputs:["navTo","view"]};var we=function(e){function n(){return e.apply(this,arguments)||this}u(n,e);var o=n.prototype;return o.onInit=function(){e.prototype.onInit.call(this);var n=t.getContext(this).parentInstance;if(n instanceof B){var o=n.modal.data;this.view=o.view,this.me=o.me,this.skipAutoClose=o.skipAutoClose}F.stop()},o.setView=function(e){this.view=e,this.pushChanges();var n=t.getContext(this).node;(window.innerWidth>=1024?n.querySelector(".modal__inner"):n).scrollTo(0,0)},o.onViewForgot=function(){console.log("UserModalComponent.onViewForgot"),this.setView(ce.FORGOTTEN)},o.onViewSignIn=function(){console.log("UserModalComponent.onViewSignIn"),this.setView(ce.SIGN_IN)},o.onViewSignUp=function(){console.log("UserModalComponent.onViewSignUp"),this.setView(ce.SIGN_UP)},o.onClose=function(){H.reject()},o.onSignUp=function(t){this.skipAutoClose||H.resolve(t)},o.onSignIn=function(t){H.resolve(t)},o.onDestroy=function(){F.start()},n}(ye);we.meta={selector:"[user-modal]"};var Ce=function(t){function o(){return t.apply(this,arguments)||this}u(o,t);var i=o.prototype;return i.onInit=function(){var t=this;this.error=null,this.success=!1;var o=this.form=new e.FormGroup({email:new e.FormControl(null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),password:new e.FormControl(null,e.Validators.RequiredValidator()),checkRequest:window.antiforgery,checkField:""});this.controls=o.controls;o.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges(),F.update()}))},i.test=function(){this.form.patch({email:"jhonappleseed@gmail.com",password:"********"})},i.reset=function(){this.form.reset()},i.onSubmit=function(){var t=this,e=this.form;console.log("UserSigninComponent.onSubmit",e.value),e.valid?(e.submitted=!0,de.signin$(e.value).pipe(n.first()).subscribe((function(n){console.log("UserSigninComponent.onSubmit",n),t.success=!0,Ht.push({event:"Signin",form_name:"Login"}),e.reset(),t.signIn.next(n)}),(function(n){console.log("UserSigninComponent.error",n),t.error=n,e.submitted=!1,t.pushChanges(),F.update()}))):e.touched=!0},i.onForgot=function(t){this.viewForgot.next()},i.onSignUp=function(t){this.viewSignUp.next()},o}(t.Component);Ce.meta={selector:"[user-signin]",outputs:["signIn","viewForgot","viewSignUp"]};var ke=function(t){function o(){return t.apply(this,arguments)||this}u(o,t);var i=o.prototype;return i.onInit=function(){var t=this;this.me=this.me||{},this.user=this.user||null,this.error=null,this.success=!1,this.responseMessage=null;var o,i,r=this.form=new e.FormGroup({firstName:new e.FormControl(this.me.firstName||null,[e.Validators.RequiredValidator()]),lastName:new e.FormControl(this.me.lastName||null,[e.Validators.RequiredValidator()]),country:new e.FormControl(null,[e.Validators.RequiredValidator()]),city:new e.FormControl(null,[e.Validators.RequiredValidator()]),company:new e.FormControl(null),occupation:new e.FormControl(null,[e.Validators.RequiredValidator()]),email:new e.FormControl(this.me.email||null,[e.Validators.RequiredValidator(),e.Validators.EmailValidator()]),password:new e.FormControl(null,[e.Validators.RequiredValidator()]),passwordConfirm:new e.FormControl(null,[e.Validators.RequiredValidator(),(o="password",i=r,new e.FormValidator((function(t){var e=i?i.get(o):null;return t&&e&&t!==e.value?{match:{value:t,match:e.value}}:null})))]),privacy:new e.FormControl(null,[e.Validators.RequiredTrueValidator()]),newsletter:new e.FormControl(null,[e.Validators.RequiredValidator()]),commercial:new e.FormControl(null,[e.Validators.RequiredValidator()]),promotion:new e.FormControl(null,[e.Validators.RequiredValidator()]),newsletterLanguage:new e.FormControl(null,[ge("newsletter",r)]),checkRequest:window.antiforgery,checkField:""});this.controls=r.controls;r.changes$.pipe(n.takeUntil(this.unsubscribe$)).subscribe((function(e){t.pushChanges(),F.update()})),this.load$().pipe(n.first(),n.takeUntil(this.unsubscribe$)).subscribe()},i.load$=function(){var t=this;return de.data$().pipe(n.tap((function(e){var n=t.controls;n.country.options=Et.toSelectOptions(e.country.options),n.occupation.options=Et.toSelectOptions(e.occupation.options),n.newsletterLanguage.options=Et.toSelectOptions(e.newsletterLanguage.options),t.pushChanges()})))},i.test=function(){var t=this.form,e=this.controls,n=e.country.options.length>1?e.country.options[1].id:null,o=e.occupation.options.length>1?e.occupation.options[1].id:null;t.patch({firstName:"Jhon",lastName:"Appleseed",country:n,city:"Pesaro",company:"Websolute",occupation:o,email:"jhonappleseed@gmail.com",password:"********",passwordConfirm:"********",privacy:!0,newsletter:!1,commercial:!1,promotion:!1})},i.reset=function(){this.form.reset()},i.onSubmit=function(){var t=this;this.responseMessage=null;var e=this.form;console.log("UserSignupComponent.onSubmit",e.value),e.valid?(e.submitted=!0,de.signup$(e.value).pipe(n.first()).subscribe((function(n){console.log("UserSignupComponent.onSubmit",n),t.responseMessage=n.responseMessage,t.success=!0,Ht.push({event:"Registration",form_name:"Registrazione"}),e.reset(),t.signUp.next(n.user)}),(function(n){console.log("UserSignupComponent.error",n),t.error=n,e.submitted=!1,t.pushChanges(),F.update()}))):e.touched=!0},i.onSignIn=function(){this.viewSignIn.next()},o}(t.Component);ke.meta={selector:"[user-signup]",outputs:["signUp","viewSignIn"],inputs:["me","user"]};var $e=[oe,se,ae,Xt,te,ee,ne,le,ye,he,ve,me,be,we,fe,Ce,ke],xe=[],Se=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(t.Module);Se.meta={imports:[],declarations:[].concat($e,xe),exports:[].concat($e,xe)};var Ie=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e}(t.Module);Ie.meta={imports:[t.CoreModule,e.FormModule,vt,Ut,Se],declarations:[Gt,zt,Rt,Dt,Wt,Yt,Qt,Zt],bootstrap:h},t.Browser.bootstrap(Ie),[].forEach.call(document.getElementsByClassName("page--investors__accordion-title"),(function(t){t.addEventListener("click",(function(){this.parentElement.classList.toggle("open")}))}))}));
//# sourceMappingURL=main.min.js.map